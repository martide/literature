(()=>{var Or=Object.create;var Ln=Object.defineProperty;var Ir=Object.getOwnPropertyDescriptor;var Ar=Object.getOwnPropertyNames;var Lr=Object.getPrototypeOf,Rr=Object.prototype.hasOwnProperty;var rt=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports);var Mr=(t,r,e,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of Ar(r))!Rr.call(t,i)&&i!==e&&Ln(t,i,{get:()=>r[i],enumerable:!(n=Ir(r,i))||n.enumerable});return t};var it=(t,r,e)=>(e=t!=null?Or(Lr(t)):{},Mr(r||!t||!t.__esModule?Ln(e,"default",{value:t,enumerable:!0}):e,t));var ur=rt((jt,hn)=>{(function(t,r){typeof jt=="object"&&typeof hn=="object"?hn.exports=r():typeof define=="function"&&define.amd?define([],r):typeof jt=="object"?jt.EditorJS=r():t.EditorJS=r()})(window,function(){return function(t){var r={};function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=r,e.d=function(n,i,a){e.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:a})},e.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,i){if(1&i&&(n=e(n)),8&i||4&i&&typeof n=="object"&&n&&n.__esModule)return n;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),2&i&&typeof n!="string")for(var o in n)e.d(a,o,function(s){return n[s]}.bind(null,o));return a},e.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(i,"a",i),i},e.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},e.p="",e(e.s=187)}([function(t,r,e){var n=e(10),i=e(17),a=e(27),o=e(23),s=e(31),l=function(u,c,d){var f,g,y,h,p=u&l.F,m=u&l.G,b=u&l.S,v=u&l.P,k=u&l.B,S=m?n:b?n[c]||(n[c]={}):(n[c]||{}).prototype,O=m?i:i[c]||(i[c]={}),R=O.prototype||(O.prototype={});for(f in m&&(d=c),d)y=((g=!p&&S&&S[f]!==void 0)?S:d)[f],h=k&&g?s(y,n):v&&typeof y=="function"?s(Function.call,y):y,S&&o(S,f,y,u&l.U),O[f]!=y&&a(O,f,h),v&&R[f]!=y&&(R[f]=y)};n.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,r){t.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(t,r){t.exports=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t,r){function e(n,i){for(var a=0;a<i.length;a++){var o=i[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}t.exports=function(n,i,a){return i&&e(n.prototype,i),a&&e(n,a),n}},function(t,r){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},e(n)}t.exports=e},function(t,r,e){var n=e(110);t.exports=function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&n(i,a)}},function(t,r,e){var n=e(59),i=e(152);t.exports=function(a,o){return!o||n(o)!=="object"&&typeof o!="function"?i(a):o}},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(20),e(371),e(21),e(403),e(14)],(a=typeof(n=function(o,s,l,u,c,d){"use strict";var f,g=e(1);function y(T,x){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"log",I=arguments.length>3?arguments[3]:void 0,B=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"color: inherit";if("console"in window&&window.console[w]){var E=["info","log","warn","error"].includes(w),_=[];switch(y.logLevel){case f.ERROR:if(w!=="error")return;break;case f.WARN:if(!["error","warn"].includes(w))return;break;case f.INFO:if(!E||T)return}I&&_.push(I);var C="Editor.js ".concat("2.25.0"),A=`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;T&&(E?(_.unshift(A,B),x="%c".concat(C,"%c ").concat(x)):x="( ".concat(C," )").concat(x));try{if(E)if(I){var D;(D=console)[w].apply(D,["".concat(x," %o")].concat(_))}else{var P;(P=console)[w].apply(P,[x].concat(_))}else console[w](x)}catch{}}}Object.defineProperty(o,"__esModule",{value:!0}),o.setLogLevel=function(T){y.logLevel=T},o.typeOf=m,o.isFunction=b,o.isObject=v,o.isString=function(T){return m(T)==="string"},o.isBoolean=function(T){return m(T)==="boolean"},o.isNumber=function(T){return m(T)==="number"},o.isUndefined=k,o.isClass=function(T){return b(T)&&/^\s*class\s+/.test(T.toString())},o.isEmpty=function(T){return!T||Object.keys(T).length===0&&T.constructor===Object},o.isPromise=function(T){return Promise.resolve(T)===T},o.isPrintableKey=function(T){return T>47&&T<58||T===32||T===13||T===229||T>64&&T<91||T>95&&T<112||T>185&&T<193||T>218&&T<223},o.sequence=function(T){return S.apply(this,arguments)},o.array=function(T){return Array.prototype.slice.call(T)},o.delay=function(T,x){return function(){var w=this,I=arguments;window.setTimeout(function(){return T.apply(w,I)},x)}},o.getFileExtension=function(T){return T.name.split(".").pop()},o.isValidMimeType=function(T){return/^[-\w]+\/([-+\w]+|\*)$/.test(T)},o.debounce=function(T,x,w){var I,B=this;return function(){for(var E=arguments.length,_=new Array(E),C=0;C<E;C++)_[C]=arguments[C];var A=B,D=function(){I=null,w||T.apply(A,_)},P=w&&!I;window.clearTimeout(I),I=window.setTimeout(D,x),P&&T.apply(A,_)}},o.throttle=function(T,x){var w,I,B,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,_=null,C=0;E||(E={});var A=function(){C=E.leading===!1?0:Date.now(),_=null,B=T.apply(w,I),_||(w=I=null)};return function(){var D=Date.now();C||E.leading!==!1||(C=D);var P=x-(D-C);return w=this,I=arguments,P<=0||P>x?(_&&(clearTimeout(_),_=null),C=D,B=T.apply(w,I),_||(w=I=null)):_||E.trailing===!1||(_=setTimeout(A,P)),B}},o.copyTextToClipboard=function(T){var x=d.default.make("div","codex-editor-clipboard",{innerHTML:T});document.body.appendChild(x);var w=window.getSelection(),I=document.createRange();I.selectNode(x),window.getSelection().removeAllRanges(),w.addRange(I),document.execCommand("copy"),document.body.removeChild(x)},o.getUserOS=O,o.capitalize=function(T){return T[0].toUpperCase()+T.slice(1)},o.deepMerge=function T(x){for(var w=arguments.length,I=new Array(w>1?w-1:0),B=1;B<w;B++)I[B-1]=arguments[B];if(!I.length)return x;var E=I.shift();if(v(x)&&v(E))for(var _ in E)v(E[_])?(x[_]||Object.assign(x,(0,l.default)({},_,{})),T(x[_],E[_])):Object.assign(x,(0,l.default)({},_,E[_]));return T.apply(void 0,[x].concat(I))},o.beautifyShortcut=function(T){var x=O();return T=T.replace(/shift/gi,"\u21E7").replace(/backspace/gi,"\u232B").replace(/enter/gi,"\u23CE").replace(/up/gi,"\u2191").replace(/left/gi,"\u2192").replace(/down/gi,"\u2193").replace(/right/gi,"\u2190").replace(/escape/gi,"\u238B").replace(/insert/gi,"Ins").replace(/delete/gi,"\u2421").replace(/\+/gi," + "),T=x.mac?T.replace(/ctrl|cmd/gi,"\u2318").replace(/alt/gi,"\u2325"):T.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN")},o.getValidUrl=function(T){try{return new URL(T).href}catch{}return T.substring(0,2)==="//"?window.location.protocol+T:window.location.origin+T},o.generateBlockId=function(){return(0,c.nanoid)(10)},o.openTab=function(T){window.open(T,"_blank")},o.generateId=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return"".concat(T).concat(Math.floor(1e8*Math.random()).toString(16))},o.deprecationAssert=function(T,x,w){var I="\xAB".concat(x,"\xBB is deprecated and will be removed in the next major release. Please use the \xAB").concat(w,"\xBB instead.");T&&p(I,"warn")},o.cacheable=function(T,x,w){var I=w.value?"value":"get",B=w[I],E="#".concat(x,"Cache");if(w[I]=function(){if(this[E]===void 0){for(var C=arguments.length,A=new Array(C),D=0;D<C;D++)A[D]=arguments[D];this[E]=B.apply.apply(B,[this].concat(A))}return this[E]},I==="get"&&w.set){var _=w.set;w.set=function(C){delete T[E],_.apply(this,C)}}return w},o.isMobileScreen=function(){return window.matchMedia("(max-width: 650px)").matches},o.equals=function(T,x){var w=Array.isArray(T)||v(T),I=Array.isArray(x)||v(x);return w||I?JSON.stringify(T)===JSON.stringify(x):T===x},o.isIosDevice=o.isTouchSupported=o.logLabeled=o.log=o.mouseButtons=o.keyCodes=o.LogLevels=void 0,s=g(s),l=g(l),u=g(u),d=g(d),o.LogLevels=f,function(T){T.VERBOSE="VERBOSE",T.INFO="INFO",T.WARN="WARN",T.ERROR="ERROR"}(f||(o.LogLevels=f={})),o.keyCodes={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91},o.mouseButtons={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4},y.logLevel=f.VERBOSE;var h=y.bind(window,!1);o.log=h;var p=y.bind(window,!0);function m(T){return Object.prototype.toString.call(T).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function b(T){return m(T)==="function"||m(T)==="asyncfunction"}function v(T){return m(T)==="object"}function k(T){return m(T)==="undefined"}function S(){return(S=(0,u.default)(s.default.mark(function T(x){var w,I,B,E,_=arguments;return s.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return E=function(){return(E=(0,u.default)(s.default.mark(function A(D,P,M){return s.default.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.prev=0,N.next=3,D.function(D.data);case 3:return N.next=5,P(k(D.data)?{}:D.data);case 5:N.next=10;break;case 7:N.prev=7,N.t0=N.catch(0),M(k(D.data)?{}:D.data);case 10:case"end":return N.stop()}},A,null,[[0,7]])}))).apply(this,arguments)},B=function(A,D,P){return E.apply(this,arguments)},w=_.length>1&&_[1]!==void 0?_[1]:function(){},I=_.length>2&&_[2]!==void 0?_[2]:function(){},C.abrupt("return",x.reduce(function(){var A=(0,u.default)(s.default.mark(function D(P,M){return s.default.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,P;case 2:return N.abrupt("return",B(M,w,I));case 3:case"end":return N.stop()}},D)}));return function(D,P){return A.apply(this,arguments)}}(),Promise.resolve()));case 5:case"end":return C.stop()}},T)}))).apply(this,arguments)}function O(){var T={win:!1,mac:!1,x11:!1,linux:!1},x=Object.keys(T).find(function(w){return navigator.appVersion.toLowerCase().indexOf(w)!==-1});return x&&(T[x]=!0),T}o.logLabeled=p;var R="ontouchstart"in document.documentElement;o.isTouchSupported=R;var L=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);o.isIosDevice=L})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n=e(59);function i(){if(typeof WeakMap!="function")return null;var a=new WeakMap;return i=function(){return a},a}t.exports=function(a){if(a&&a.__esModule)return a;if(a===null||n(a)!=="object"&&typeof a!="function")return{default:a};var o=i();if(o&&o.has(a))return o.get(a);var s={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in a)if(Object.prototype.hasOwnProperty.call(a,u)){var c=l?Object.getOwnPropertyDescriptor(a,u):null;c&&(c.get||c.set)?Object.defineProperty(s,u,c):s[u]=a[u]}return s.default=a,o&&o.set(a,s),s}},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(111)],(a=typeof(n=function(o,s,l,u){"use strict";var c=e(1);function d(y){if(typeof Symbol>"u"||y[Symbol.iterator]==null){if(Array.isArray(y)||(y=function(S,O){if(S){if(typeof S=="string")return f(S,O);var R=Object.prototype.toString.call(S).slice(8,-1);return R==="Object"&&S.constructor&&(R=S.constructor.name),R==="Map"||R==="Set"?Array.from(R):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?f(S,O):void 0}}(y))){var h=0,p=function(){};return{s:p,n:function(){return h>=y.length?{done:!0}:{done:!1,value:y[h++]}},e:function(S){throw S},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,b,v=!0,k=!1;return{s:function(){m=y[Symbol.iterator]()},n:function(){var S=m.next();return v=S.done,S},e:function(S){k=!0,b=S},f:function(){try{v||m.return==null||m.return()}finally{if(k)throw b}}}}function f(y,h){(h==null||h>y.length)&&(h=y.length);for(var p=0,m=new Array(h);p<h;p++)m[p]=y[p];return m}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=c(s),l=c(l),u=c(u);var g=function(){function y(h){var p=this,m=h.config,b=h.eventsDispatcher;if((0,s.default)(this,y),this.nodes={},this.listeners=new u.default,this.readOnlyMutableListeners={on:function(v,k,S){var O=arguments.length>3&&arguments[3]!==void 0&&arguments[3];p.mutableListenerIds.push(p.listeners.on(v,k,S,O))},clearAll:function(){var v,k=d(p.mutableListenerIds);try{for(k.s();!(v=k.n()).done;){var S=v.value;p.listeners.offById(S)}}catch(O){k.e(O)}finally{k.f()}p.mutableListenerIds=[]}},this.mutableListenerIds=[],(this instanceof y?this.constructor:void 0)===y)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=m,this.eventsDispatcher=b}return(0,l.default)(y,[{key:"removeAllNodes",value:function(){for(var h in this.nodes){var p=this.nodes[h];p instanceof HTMLElement&&p.remove()}}},{key:"state",set:function(h){this.Editor=h}},{key:"isRtl",get:function(){return this.config.i18n.direction==="rtl"}}]),y}();o.default=g,g.displayName="Module",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r){var e=t.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=e)},function(t,r){t.exports=function(e){try{return!!e()}catch{return!0}}},function(t,r,e){var n=e(13);t.exports=function(i){if(!n(i))throw TypeError(i+" is not an object!");return i}},function(t,r){t.exports=function(e){return typeof e=="object"?e!==null:typeof e=="function"}},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(42),e(2),e(3),e(7)],(a=typeof(n=function(o,s,l,u,c){"use strict";var d=e(8),f=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=f(s),l=f(l),u=f(u),c=d(c);var g=function(){function y(){(0,l.default)(this,y)}return(0,u.default)(y,null,[{key:"isSingleTag",value:function(h){return h.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(h.tagName)}},{key:"isLineBreakTag",value:function(h){return h&&h.tagName&&["BR","WBR"].includes(h.tagName)}},{key:"make",value:function(h){var p,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=document.createElement(h);for(var k in Array.isArray(m)?(p=v.classList).add.apply(p,(0,s.default)(m)):m&&v.classList.add(m),b)Object.prototype.hasOwnProperty.call(b,k)&&(v[k]=b[k]);return v}},{key:"text",value:function(h){return document.createTextNode(h)}},{key:"svg",value:function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:14,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:14,b=document.createElementNS("http://www.w3.org/2000/svg","svg");return b.classList.add("icon","icon--"+h),b.setAttribute("width",p+"px"),b.setAttribute("height",m+"px"),b.innerHTML='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#'.concat(h,'"></use>'),b}},{key:"append",value:function(h,p){Array.isArray(p)?p.forEach(function(m){return h.appendChild(m)}):h.appendChild(p)}},{key:"prepend",value:function(h,p){Array.isArray(p)?(p=p.reverse()).forEach(function(m){return h.prepend(m)}):h.prepend(p)}},{key:"swap",value:function(h,p){var m=document.createElement("div"),b=h.parentNode;b.insertBefore(m,h),b.insertBefore(h,p),b.insertBefore(p,m),b.removeChild(m)}},{key:"find",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,p=arguments.length>1?arguments[1]:void 0;return h.querySelector(p)}},{key:"get",value:function(h){return document.getElementById(h)}},{key:"findAll",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,p=arguments.length>1?arguments[1]:void 0;return h.querySelectorAll(p)}},{key:"findAllInputs",value:function(h){return c.array(h.querySelectorAll(y.allInputsSelector)).reduce(function(p,m){return y.isNativeInput(m)||y.containsOnlyInlineElements(m)?[].concat((0,s.default)(p),[m]):[].concat((0,s.default)(p),(0,s.default)(y.getDeepestBlockElements(m)))},[])}},{key:"getDeepestNode",value:function(h){var p=arguments.length>1&&arguments[1]!==void 0&&arguments[1],m=p?"lastChild":"firstChild",b=p?"previousSibling":"nextSibling";if(h&&h.nodeType===Node.ELEMENT_NODE&&h[m]){var v=h[m];if(y.isSingleTag(v)&&!y.isNativeInput(v)&&!y.isLineBreakTag(v))if(v[b])v=v[b];else{if(!v.parentNode[b])return v.parentNode;v=v.parentNode[b]}return this.getDeepestNode(v,p)}return h}},{key:"isElement",value:function(h){return!c.isNumber(h)&&h&&h.nodeType&&h.nodeType===Node.ELEMENT_NODE}},{key:"isFragment",value:function(h){return!c.isNumber(h)&&h&&h.nodeType&&h.nodeType===Node.DOCUMENT_FRAGMENT_NODE}},{key:"isContentEditable",value:function(h){return h.contentEditable==="true"}},{key:"isNativeInput",value:function(h){return!(!h||!h.tagName)&&["INPUT","TEXTAREA"].includes(h.tagName)}},{key:"canSetCaret",value:function(h){var p=!0;if(y.isNativeInput(h))switch(h.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":p=!1}else p=y.isContentEditable(h);return p}},{key:"isNodeEmpty",value:function(h){return!(this.isSingleTag(h)&&!this.isLineBreakTag(h))&&(this.isElement(h)&&this.isNativeInput(h)?h.value:h.textContent.replace("\u200B","")).trim().length===0}},{key:"isLeaf",value:function(h){return!!h&&h.childNodes.length===0}},{key:"isEmpty",value:function(h){h.normalize();for(var p=[h];p.length>0;)if(h=p.shift()){if(this.isLeaf(h)&&!this.isNodeEmpty(h))return!1;h.childNodes&&p.push.apply(p,(0,s.default)(Array.from(h.childNodes)))}return!0}},{key:"isHTMLString",value:function(h){var p=y.make("div");return p.innerHTML=h,p.childElementCount>0}},{key:"getContentLength",value:function(h){return y.isNativeInput(h)?h.value.length:h.nodeType===Node.TEXT_NODE?h.length:h.textContent.length}},{key:"containsOnlyInlineElements",value:function(h){var p;return c.isString(h)?(p=document.createElement("div")).innerHTML=h:p=h,Array.from(p.children).every(function m(b){return!y.blockElements.includes(b.tagName.toLowerCase())&&Array.from(b.children).every(m)})}},{key:"getDeepestBlockElements",value:function(h){return y.containsOnlyInlineElements(h)?[h]:Array.from(h.children).reduce(function(p,m){return[].concat((0,s.default)(p),(0,s.default)(y.getDeepestBlockElements(m)))},[])}},{key:"getHolder",value:function(h){return c.isString(h)?document.getElementById(h):h}},{key:"isExtensionNode",value:function(h){return h&&["GRAMMARLY-EXTENSION"].includes(h.nodeName)}},{key:"isAnchor",value:function(h){return h.tagName.toLowerCase()==="a"}},{key:"offset",value:function(h){var p=h.getBoundingClientRect(),m=window.pageXOffset||document.documentElement.scrollLeft,b=window.pageYOffset||document.documentElement.scrollTop,v=p.top+b,k=p.left+m;return{top:v,left:k,bottom:v+p.height,right:k+p.width}}},{key:"allInputsSelector",get:function(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(function(h){return'input[type="'.concat(h,'"]')}).join(", ")}},{key:"blockElements",get:function(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tr","tfoot","ul","video"]}}]),y}();o.default=g,g.displayName="Dom",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n=e(69)("wks"),i=e(44),a=e(10).Symbol,o=typeof a=="function";(t.exports=function(s){return n[s]||(n[s]=o&&a[s]||(o?a:i)("Symbol."+s))}).store=n},function(t,r,e){var n=e(33),i=Math.min;t.exports=function(a){return a>0?i(n(a),9007199254740991):0}},function(t,r){var e=t.exports={version:"2.6.11"};typeof __e=="number"&&(__e=e)},function(t,r,e){t.exports=!e(11)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(t,r,e){var n=e(12),i=e(116),a=e(40),o=Object.defineProperty;r.f=e(18)?Object.defineProperty:function(s,l,u){if(n(s),l=a(l,!0),n(u),i)try{return o(s,l,u)}catch{}if("get"in u||"set"in u)throw TypeError("Accessors not supported!");return"value"in u&&(s[l]=u.value),s}},function(t,r,e){t.exports=e(147)},function(t,r){function e(n,i,a,o,s,l,u){try{var c=n[l](u),d=c.value}catch(f){return void a(f)}c.done?i(d):Promise.resolve(d).then(o,s)}t.exports=function(n){return function(){var i=this,a=arguments;return new Promise(function(o,s){var l=n.apply(i,a);function u(d){e(l,o,s,u,c,"next",d)}function c(d){e(l,o,s,u,c,"throw",d)}u(void 0)})}}},function(t,r,e){var n=e(38);t.exports=function(i){return Object(n(i))}},function(t,r,e){var n=e(10),i=e(27),a=e(26),o=e(44)("src"),s=e(192),l=(""+s).split("toString");e(17).inspectSource=function(u){return s.call(u)},(t.exports=function(u,c,d,f){var g=typeof d=="function";g&&(a(d,"name")||i(d,"name",c)),u[c]!==d&&(g&&(a(d,o)||i(d,o,u[c]?""+u[c]:l.join(String(c)))),u===n?u[c]=d:f?u[c]?u[c]=d:i(u,c,d):(delete u[c],i(u,c,d)))})(Function.prototype,"toString",function(){return typeof this=="function"&&this[o]||s.call(this)})},function(t,r,e){var n=e(0),i=e(11),a=e(38),o=/"/g,s=function(l,u,c,d){var f=String(a(l)),g="<"+u;return c!==""&&(g+=" "+c+'="'+String(d).replace(o,"&quot;")+'"'),g+">"+f+"</"+u+">"};t.exports=function(l,u){var c={};c[l]=u(s),n(n.P+n.F*i(function(){var d=""[l]('"');return d!==d.toLowerCase()||d.split('"').length>3}),"String",c)}},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(7),e(14)],(a=typeof(n=function(o,s,l,u,c){"use strict";var d=e(8),f=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=f(s),l=f(l),u=d(u),c=f(c);var g=function(){function y(){(0,s.default)(this,y),this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}return(0,l.default)(y,[{key:"removeFakeBackground",value:function(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}},{key:"setFakeBackground",value:function(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}},{key:"save",value:function(){this.savedSelectionRange=y.range}},{key:"restore",value:function(){if(this.savedSelectionRange){var h=window.getSelection();h.removeAllRanges(),h.addRange(this.savedSelectionRange)}}},{key:"clearSaved",value:function(){this.savedSelectionRange=null}},{key:"collapseToEnd",value:function(){var h=window.getSelection(),p=document.createRange();p.selectNodeContents(h.focusNode),p.collapse(!1),h.removeAllRanges(),h.addRange(p)}},{key:"findParentTag",value:function(h,p){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,b=window.getSelection(),v=null;if(!b||!b.anchorNode||!b.focusNode)return null;var k=[b.anchorNode,b.focusNode];return k.forEach(function(S){for(var O=m;O>0&&S.parentNode&&(S.tagName!==h||(v=S,p&&S.classList&&!S.classList.contains(p)&&(v=null),!v));)S=S.parentNode,O--}),v}},{key:"expandToTag",value:function(h){var p=window.getSelection();p.removeAllRanges();var m=document.createRange();m.selectNodeContents(h),p.addRange(m)}}],[{key:"isSelectionAtEditor",value:function(h){if(!h)return!1;var p=h.anchorNode||h.focusNode;p&&p.nodeType===Node.TEXT_NODE&&(p=p.parentNode);var m=null;return p&&p instanceof Element&&(m=p.closest(".".concat(y.CSS.editorZone))),!!m&&m.nodeType===Node.ELEMENT_NODE}},{key:"isRangeAtEditor",value:function(h){if(h){var p=h.startContainer;p&&p.nodeType===Node.TEXT_NODE&&(p=p.parentNode);var m=null;return p&&p instanceof Element&&(m=p.closest(".".concat(y.CSS.editorZone))),!!m&&m.nodeType===Node.ELEMENT_NODE}}},{key:"getRangeFromSelection",value:function(h){return h&&h.rangeCount?h.getRangeAt(0):null}},{key:"get",value:function(){return window.getSelection()}},{key:"setCursor",value:function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=document.createRange(),b=window.getSelection();return c.default.isNativeInput(h)?c.default.canSetCaret(h)?(h.focus(),h.selectionStart=h.selectionEnd=p,h.getBoundingClientRect()):void 0:(m.setStart(h,p),m.setEnd(h,p),b.removeAllRanges(),b.addRange(m),m.getBoundingClientRect())}},{key:"addFakeCursor",value:function(h){var p=y.range,m=c.default.make("span","codex-editor__fake-cursor");m.dataset.mutationFree="true",!p||h&&!h.contains(p.startContainer)||(p.collapse(),p.insertNode(m))}},{key:"removeFakeCursor",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.body,p=c.default.find(h,".codex-editor__fake-cursor");p&&p.remove()}},{key:"CSS",get:function(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}},{key:"anchorNode",get:function(){var h=window.getSelection();return h?h.anchorNode:null}},{key:"anchorElement",get:function(){var h=window.getSelection();if(!h)return null;var p=h.anchorNode;return p?c.default.isElement(p)?p:p.parentElement:null}},{key:"anchorOffset",get:function(){var h=window.getSelection();return h?h.anchorOffset:null}},{key:"isCollapsed",get:function(){var h=window.getSelection();return h?h.isCollapsed:null}},{key:"isAtEditor",get:function(){return this.isSelectionAtEditor(y.get())}},{key:"isSelectionExists",get:function(){return!!y.get().anchorNode}},{key:"range",get:function(){return this.getRangeFromSelection(this.get())}},{key:"rect",get:function(){var h,p=document.selection,m={x:0,y:0,width:0,height:0};if(p&&p.type!=="Control")return h=(p=p).createRange(),m.x=h.boundingLeft,m.y=h.boundingTop,m.width=h.boundingWidth,m.height=h.boundingHeight,m;if(!window.getSelection)return u.log("Method window.getSelection is not supported","warn"),m;if((p=window.getSelection()).rangeCount===null||isNaN(p.rangeCount))return u.log("Method SelectionUtils.rangeCount is not supported","warn"),m;if(p.rangeCount===0)return m;if((h=p.getRangeAt(0).cloneRange()).getBoundingClientRect&&(m=h.getBoundingClientRect()),m.x===0&&m.y===0){var b=document.createElement("span");if(b.getBoundingClientRect){b.appendChild(document.createTextNode("\u200B")),h.insertNode(b),m=b.getBoundingClientRect();var v=b.parentNode;v.removeChild(b),v.normalize()}}return m}},{key:"text",get:function(){return window.getSelection?window.getSelection().toString():""}}]),y}();o.default=g,g.displayName="SelectionUtils",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r){var e={}.hasOwnProperty;t.exports=function(n,i){return e.call(n,i)}},function(t,r,e){var n=e(19),i=e(43);t.exports=e(18)?function(a,o,s){return n.f(a,o,i(1,s))}:function(a,o,s){return a[o]=s,a}},function(t,r,e){var n=e(63),i=e(38);t.exports=function(a){return n(i(a))}},function(t,r,e){"use strict";var n=e(11);t.exports=function(i,a){return!!i&&n(function(){a?i.call(null,function(){},1):i.call(null)})}},function(t,r,e){var n=e(361),i=e(362),a=e(148),o=e(363);t.exports=function(s,l){return n(s)||i(s,l)||a(s,l)||o()}},function(t,r,e){var n=e(32);t.exports=function(i,a,o){if(n(i),a===void 0)return i;switch(o){case 1:return function(s){return i.call(a,s)};case 2:return function(s,l){return i.call(a,s,l)};case 3:return function(s,l,u){return i.call(a,s,l,u)}}return function(){return i.apply(a,arguments)}}},function(t,r){t.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}},function(t,r){var e=Math.ceil,n=Math.floor;t.exports=function(i){return isNaN(i=+i)?0:(i>0?n:e)(i)}},function(t,r,e){var n=e(64),i=e(43),a=e(28),o=e(40),s=e(26),l=e(116),u=Object.getOwnPropertyDescriptor;r.f=e(18)?u:function(c,d){if(c=a(c),d=o(d,!0),l)try{return u(c,d)}catch{}if(s(c,d))return i(!n.f.call(c,d),c[d])}},function(t,r,e){var n=e(0),i=e(17),a=e(11);t.exports=function(o,s){var l=(i.Object||{})[o]||Object[o],u={};u[o]=s(l),n(n.S+n.F*a(function(){l(1)}),"Object",u)}},function(t,r,e){var n=e(31),i=e(63),a=e(22),o=e(16),s=e(132);t.exports=function(l,u){var c=l==1,d=l==2,f=l==3,g=l==4,y=l==6,h=l==5||y,p=u||s;return function(m,b,v){for(var k,S,O=a(m),R=i(O),L=n(b,v,3),T=o(R.length),x=0,w=c?p(m,T):d?p(m,0):void 0;T>x;x++)if((h||x in R)&&(S=L(k=R[x],x,O),l)){if(c)w[x]=S;else if(S)switch(l){case 3:return!0;case 5:return k;case 6:return x;case 2:w.push(k)}else if(g)return!1}return y?-1:f||g?g:w}}},function(t,r){var e={}.toString;t.exports=function(n){return e.call(n).slice(8,-1)}},function(t,r){t.exports=function(e){if(e==null)throw TypeError("Can't call method on  "+e);return e}},function(t,r,e){"use strict";if(e(18)){var n=e(45),i=e(10),a=e(11),o=e(0),s=e(80),l=e(109),u=e(31),c=e(57),d=e(43),f=e(27),g=e(58),y=e(33),h=e(16),p=e(143),m=e(47),b=e(40),v=e(26),k=e(65),S=e(13),O=e(22),R=e(101),L=e(48),T=e(50),x=e(49).f,w=e(103),I=e(44),B=e(15),E=e(36),_=e(70),C=e(66),A=e(105),D=e(55),P=e(73),M=e(56),N=e(104),F=e(134),j=e(19),H=e(34),U=j.f,z=H.f,V=i.RangeError,X=i.TypeError,q=i.Uint8Array,G=Array.prototype,ee=l.ArrayBuffer,ne=l.DataView,W=E(0),K=E(2),ae=E(3),te=E(4),oe=E(5),he=E(6),pe=_(!0),de=_(!1),ve=A.values,me=A.keys,ce=A.entries,J=G.lastIndexOf,Q=G.reduce,se=G.reduceRight,ye=G.join,Se=G.sort,je=G.slice,Le=G.toString,zt=G.toLocaleString,Vt=B("iterator"),vt=B("toStringTag"),yn=I("typed_constructor"),mt=I("def_constructor"),bn=s.CONSTR,Qe=s.TYPED,Sr=s.VIEW,Tr=E(1,function(Y,Z){return bt(C(Y,Y[mt]),Z)}),kn=a(function(){return new q(new Uint16Array([1]).buffer)[0]===1}),Er=!!q&&!!q.prototype.set&&a(function(){new q(1).set({})}),yt=function(Y,Z){var re=y(Y);if(re<0||re%Z)throw V("Wrong offset!");return re},ue=function(Y){if(S(Y)&&Qe in Y)return Y;throw X(Y+" is not a typed array!")},bt=function(Y,Z){if(!S(Y)||!(yn in Y))throw X("It is not a typed array constructor!");return new Y(Z)},xn=function(Y,Z){return Wt(C(Y,Y[mt]),Z)},Wt=function(Y,Z){for(var re=0,ge=Z.length,le=bt(Y,ge);ge>re;)le[re]=Z[re++];return le},kt=function(Y,Z,re){U(Y,Z,{get:function(){return this._d[re]}})},$t=function(Y){var Z,re,ge,le,We,wt,ie=O(Y),Be=arguments.length,Ye=Be>1?arguments[1]:void 0,St=Ye!==void 0,et=w(ie);if(et!=null&&!R(et)){for(wt=et.call(ie),ge=[],Z=0;!(We=wt.next()).done;Z++)ge.push(We.value);ie=ge}for(St&&Be>2&&(Ye=u(Ye,arguments[2],2)),Z=0,re=h(ie.length),le=bt(this,re);re>Z;Z++)le[Z]=St?Ye(ie[Z],Z):ie[Z];return le},Cr=function(){for(var Y=0,Z=arguments.length,re=bt(this,Z);Z>Y;)re[Y]=arguments[Y++];return re},_r=!!q&&a(function(){zt.call(new q(1))}),wn=function(){return zt.apply(_r?je.call(ue(this)):ue(this),arguments)},Sn={copyWithin:function(Y,Z){return F.call(ue(this),Y,Z,arguments.length>2?arguments[2]:void 0)},every:function(Y){return te(ue(this),Y,arguments.length>1?arguments[1]:void 0)},fill:function(Y){return N.apply(ue(this),arguments)},filter:function(Y){return xn(this,K(ue(this),Y,arguments.length>1?arguments[1]:void 0))},find:function(Y){return oe(ue(this),Y,arguments.length>1?arguments[1]:void 0)},findIndex:function(Y){return he(ue(this),Y,arguments.length>1?arguments[1]:void 0)},forEach:function(Y){W(ue(this),Y,arguments.length>1?arguments[1]:void 0)},indexOf:function(Y){return de(ue(this),Y,arguments.length>1?arguments[1]:void 0)},includes:function(Y){return pe(ue(this),Y,arguments.length>1?arguments[1]:void 0)},join:function(Y){return ye.apply(ue(this),arguments)},lastIndexOf:function(Y){return J.apply(ue(this),arguments)},map:function(Y){return Tr(ue(this),Y,arguments.length>1?arguments[1]:void 0)},reduce:function(Y){return Q.apply(ue(this),arguments)},reduceRight:function(Y){return se.apply(ue(this),arguments)},reverse:function(){for(var Y,Z=ue(this).length,re=Math.floor(Z/2),ge=0;ge<re;)Y=this[ge],this[ge++]=this[--Z],this[Z]=Y;return this},some:function(Y){return ae(ue(this),Y,arguments.length>1?arguments[1]:void 0)},sort:function(Y){return Se.call(ue(this),Y)},subarray:function(Y,Z){var re=ue(this),ge=re.length,le=m(Y,ge);return new(C(re,re[mt]))(re.buffer,re.byteOffset+le*re.BYTES_PER_ELEMENT,h((Z===void 0?ge:m(Z,ge))-le))}},Tn=function(Y,Z){return xn(this,je.call(ue(this),Y,Z))},En=function(Y){ue(this);var Z=yt(arguments[1],1),re=this.length,ge=O(Y),le=h(ge.length),We=0;if(le+Z>re)throw V("Wrong length!");for(;We<le;)this[Z+We]=ge[We++]},xt={entries:function(){return ce.call(ue(this))},keys:function(){return me.call(ue(this))},values:function(){return ve.call(ue(this))}},Cn=function(Y,Z){return S(Y)&&Y[Qe]&&typeof Z!="symbol"&&Z in Y&&String(+Z)==String(Z)},_n=function(Y,Z){return Cn(Y,Z=b(Z,!0))?d(2,Y[Z]):z(Y,Z)},Bn=function(Y,Z,re){return!(Cn(Y,Z=b(Z,!0))&&S(re)&&v(re,"value"))||v(re,"get")||v(re,"set")||re.configurable||v(re,"writable")&&!re.writable||v(re,"enumerable")&&!re.enumerable?U(Y,Z,re):(Y[Z]=re.value,Y)};bn||(H.f=_n,j.f=Bn),o(o.S+o.F*!bn,"Object",{getOwnPropertyDescriptor:_n,defineProperty:Bn}),a(function(){Le.call({})})&&(Le=zt=function(){return ye.call(this)});var Fe=g({},Sn);g(Fe,xt),f(Fe,Vt,xt.values),g(Fe,{slice:Tn,set:En,constructor:function(){},toString:Le,toLocaleString:wn}),kt(Fe,"buffer","b"),kt(Fe,"byteOffset","o"),kt(Fe,"byteLength","l"),kt(Fe,"length","e"),U(Fe,vt,{get:function(){return this[Qe]}}),t.exports=function(Y,Z,re,ge){var le=Y+((ge=!!ge)?"Clamped":"")+"Array",We="get"+Y,wt="set"+Y,ie=i[le],Be=ie||{},Ye=ie&&T(ie),St=!ie||!s.ABV,et={},be=ie&&ie.prototype,Br=function(Te,fe){U(Te,fe,{get:function(){return function(He,Ue){var Oe=He._d;return Oe.v[We](Ue*Z+Oe.o,kn)}(this,fe)},set:function(He){return function(Ue,Oe,Ie){var $e=Ue._d;ge&&(Ie=(Ie=Math.round(Ie))<0?0:Ie>255?255:255&Ie),$e.v[wt](Oe*Z+$e.o,Ie,kn)}(this,fe,He)},enumerable:!0})};St?(ie=re(function(Te,fe,He,Ue){c(Te,ie,le,"_d");var Oe,Ie,$e,In,An=0,Et=0;if(S(fe)){if(!(fe instanceof ee||(In=k(fe))=="ArrayBuffer"||In=="SharedArrayBuffer"))return Qe in fe?Wt(ie,fe):$t.call(ie,fe);Oe=fe,Et=yt(He,Z);var Jt=fe.byteLength;if(Ue===void 0){if(Jt%Z||(Ie=Jt-Et)<0)throw V("Wrong length!")}else if((Ie=h(Ue)*Z)+Et>Jt)throw V("Wrong length!");$e=Ie/Z}else $e=p(fe),Oe=new ee(Ie=$e*Z);for(f(Te,"_d",{b:Oe,o:Et,l:Ie,e:$e,v:new ne(Oe)});An<$e;)Br(Te,An++)}),be=ie.prototype=L(Fe),f(be,"constructor",ie)):a(function(){ie(1)})&&a(function(){new ie(-1)})&&P(function(Te){new ie,new ie(null),new ie(1.5),new ie(Te)},!0)||(ie=re(function(Te,fe,He,Ue){var Oe;return c(Te,ie,le),S(fe)?fe instanceof ee||(Oe=k(fe))=="ArrayBuffer"||Oe=="SharedArrayBuffer"?Ue!==void 0?new Be(fe,yt(He,Z),Ue):He!==void 0?new Be(fe,yt(He,Z)):new Be(fe):Qe in fe?Wt(ie,fe):$t.call(ie,fe):new Be(p(fe))}),W(Ye!==Function.prototype?x(Be).concat(x(Ye)):x(Be),function(Te){Te in ie||f(ie,Te,Be[Te])}),ie.prototype=be,n||(be.constructor=ie));var Tt=be[Vt],Xt=!!Tt&&(Tt.name=="values"||Tt.name==null),On=xt.values;f(ie,yn,!0),f(be,Qe,le),f(be,Sr,!0),f(be,mt,ie),(ge?new ie(1)[vt]==le:vt in be)||U(be,vt,{get:function(){return le}}),et[le]=ie,o(o.G+o.W+o.F*(ie!=Be),et),o(o.S,le,{BYTES_PER_ELEMENT:Z}),o(o.S+o.F*a(function(){Be.of.call(ie,1)}),le,{from:$t,of:Cr}),"BYTES_PER_ELEMENT"in be||f(be,"BYTES_PER_ELEMENT",Z),o(o.P,le,Sn),M(le),o(o.P+o.F*Er,le,{set:En}),o(o.P+o.F*!Xt,le,xt),n||be.toString==Le||(be.toString=Le),o(o.P+o.F*a(function(){new ie(1).slice()}),le,{slice:Tn}),o(o.P+o.F*(a(function(){return[1,2].toLocaleString()!=new ie([1,2]).toLocaleString()})||!a(function(){be.toLocaleString.call([1,2])})),le,{toLocaleString:wn}),D[le]=Xt?Tt:On,n||Xt||f(be,Vt,On)}}else t.exports=function(){}},function(t,r,e){var n=e(13);t.exports=function(i,a){if(!n(i))return i;var o,s;if(a&&typeof(o=i.toString)=="function"&&!n(s=o.call(i))||typeof(o=i.valueOf)=="function"&&!n(s=o.call(i))||!a&&typeof(o=i.toString)=="function"&&!n(s=o.call(i)))return s;throw TypeError("Can't convert object to primitive value")}},function(t,r,e){var n=e(44)("meta"),i=e(13),a=e(26),o=e(19).f,s=0,l=Object.isExtensible||function(){return!0},u=!e(11)(function(){return l(Object.preventExtensions({}))}),c=function(f){o(f,n,{value:{i:"O"+ ++s,w:{}}})},d=t.exports={KEY:n,NEED:!1,fastKey:function(f,g){if(!i(f))return typeof f=="symbol"?f:(typeof f=="string"?"S":"P")+f;if(!a(f,n)){if(!l(f))return"F";if(!g)return"E";c(f)}return f[n].i},getWeak:function(f,g){if(!a(f,n)){if(!l(f))return!0;if(!g)return!1;c(f)}return f[n].w},onFreeze:function(f){return u&&d.NEED&&l(f)&&!a(f,n)&&c(f),f}}},function(t,r,e){var n=e(368),i=e(369),a=e(148),o=e(370);t.exports=function(s){return n(s)||i(s)||a(s)||o()}},function(t,r){t.exports=function(e,n){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:n}}},function(t,r){var e=0,n=Math.random();t.exports=function(i){return"Symbol(".concat(i===void 0?"":i,")_",(++e+n).toString(36))}},function(t,r){t.exports=!1},function(t,r,e){var n=e(118),i=e(88);t.exports=Object.keys||function(a){return n(a,i)}},function(t,r,e){var n=e(33),i=Math.max,a=Math.min;t.exports=function(o,s){return(o=n(o))<0?i(o+s,0):a(o,s)}},function(t,r,e){var n=e(12),i=e(119),a=e(88),o=e(87)("IE_PROTO"),s=function(){},l=function(){var u,c=e(85)("iframe"),d=a.length;for(c.style.display="none",e(89).appendChild(c),c.src="javascript:",(u=c.contentWindow.document).open(),u.write("<script>document.F=Object<\/script>"),u.close(),l=u.F;d--;)delete l.prototype[a[d]];return l()};t.exports=Object.create||function(u,c){var d;return u!==null?(s.prototype=n(u),d=new s,s.prototype=null,d[o]=u):d=l(),c===void 0?d:i(d,c)}},function(t,r,e){var n=e(118),i=e(88).concat("length","prototype");r.f=Object.getOwnPropertyNames||function(a){return n(a,i)}},function(t,r,e){var n=e(26),i=e(22),a=e(87)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(s){return s=i(s),n(s,a)?s[a]:typeof s.constructor=="function"&&s instanceof s.constructor?s.constructor.prototype:s instanceof Object?o:null}},function(t,r,e){var n=e(15)("unscopables"),i=Array.prototype;i[n]==null&&e(27)(i,n,{}),t.exports=function(a){i[n][a]=!0}},function(t,r,e){var n=e(13);t.exports=function(i,a){if(!n(i)||i._t!==a)throw TypeError("Incompatible receiver, "+a+" required!");return i}},function(t,r,e){var n=e(19).f,i=e(26),a=e(15)("toStringTag");t.exports=function(o,s,l){o&&!i(o=l?o:o.prototype,a)&&n(o,a,{configurable:!0,value:s})}},function(t,r,e){var n=e(0),i=e(38),a=e(11),o=e(91),s="["+o+"]",l=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),c=function(f,g,y){var h={},p=a(function(){return!!o[f]()||"\u200B\x85"[f]()!="\u200B\x85"}),m=h[f]=p?g(d):o[f];y&&(h[y]=m),n(n.P+n.F*p,"String",h)},d=c.trim=function(f,g){return f=String(i(f)),1&g&&(f=f.replace(l,"")),2&g&&(f=f.replace(u,"")),f};t.exports=c},function(t,r){t.exports={}},function(t,r,e){"use strict";var n=e(10),i=e(19),a=e(18),o=e(15)("species");t.exports=function(s){var l=n[s];a&&l&&!l[o]&&i.f(l,o,{configurable:!0,get:function(){return this}})}},function(t,r){t.exports=function(e,n,i,a){if(!(e instanceof n)||a!==void 0&&a in e)throw TypeError(i+": incorrect invocation!");return e}},function(t,r,e){var n=e(23);t.exports=function(i,a,o){for(var s in a)n(i,s,a[s],o);return i}},function(t,r){function e(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t.exports=e=function(i){return typeof i}:t.exports=e=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},e(n)}t.exports=e},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(150)],(a=typeof(n=function(o,s,l,u){"use strict";var c=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=c(s),l=c(l),u=c(u);var d=function(){function f(){(0,s.default)(this,f)}return(0,l.default)(f,null,[{key:"ui",value:function(g,y){return f._t(g,y)}},{key:"t",value:function(g,y){return f._t(g,y)}},{key:"setDictionary",value:function(g){f.currentDictionary=g}},{key:"_t",value:function(g,y){var h=f.getNamespace(g);return h&&h[y]?h[y]:y}},{key:"getNamespace",value:function(g){return g.split(".").reduce(function(y,h){return y&&Object.keys(y).length?y[h]:{}},f.currentDictionary)}}]),f}();o.default=d,d.displayName="I18n",d.currentDictionary=u.default,t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(30),e(20),e(21),e(42),e(2),e(3),e(152),e(113),e(5),e(6),e(4),e(14),e(7),e(112),e(25),e(81)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y,h,p,m,b,v,k,S,O){"use strict";var R,L=e(8),T=e(1);function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.BlockToolAPI=void 0,s=T(s),l=T(l),u=T(u),c=T(c),d=T(d),f=T(f),g=T(g),y=T(y),h=T(h),p=T(p),m=T(m),b=T(b),v=L(v),k=T(k),S=T(S),O=T(O),o.BlockToolAPI=R,function(I){I.APPEND_CALLBACK="appendCallback",I.RENDERED="rendered",I.MOVED="moved",I.UPDATED="updated",I.REMOVED="removed",I.ON_PASTE="onPaste"}(R||(o.BlockToolAPI=R={}));var w=function(I){(0,h.default)(P,I);var B,E,_,C,A,D=(B=P,function(){var M,N=(0,m.default)(B);if(x()){var F=(0,m.default)(this).constructor;M=Reflect.construct(N,arguments,F)}else M=N.apply(this,arguments);return(0,p.default)(this,M)});function P(M){var N,F=M.id,j=F===void 0?v.generateBlockId():F,H=M.data,U=M.tool,z=M.api,V=M.readOnly,X=M.tunesData;return(0,d.default)(this,P),(N=D.call(this)).cachedInputs=[],N.tunesInstances=new Map,N.defaultTunesInstances=new Map,N.unavailableTunesData={},N.inputIndex=0,N.modificationDebounceTimer=450,N.didMutated=v.debounce(function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],G=q instanceof InputEvent||!q.some(function(ee){var ne=ee.addedNodes,W=ne===void 0?[]:ne,K=ee.removedNodes;return[].concat((0,c.default)(Array.from(W)),(0,c.default)(Array.from(K))).some(function(ae){return b.default.isElement(ae)&&ae.dataset.mutationFree==="true"})});G&&(N.cachedInputs=[],N.updateCurrentInput(),N.call(R.UPDATED),N.emit("didMutated",(0,g.default)(N)))},N.modificationDebounceTimer),N.handleFocus=function(){N.cachedInputs=[],N.updateCurrentInput()},N.name=U.name,N.id=j,N.settings=U.settings,N.config=U.settings.config||{},N.api=z,N.blockAPI=new k.default((0,g.default)(N)),N.mutationObserver=new MutationObserver(N.didMutated),N.tool=U,N.toolInstance=U.create(H,N.blockAPI,V),N.tunes=U.tunes,N.composeTunes(X),N.holder=N.compose(),N}return(0,f.default)(P,[{key:"call",value:function(M,N){if(v.isFunction(this.toolInstance[M])){M===R.APPEND_CALLBACK&&v.log("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[M].call(this.toolInstance,N)}catch(F){v.log("Error during '".concat(M,"' call: ").concat(F.message),"error")}}}},{key:"mergeWith",value:(A=(0,u.default)(l.default.mark(function M(N){return l.default.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,this.toolInstance.merge(N);case 2:case"end":return F.stop()}},M,this)})),function(M){return A.apply(this,arguments)})},{key:"save",value:(C=(0,u.default)(l.default.mark(function M(){var N,F,j,H,U=this;return l.default.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,this.toolInstance.save(this.pluginsContent);case 2:return N=z.sent,F=this.unavailableTunesData,[].concat((0,c.default)(this.tunesInstances.entries()),(0,c.default)(this.defaultTunesInstances.entries())).forEach(function(V){var X=(0,s.default)(V,2),q=X[0],G=X[1];if(v.isFunction(G.save))try{F[q]=G.save()}catch(ee){v.log("Tune ".concat(G.constructor.name," save method throws an Error %o"),"warn",ee)}}),j=window.performance.now(),z.abrupt("return",Promise.resolve(N).then(function(V){return H=window.performance.now(),{id:U.id,tool:U.name,data:V,tunes:F,time:H-j}}).catch(function(V){v.log("Saving proccess for ".concat(U.name," tool failed due to the ").concat(V),"log","red")}));case 7:case"end":return z.stop()}},M,this)})),function(){return C.apply(this,arguments)})},{key:"validate",value:(_=(0,u.default)(l.default.mark(function M(N){var F;return l.default.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(F=!0,!(this.toolInstance.validate instanceof Function)){j.next=5;break}return j.next=4,this.toolInstance.validate(N);case 4:F=j.sent;case 5:return j.abrupt("return",F);case 6:case"end":return j.stop()}},M,this)})),function(M){return _.apply(this,arguments)})},{key:"renderTunes",value:function(){var M=document.createDocumentFragment(),N=document.createDocumentFragment();return this.tunesInstances.forEach(function(F){b.default.append(M,F.render())}),this.defaultTunesInstances.forEach(function(F){b.default.append(N,F.render())}),[M,N]}},{key:"updateCurrentInput",value:function(){this.currentInput=b.default.isNativeInput(document.activeElement)||!S.default.anchorNode?document.activeElement:S.default.anchorNode}},{key:"willSelect",value:function(){this.mutationObserver.observe(this.holder.firstElementChild,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.addInputEvents()}},{key:"willUnselect",value:function(){this.mutationObserver.disconnect(),this.removeInputEvents()}},{key:"dispatchChange",value:function(){this.didMutated()}},{key:"destroy",value:function(){(0,y.default)((0,m.default)(P.prototype),"destroy",this).call(this),v.isFunction(this.toolInstance.destroy)&&this.toolInstance.destroy()}},{key:"renderSettings",value:function(){if(v.isFunction(this.toolInstance.renderSettings))return this.toolInstance.renderSettings()}},{key:"getActiveToolboxEntry",value:(E=(0,u.default)(l.default.mark(function M(){var N,F,j;return l.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if((N=this.tool.toolbox).length!==1){H.next=3;break}return H.abrupt("return",Promise.resolve(this.tool.toolbox[0]));case 3:return H.next=5,this.data;case 5:return F=H.sent,j=N,H.abrupt("return",j.find(function(U){return Object.entries(U.data).some(function(z){var V=(0,s.default)(z,2),X=V[0],q=V[1];return F[X]&&v.equals(F[X],q)})}));case 8:case"end":return H.stop()}},M,this)})),function(){return E.apply(this,arguments)})},{key:"compose",value:function(){var M=b.default.make("div",P.CSS.wrapper),N=b.default.make("div",P.CSS.content),F=this.toolInstance.render();N.appendChild(F);var j=N;return[].concat((0,c.default)(this.tunesInstances.values()),(0,c.default)(this.defaultTunesInstances.values())).forEach(function(H){if(v.isFunction(H.wrap))try{j=H.wrap(j)}catch(U){v.log("Tune ".concat(H.constructor.name," wrap method throws an Error %o"),"warn",U)}}),M.appendChild(j),M}},{key:"composeTunes",value:function(M){var N=this;Array.from(this.tunes.values()).forEach(function(F){(F.isInternal?N.defaultTunesInstances:N.tunesInstances).set(F.name,F.create(M[F.name],N.blockAPI))}),Object.entries(M).forEach(function(F){var j=(0,s.default)(F,2),H=j[0],U=j[1];N.tunesInstances.has(H)||(N.unavailableTunesData[H]=U)})}},{key:"addInputEvents",value:function(){var M=this;this.inputs.forEach(function(N){N.addEventListener("focus",M.handleFocus),b.default.isNativeInput(N)&&N.addEventListener("input",M.didMutated)})}},{key:"removeInputEvents",value:function(){var M=this;this.inputs.forEach(function(N){N.removeEventListener("focus",M.handleFocus),b.default.isNativeInput(N)&&N.removeEventListener("input",M.didMutated)})}},{key:"inputs",get:function(){if(this.cachedInputs.length!==0)return this.cachedInputs;var M=b.default.findAllInputs(this.holder);return this.inputIndex>M.length-1&&(this.inputIndex=M.length-1),this.cachedInputs=M,M}},{key:"currentInput",get:function(){return this.inputs[this.inputIndex]},set:function(M){var N=this.inputs.findIndex(function(F){return F===M||F.contains(M)});N!==-1&&(this.inputIndex=N)}},{key:"firstInput",get:function(){return this.inputs[0]}},{key:"lastInput",get:function(){var M=this.inputs;return M[M.length-1]}},{key:"nextInput",get:function(){return this.inputs[this.inputIndex+1]}},{key:"previousInput",get:function(){return this.inputs[this.inputIndex-1]}},{key:"data",get:function(){return this.save().then(function(M){return M&&!v.isEmpty(M.data)?M.data:{}})}},{key:"sanitize",get:function(){return this.tool.sanitizeConfig}},{key:"mergeable",get:function(){return v.isFunction(this.toolInstance.merge)}},{key:"isEmpty",get:function(){var M=b.default.isEmpty(this.pluginsContent),N=!this.hasMedia;return M&&N}},{key:"hasMedia",get:function(){return!!this.holder.querySelector(["img","iframe","video","audio","source","input","textarea","twitterwidget"].join(","))}},{key:"focused",set:function(M){this.holder.classList.toggle(P.CSS.focused,M)},get:function(){return this.holder.classList.contains(P.CSS.focused)}},{key:"selected",set:function(M){M?(this.holder.classList.add(P.CSS.selected),S.default.addFakeCursor(this.holder)):(this.holder.classList.remove(P.CSS.selected),S.default.removeFakeCursor(this.holder))},get:function(){return this.holder.classList.contains(P.CSS.selected)}},{key:"stretched",set:function(M){this.holder.classList.toggle(P.CSS.wrapperStretched,M)},get:function(){return this.holder.classList.contains(P.CSS.wrapperStretched)}},{key:"dropTarget",set:function(M){this.holder.classList.toggle(P.CSS.dropTarget,M)}},{key:"pluginsContent",get:function(){var M=this.holder.querySelector(".".concat(P.CSS.content));if(M&&M.childNodes.length)for(var N=M.childNodes.length-1;N>=0;N--){var F=M.childNodes[N];if(!b.default.isExtensionNode(F))return F}return null}}],[{key:"CSS",get:function(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}}]),P}(O.default);o.default=w,w.displayName="Block"})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(381),e(7)],(a=typeof(n=function(o,s,l,u,c){"use strict";var d=e(8),f=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=f(s),l=f(l),u=f(u),c=d(c);var g=function(){function y(h){var p=this;(0,s.default)(this,y),this.iterator=null,this.activated=!1,this.onKeyDown=function(m){if(p.isEventReadyForHandling(m))switch(y.usedKeys.includes(m.keyCode)&&m.preventDefault(),m.keyCode){case c.keyCodes.TAB:p.handleTabPress(m);break;case c.keyCodes.LEFT:case c.keyCodes.UP:p.flipLeft();break;case c.keyCodes.RIGHT:case c.keyCodes.DOWN:p.flipRight();break;case c.keyCodes.ENTER:p.handleEnterPress(m)}},this.iterator=new u.default(h.items,h.focusedItemClass),this.activateCallback=h.activateCallback,this.allowedKeys=h.allowedKeys||y.usedKeys}return(0,l.default)(y,[{key:"activate",value:function(h){this.activated=!0,h&&this.iterator.setItems(h),document.addEventListener("keydown",this.onKeyDown)}},{key:"deactivate",value:function(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}},{key:"focusFirst",value:function(){this.dropCursor(),this.flipRight()}},{key:"flipLeft",value:function(){this.iterator.previous(),this.flipCallback()}},{key:"flipRight",value:function(){this.iterator.next(),this.flipCallback()}},{key:"hasFocus",value:function(){return!!this.iterator.currentItem}},{key:"dropCursor",value:function(){this.iterator.dropCursor()}},{key:"isEventReadyForHandling",value:function(h){return this.activated&&this.allowedKeys.includes(h.keyCode)}},{key:"handleTabPress",value:function(h){switch(h.shiftKey?u.default.directions.LEFT:u.default.directions.RIGHT){case u.default.directions.RIGHT:this.flipRight();break;case u.default.directions.LEFT:this.flipLeft()}}},{key:"handleEnterPress",value:function(h){this.activated&&(this.iterator.currentItem&&this.iterator.currentItem.click(),c.isFunction(this.activateCallback)&&this.activateCallback(this.iterator.currentItem),h.preventDefault(),h.stopPropagation())}},{key:"flipCallback",value:function(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded()}}],[{key:"usedKeys",get:function(){return[c.keyCodes.TAB,c.keyCodes.LEFT,c.keyCodes.RIGHT,c.keyCodes.ENTER,c.keyCodes.UP,c.keyCodes.DOWN]}}]),y}();o.default=g,g.displayName="Flipper",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n=e(37);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(i){return n(i)=="String"?i.split(""):Object(i)}},function(t,r){r.f={}.propertyIsEnumerable},function(t,r,e){var n=e(37),i=e(15)("toStringTag"),a=n(function(){return arguments}())=="Arguments";t.exports=function(o){var s,l,u;return o===void 0?"Undefined":o===null?"Null":typeof(l=function(c,d){try{return c[d]}catch{}}(s=Object(o),i))=="string"?l:a?n(s):(u=n(s))=="Object"&&typeof s.callee=="function"?"Arguments":u}},function(t,r,e){var n=e(12),i=e(32),a=e(15)("species");t.exports=function(o,s){var l,u=n(o).constructor;return u===void 0||(l=n(u)[a])==null?s:i(l)}},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(7),e(379)],(a=typeof(n=function(o,s,l){"use strict";var u=e(1),c=e(8);function d(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h={tags:y},p=new l.default(h);return p.clean(g)}function f(g,y){return Array.isArray(g)?(m=y,g.map(function(b){return f(b,m)})):s.isObject(g)?function(b,v){var k,S={};for(var O in b)if(Object.prototype.hasOwnProperty.call(b,O)){var R=b[O],L=(k=v[O],s.isObject(k)||s.isBoolean(k)||s.isFunction(k)?v[O]:v);S[O]=f(R,L)}return S}(g,y):s.isString(g)?(h=g,p=y,s.isObject(p)?d(h,p):p===!1?d(h,{}):h):g;var h,p,m}Object.defineProperty(o,"__esModule",{value:!0}),o.sanitizeBlocks=function(g,y){return g.map(function(h){var p=s.isFunction(y)?y(h.tool):y;return s.isEmpty(p)||(h.data=f(h.data,p)),h})},o.clean=d,s=c(s),l=u(l)})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(7)],(a=typeof(n=function(o,s,l,u){"use strict";var c,d,f,g,y,h,p=e(8),m=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.InternalTuneSettings=o.InternalInlineToolSettings=o.InternalBlockToolSettings=o.CommonInternalSettings=o.UserSettings=o.ToolType=void 0,s=m(s),l=m(l),u=p(u),o.ToolType=c,function(v){v[v.Block=0]="Block",v[v.Inline=1]="Inline",v[v.Tune=2]="Tune"}(c||(o.ToolType=c={})),o.UserSettings=d,function(v){v.Shortcut="shortcut",v.Toolbox="toolbox",v.EnabledInlineTools="inlineToolbar",v.EnabledBlockTunes="tunes",v.Config="config"}(d||(o.UserSettings=d={})),o.CommonInternalSettings=f,function(v){v.Shortcut="shortcut",v.SanitizeConfig="sanitize"}(f||(o.CommonInternalSettings=f={})),o.InternalBlockToolSettings=g,function(v){v.IsEnabledLineBreaks="enableLineBreaks",v.Toolbox="toolbox",v.ConversionConfig="conversionConfig",v.IsReadOnlySupported="isReadOnlySupported",v.PasteConfig="pasteConfig"}(g||(o.InternalBlockToolSettings=g={})),o.InternalInlineToolSettings=y,function(v){v.IsInline="isInline",v.Title="title"}(y||(o.InternalInlineToolSettings=y={})),o.InternalTuneSettings=h,function(v){v.IsTune="isTune"}(h||(o.InternalTuneSettings=h={}));var b=function(){function v(k){var S=k.name,O=k.constructable,R=k.config,L=k.api,T=k.isDefault,x=k.isInternal,w=x!==void 0&&x,I=k.defaultPlaceholder;(0,s.default)(this,v),this.api=L,this.name=S,this.constructable=O,this.config=R,this.isDefault=T,this.isInternal=w,this.defaultPlaceholder=I}return(0,l.default)(v,[{key:"reset",value:function(){if(u.isFunction(this.constructable.reset))return this.constructable.reset()}},{key:"prepare",value:function(){if(u.isFunction(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}},{key:"isInline",value:function(){return this.type===c.Inline}},{key:"isBlock",value:function(){return this.type===c.Block}},{key:"isTune",value:function(){return this.type===c.Tune}},{key:"settings",get:function(){var k=this.config[d.Config]||{};return this.isDefault&&!("placeholder"in k)&&this.defaultPlaceholder&&(k.placeholder=this.defaultPlaceholder),k}},{key:"shortcut",get:function(){var k=this.constructable[f.Shortcut];return this.config[d.Shortcut]||k}},{key:"sanitizeConfig",get:function(){return this.constructable[f.SanitizeConfig]||{}}}]),v}();o.default=b,b.displayName="BaseTool"})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n=e(17),i=e(10),a=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(o,s){return a[o]||(a[o]=s!==void 0?s:{})})("versions",[]).push({version:n.version,mode:e(45)?"pure":"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})},function(t,r,e){var n=e(28),i=e(16),a=e(47);t.exports=function(o){return function(s,l,u){var c,d=n(s),f=i(d.length),g=a(u,f);if(o&&l!=l){for(;f>g;)if((c=d[g++])!=c)return!0}else for(;f>g;g++)if((o||g in d)&&d[g]===l)return o||g||0;return!o&&-1}}},function(t,r){r.f=Object.getOwnPropertySymbols},function(t,r,e){var n=e(37);t.exports=Array.isArray||function(i){return n(i)=="Array"}},function(t,r,e){var n=e(15)("iterator"),i=!1;try{var a=[7][n]();a.return=function(){i=!0},Array.from(a,function(){throw 2})}catch{}t.exports=function(o,s){if(!s&&!i)return!1;var l=!1;try{var u=[7],c=u[n]();c.next=function(){return{done:l=!0}},u[n]=function(){return c},o(u)}catch{}return l}},function(t,r,e){"use strict";var n=e(12);t.exports=function(){var i=n(this),a="";return i.global&&(a+="g"),i.ignoreCase&&(a+="i"),i.multiline&&(a+="m"),i.unicode&&(a+="u"),i.sticky&&(a+="y"),a}},function(t,r,e){"use strict";var n=e(65),i=RegExp.prototype.exec;t.exports=function(a,o){var s=a.exec;if(typeof s=="function"){var l=s.call(a,o);if(typeof l!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return l}if(n(a)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(a,o)}},function(t,r,e){"use strict";e(136);var n=e(23),i=e(27),a=e(11),o=e(38),s=e(15),l=e(106),u=s("species"),c=!a(function(){var f=/./;return f.exec=function(){var g=[];return g.groups={a:"7"},g},"".replace(f,"$<a>")!=="7"}),d=function(){var f=/(?:)/,g=f.exec;f.exec=function(){return g.apply(this,arguments)};var y="ab".split(f);return y.length===2&&y[0]==="a"&&y[1]==="b"}();t.exports=function(f,g,y){var h=s(f),p=!a(function(){var O={};return O[h]=function(){return 7},""[f](O)!=7}),m=p?!a(function(){var O=!1,R=/a/;return R.exec=function(){return O=!0,null},f==="split"&&(R.constructor={},R.constructor[u]=function(){return R}),R[h](""),!O}):void 0;if(!p||!m||f==="replace"&&!c||f==="split"&&!d){var b=/./[h],v=y(o,h,""[f],function(O,R,L,T,x){return R.exec===l?p&&!x?{done:!0,value:b.call(R,L,T)}:{done:!0,value:O.call(L,R,T)}:{done:!1}}),k=v[0],S=v[1];n(String.prototype,f,k),i(RegExp.prototype,h,g==2?function(O,R){return S.call(O,this,R)}:function(O){return S.call(O,this)})}}},function(t,r,e){var n=e(31),i=e(131),a=e(101),o=e(12),s=e(16),l=e(103),u={},c={};(r=t.exports=function(d,f,g,y,h){var p,m,b,v,k=h?function(){return d}:l(d),S=n(g,y,f?2:1),O=0;if(typeof k!="function")throw TypeError(d+" is not iterable!");if(a(k)){for(p=s(d.length);p>O;O++)if((v=f?S(o(m=d[O])[0],m[1]):S(d[O]))===u||v===c)return v}else for(b=k.call(d);!(m=b.next()).done;)if((v=i(b,S,m.value,f))===u||v===c)return v}).BREAK=u,r.RETURN=c},function(t,r,e){var n=e(10).navigator;t.exports=n&&n.userAgent||""},function(t,r,e){"use strict";var n=e(10),i=e(0),a=e(23),o=e(58),s=e(41),l=e(77),u=e(57),c=e(13),d=e(11),f=e(73),g=e(53),y=e(92);t.exports=function(h,p,m,b,v,k){var S=n[h],O=S,R=v?"set":"add",L=O&&O.prototype,T={},x=function(C){var A=L[C];a(L,C,C=="delete"||C=="has"?function(D){return!(k&&!c(D))&&A.call(this,D===0?0:D)}:C=="get"?function(D){return k&&!c(D)?void 0:A.call(this,D===0?0:D)}:C=="add"?function(D){return A.call(this,D===0?0:D),this}:function(D,P){return A.call(this,D===0?0:D,P),this})};if(typeof O=="function"&&(k||L.forEach&&!d(function(){new O().entries().next()}))){var w=new O,I=w[R](k?{}:-0,1)!=w,B=d(function(){w.has(1)}),E=f(function(C){new O(C)}),_=!k&&d(function(){for(var C=new O,A=5;A--;)C[R](A,A);return!C.has(-0)});E||((O=p(function(C,A){u(C,O,h);var D=y(new S,C,O);return A!=null&&l(A,v,D[R],D),D})).prototype=L,L.constructor=O),(B||_)&&(x("delete"),x("has"),v&&x("get")),(_||I)&&x(R),k&&L.clear&&delete L.clear}else O=b.getConstructor(p,h,v,R),o(O.prototype,m),s.NEED=!0;return g(O,h),T[h]=O,i(i.G+i.W+i.F*(O!=S),T),k||b.setStrong(O,h,v),O}},function(t,r,e){for(var n,i=e(10),a=e(27),o=e(44),s=o("typed_array"),l=o("view"),u=!(!i.ArrayBuffer||!i.DataView),c=u,d=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(n=i[f[d++]])?(a(n.prototype,s,!0),a(n.prototype,l,!0)):c=!1;t.exports={ABV:u,CONSTR:c,TYPED:s,VIEW:l}},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(7)],(a=typeof(n=function(o,s,l,u){"use strict";var c=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=c(s),l=c(l);var d=function(){function f(){(0,s.default)(this,f),this.subscribers={}}return(0,l.default)(f,[{key:"on",value:function(g,y){g in this.subscribers||(this.subscribers[g]=[]),this.subscribers[g].push(y)}},{key:"once",value:function(g,y){var h=this;g in this.subscribers||(this.subscribers[g]=[]),this.subscribers[g].push(function p(m){var b=y(m),v=h.subscribers[g].indexOf(p);return v!==-1&&h.subscribers[g].splice(v,1),b})}},{key:"emit",value:function(g,y){!(0,u.isEmpty)(this.subscribers)&&this.subscribers[g]&&this.subscribers[g].reduce(function(h,p){return p(h)||h},y)}},{key:"off",value:function(g,y){for(var h=0;h<this.subscribers[g].length;h++)if(this.subscribers[g][h]===y){delete this.subscribers[g][h];break}}},{key:"destroy",value:function(){this.subscribers=null}}]),f}();o.default=d,d.displayName="EventsDispatcher",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(9)],(a=typeof(n=function(o,s,l,u,c,d,f){"use strict";var g=e(1);function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=g(s),l=g(l),u=g(u),c=g(c),d=g(d);var h=function(p){(0,u.default)(v,p);var m,b=(m=v,function(){var k,S=(0,d.default)(m);if(y()){var O=(0,d.default)(this).constructor;k=Reflect.construct(S,arguments,O)}else k=S.apply(this,arguments);return(0,c.default)(this,k)});function v(){return(0,s.default)(this,v),b.apply(this,arguments)}return(0,l.default)(v,[{key:"getMethodsForTool",value:function(k){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(k)})}},{key:"methods",get:function(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}}]),v}((f=g(f)).default);o.default=h,h.displayName="API",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(9),e(14),e(7),e(60),e(84),e(114),e(385)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y,h,p,m,b){"use strict";var v=e(8),k=e(1);function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=k(s),l=k(l),u=k(u),c=k(c),d=k(d),f=k(f),g=k(g),y=v(y),h=k(h),m=k(m),b=v(b);var O=function(R){(0,u.default)(x,R);var L,T=(L=x,function(){var w,I=(0,d.default)(L);if(S()){var B=(0,d.default)(this).constructor;w=Reflect.construct(I,arguments,B)}else w=I.apply(this,arguments);return(0,c.default)(this,w)});function x(w){var I,B=w.config,E=w.eventsDispatcher;return(0,s.default)(this,x),(I=T.call(this,{config:B,eventsDispatcher:E})).tooltip=new m.default,I}return(0,l.default)(x,[{key:"toggleReadOnly",value:function(w){w?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):(this.drawUI(),this.enableModuleBindings())}},{key:"moveAndOpen",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.Editor.BlockManager.currentBlock;if(this.toolboxInstance.close(),this.Editor.BlockSettings.close(),w){this.hoveredBlock=w;var I,B=w.holder,E=this.Editor.UI.isMobile,_=w.pluginsContent,C=window.getComputedStyle(_),A=parseInt(C.paddingTop,10),D=B.offsetHeight;I=E?B.offsetTop+D:B.offsetTop+A,this.nodes.wrapper.style.top="".concat(Math.floor(I),"px"),this.Editor.BlockManager.blocks.length===1&&w.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}}},{key:"close",value:function(){this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),this.toolboxInstance.close(),this.Editor.BlockSettings.close())}},{key:"open",value:function(){var w=this,I=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y.delay(function(){w.nodes.wrapper.classList.add(w.CSS.toolbarOpened),I?w.blockActions.show():w.blockActions.hide()},50)()}},{key:"make",value:function(){var w=this;this.nodes.wrapper=g.default.make("div",this.CSS.toolbar),["content","actions"].forEach(function(E){w.nodes[E]=g.default.make("div",w.CSS[E])}),g.default.append(this.nodes.wrapper,this.nodes.content),g.default.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=g.default.make("div",this.CSS.plusButton),g.default.append(this.nodes.plusButton,g.default.svg("plus",16,16)),g.default.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",function(){w.tooltip.hide(!0),w.plusButtonClicked()},!1);var I=g.default.make("div");I.appendChild(document.createTextNode(h.default.ui(p.I18nInternalNS.ui.toolbar.toolbox,"Add"))),I.appendChild(g.default.make("div",this.CSS.plusButtonShortcut,{textContent:"\u21E5 Tab"})),this.tooltip.onHover(this.nodes.plusButton,I,{hidingDelay:400}),this.nodes.settingsToggler=g.default.make("span",this.CSS.settingsToggler);var B=g.default.svg("dots",16,16);g.default.append(this.nodes.settingsToggler,B),g.default.append(this.nodes.actions,this.nodes.settingsToggler),this.tooltip.onHover(this.nodes.settingsToggler,h.default.ui(p.I18nInternalNS.ui.blockTunes.toggler,"Click to tune"),{hidingDelay:400}),g.default.append(this.nodes.actions,this.makeToolbox()),g.default.append(this.nodes.actions,this.Editor.BlockSettings.nodes.wrapper),g.default.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}},{key:"makeToolbox",value:function(){var w=this;return this.toolboxInstance=new b.default({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:h.default.ui(p.I18nInternalNS.ui.toolbar.toolbox,"Filter"),nothingFound:h.default.ui(p.I18nInternalNS.ui.toolbar.toolbox,"Nothing found")}}),this.toolboxInstance.on(b.ToolboxEvent.Opened,function(){w.Editor.UI.nodes.wrapper.classList.add(w.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(b.ToolboxEvent.Closed,function(){w.Editor.UI.nodes.wrapper.classList.remove(w.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(b.ToolboxEvent.BlockAdded,function(I){var B=I.block,E=w.Editor,_=E.BlockManager,C=E.Caret,A=_.getBlockById(B.id);A.inputs.length===0&&(A===_.lastBlock?(_.insertAtEnd(),C.setToBlock(_.lastBlock)):C.setToBlock(_.nextBlock))}),this.toolboxInstance.make()}},{key:"plusButtonClicked",value:function(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.toggle()}},{key:"enableModuleBindings",value:function(){var w=this;this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",function(I){I.stopPropagation(),w.settingsTogglerClicked(),w.toolboxInstance.close(),w.tooltip.hide(!0)},!0),y.isMobileScreen()||this.eventsDispatcher.on(this.Editor.UI.events.blockHovered,function(I){w.Editor.BlockSettings.opened||w.toolboxInstance.opened||w.moveAndOpen(I.block)})}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"settingsTogglerClicked",value:function(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}},{key:"drawUI",value:function(){this.Editor.BlockSettings.make(),this.make()}},{key:"destroy",value:function(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy(),this.tooltip.destroy()}},{key:"CSS",get:function(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}},{key:"opened",get:function(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}},{key:"toolbox",get:function(){var w=this;return{opened:this.toolboxInstance.opened,close:function(){w.toolboxInstance.close()},open:function(){w.Editor.BlockManager.currentBlock=w.hoveredBlock,w.toolboxInstance.open()},toggle:function(){return w.toolboxInstance.toggle()},hasFocus:function(){return w.toolboxInstance.hasFocus()}}}},{key:"blockActions",get:function(){var w=this;return{hide:function(){w.nodes.actions.classList.remove(w.CSS.actionsOpened)},show:function(){w.nodes.actions.classList.add(w.CSS.actionsOpened)}}}},{key:"blockTunesToggler",get:function(){var w=this;return{hide:function(){return w.nodes.settingsToggler.classList.add(w.CSS.settingsTogglerHidden)},show:function(){return w.nodes.settingsToggler.classList.remove(w.CSS.settingsTogglerHidden)}}}}]),x}(f.default);o.default=O,O.displayName="Toolbar",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(30),e(150),e(7)],(a=typeof(n=function(o,s,l,u){"use strict";var c=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.I18nInternalNS=void 0,s=c(s);var d=function f(g,y){var h={};return Object.entries(g).forEach(function(p){var m=(0,s.default)(p,2),b=m[0],v=m[1];if((0,u.isObject)(v)){var k=y?"".concat(y,".").concat(b):b,S=Object.values(v).every(function(O){return(0,u.isString)(O)});h[b]=S?k:f(v,k)}else h[b]=v}),h}((l=c(l)).default);o.I18nInternalNS=d})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n=e(13),i=e(10).document,a=n(i)&&n(i.createElement);t.exports=function(o){return a?i.createElement(o):{}}},function(t,r,e){r.f=e(15)},function(t,r,e){var n=e(69)("keys"),i=e(44);t.exports=function(a){return n[a]||(n[a]=i(a))}},function(t,r){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,r,e){var n=e(10).document;t.exports=n&&n.documentElement},function(t,r,e){var n=e(13),i=e(12),a=function(o,s){if(i(o),!n(s)&&s!==null)throw TypeError(s+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(o,s,l){try{(l=e(31)(Function.call,e(34).f(Object.prototype,"__proto__").set,2))(o,[]),s=!(o instanceof Array)}catch{s=!0}return function(u,c){return a(u,c),s?u.__proto__=c:l(u,c),u}}({},!1):void 0),check:a}},function(t,r){t.exports=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(t,r,e){var n=e(13),i=e(90).set;t.exports=function(a,o,s){var l,u=o.constructor;return u!==s&&typeof u=="function"&&(l=u.prototype)!==s.prototype&&n(l)&&i&&i(a,l),a}},function(t,r,e){"use strict";var n=e(33),i=e(38);t.exports=function(a){var o=String(i(this)),s="",l=n(a);if(l<0||l==1/0)throw RangeError("Count can't be negative");for(;l>0;(l>>>=1)&&(o+=o))1&l&&(s+=o);return s}},function(t,r){t.exports=Math.sign||function(e){return(e=+e)==0||e!=e?e:e<0?-1:1}},function(t,r){var e=Math.expm1;t.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||e(-2e-17)!=-2e-17?function(n){return(n=+n)==0?n:n>-1e-6&&n<1e-6?n+n*n/2:Math.exp(n)-1}:e},function(t,r,e){var n=e(33),i=e(38);t.exports=function(a){return function(o,s){var l,u,c=String(i(o)),d=n(s),f=c.length;return d<0||d>=f?a?"":void 0:(l=c.charCodeAt(d))<55296||l>56319||d+1===f||(u=c.charCodeAt(d+1))<56320||u>57343?a?c.charAt(d):l:a?c.slice(d,d+2):u-56320+(l-55296<<10)+65536}}},function(t,r,e){"use strict";var n=e(45),i=e(0),a=e(23),o=e(27),s=e(55),l=e(130),u=e(53),c=e(50),d=e(15)("iterator"),f=!([].keys&&"next"in[].keys()),g=function(){return this};t.exports=function(y,h,p,m,b,v,k){l(p,h,m);var S,O,R,L=function(A){if(!f&&A in I)return I[A];switch(A){case"keys":case"values":return function(){return new p(this,A)}}return function(){return new p(this,A)}},T=h+" Iterator",x=b=="values",w=!1,I=y.prototype,B=I[d]||I["@@iterator"]||b&&I[b],E=B||L(b),_=b?x?L("entries"):E:void 0,C=h=="Array"&&I.entries||B;if(C&&(R=c(C.call(new y)))!==Object.prototype&&R.next&&(u(R,T,!0),n||typeof R[d]=="function"||o(R,d,g)),x&&B&&B.name!=="values"&&(w=!0,E=function(){return B.call(this)}),n&&!k||!f&&!w&&I[d]||o(I,d,E),s[h]=E,s[T]=g,b)if(S={values:x?E:L("values"),keys:v?E:L("keys"),entries:_},k)for(O in S)O in I||a(I,O,S[O]);else i(i.P+i.F*(f||w),h,S);return S}},function(t,r,e){var n=e(99),i=e(38);t.exports=function(a,o,s){if(n(o))throw TypeError("String#"+s+" doesn't accept regex!");return String(i(a))}},function(t,r,e){var n=e(13),i=e(37),a=e(15)("match");t.exports=function(o){var s;return n(o)&&((s=o[a])!==void 0?!!s:i(o)=="RegExp")}},function(t,r,e){var n=e(15)("match");t.exports=function(i){var a=/./;try{"/./"[i](a)}catch{try{return a[n]=!1,!"/./"[i](a)}catch{}}return!0}},function(t,r,e){var n=e(55),i=e(15)("iterator"),a=Array.prototype;t.exports=function(o){return o!==void 0&&(n.Array===o||a[i]===o)}},function(t,r,e){"use strict";var n=e(19),i=e(43);t.exports=function(a,o,s){o in a?n.f(a,o,i(0,s)):a[o]=s}},function(t,r,e){var n=e(65),i=e(15)("iterator"),a=e(55);t.exports=e(17).getIteratorMethod=function(o){if(o!=null)return o[i]||o["@@iterator"]||a[n(o)]}},function(t,r,e){"use strict";var n=e(22),i=e(47),a=e(16);t.exports=function(o){for(var s=n(this),l=a(s.length),u=arguments.length,c=i(u>1?arguments[1]:void 0,l),d=u>2?arguments[2]:void 0,f=d===void 0?l:i(d,l);f>c;)s[c++]=o;return s}},function(t,r,e){"use strict";var n=e(51),i=e(135),a=e(55),o=e(28);t.exports=e(97)(Array,"Array",function(s,l){this._t=o(s),this._i=0,this._k=l},function(){var s=this._t,l=this._k,u=this._i++;return!s||u>=s.length?(this._t=void 0,i(1)):i(0,l=="keys"?u:l=="values"?s[u]:[u,s[u]])},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},function(t,r,e){"use strict";var n,i,a=e(74),o=RegExp.prototype.exec,s=String.prototype.replace,l=o,u=(n=/a/,i=/b*/g,o.call(n,"a"),o.call(i,"a"),n.lastIndex!==0||i.lastIndex!==0),c=/()??/.exec("")[1]!==void 0;(u||c)&&(l=function(d){var f,g,y,h,p=this;return c&&(g=new RegExp("^"+p.source+"$(?!\\s)",a.call(p))),u&&(f=p.lastIndex),y=o.call(p,d),u&&y&&(p.lastIndex=p.global?y.index+y[0].length:f),c&&y&&y.length>1&&s.call(y[0],g,function(){for(h=1;h<arguments.length-2;h++)arguments[h]===void 0&&(y[h]=void 0)}),y}),t.exports=l},function(t,r,e){"use strict";var n=e(96)(!0);t.exports=function(i,a,o){return a+(o?n(i,a).length:1)}},function(t,r,e){var n,i,a,o=e(31),s=e(124),l=e(89),u=e(85),c=e(10),d=c.process,f=c.setImmediate,g=c.clearImmediate,y=c.MessageChannel,h=c.Dispatch,p=0,m={},b=function(){var k=+this;if(m.hasOwnProperty(k)){var S=m[k];delete m[k],S()}},v=function(k){b.call(k.data)};f&&g||(f=function(k){for(var S=[],O=1;arguments.length>O;)S.push(arguments[O++]);return m[++p]=function(){s(typeof k=="function"?k:Function(k),S)},n(p),p},g=function(k){delete m[k]},e(37)(d)=="process"?n=function(k){d.nextTick(o(b,k,1))}:h&&h.now?n=function(k){h.now(o(b,k,1))}:y?(a=(i=new y).port2,i.port1.onmessage=v,n=o(a.postMessage,a,1)):c.addEventListener&&typeof postMessage=="function"&&!c.importScripts?(n=function(k){c.postMessage(k+"","*")},c.addEventListener("message",v,!1)):n="onreadystatechange"in u("script")?function(k){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),b.call(k)}}:function(k){setTimeout(o(b,k,1),0)}),t.exports={set:f,clear:g}},function(t,r,e){"use strict";var n=e(10),i=e(18),a=e(45),o=e(80),s=e(27),l=e(58),u=e(11),c=e(57),d=e(33),f=e(16),g=e(143),y=e(49).f,h=e(19).f,p=e(104),m=e(53),b=n.ArrayBuffer,v=n.DataView,k=n.Math,S=n.RangeError,O=n.Infinity,R=b,L=k.abs,T=k.pow,x=k.floor,w=k.log,I=k.LN2,B=i?"_b":"buffer",E=i?"_l":"byteLength",_=i?"_o":"byteOffset";function C(W,K,ae){var te,oe,he,pe=new Array(ae),de=8*ae-K-1,ve=(1<<de)-1,me=ve>>1,ce=K===23?T(2,-24)-T(2,-77):0,J=0,Q=W<0||W===0&&1/W<0?1:0;for((W=L(W))!=W||W===O?(oe=W!=W?1:0,te=ve):(te=x(w(W)/I),W*(he=T(2,-te))<1&&(te--,he*=2),(W+=te+me>=1?ce/he:ce*T(2,1-me))*he>=2&&(te++,he/=2),te+me>=ve?(oe=0,te=ve):te+me>=1?(oe=(W*he-1)*T(2,K),te+=me):(oe=W*T(2,me-1)*T(2,K),te=0));K>=8;pe[J++]=255&oe,oe/=256,K-=8);for(te=te<<K|oe,de+=K;de>0;pe[J++]=255&te,te/=256,de-=8);return pe[--J]|=128*Q,pe}function A(W,K,ae){var te,oe=8*ae-K-1,he=(1<<oe)-1,pe=he>>1,de=oe-7,ve=ae-1,me=W[ve--],ce=127&me;for(me>>=7;de>0;ce=256*ce+W[ve],ve--,de-=8);for(te=ce&(1<<-de)-1,ce>>=-de,de+=K;de>0;te=256*te+W[ve],ve--,de-=8);if(ce===0)ce=1-pe;else{if(ce===he)return te?NaN:me?-O:O;te+=T(2,K),ce-=pe}return(me?-1:1)*te*T(2,ce-K)}function D(W){return W[3]<<24|W[2]<<16|W[1]<<8|W[0]}function P(W){return[255&W]}function M(W){return[255&W,W>>8&255]}function N(W){return[255&W,W>>8&255,W>>16&255,W>>24&255]}function F(W){return C(W,52,8)}function j(W){return C(W,23,4)}function H(W,K,ae){h(W.prototype,K,{get:function(){return this[ae]}})}function U(W,K,ae,te){var oe=g(+ae);if(oe+K>W[E])throw S("Wrong index!");var he=W[B]._b,pe=oe+W[_],de=he.slice(pe,pe+K);return te?de:de.reverse()}function z(W,K,ae,te,oe,he){var pe=g(+ae);if(pe+K>W[E])throw S("Wrong index!");for(var de=W[B]._b,ve=pe+W[_],me=te(+oe),ce=0;ce<K;ce++)de[ve+ce]=me[he?ce:K-ce-1]}if(o.ABV){if(!u(function(){b(1)})||!u(function(){new b(-1)})||u(function(){return new b,new b(1.5),new b(NaN),b.name!="ArrayBuffer"})){for(var V,X=(b=function(W){return c(this,b),new R(g(W))}).prototype=R.prototype,q=y(R),G=0;q.length>G;)(V=q[G++])in b||s(b,V,R[V]);a||(X.constructor=b)}var ee=new v(new b(2)),ne=v.prototype.setInt8;ee.setInt8(0,2147483648),ee.setInt8(1,2147483649),!ee.getInt8(0)&&ee.getInt8(1)||l(v.prototype,{setInt8:function(W,K){ne.call(this,W,K<<24>>24)},setUint8:function(W,K){ne.call(this,W,K<<24>>24)}},!0)}else b=function(W){c(this,b,"ArrayBuffer");var K=g(W);this._b=p.call(new Array(K),0),this[E]=K},v=function(W,K,ae){c(this,v,"DataView"),c(W,b,"DataView");var te=W[E],oe=d(K);if(oe<0||oe>te)throw S("Wrong offset!");if(oe+(ae=ae===void 0?te-oe:f(ae))>te)throw S("Wrong length!");this[B]=W,this[_]=oe,this[E]=ae},i&&(H(b,"byteLength","_l"),H(v,"buffer","_b"),H(v,"byteLength","_l"),H(v,"byteOffset","_o")),l(v.prototype,{getInt8:function(W){return U(this,1,W)[0]<<24>>24},getUint8:function(W){return U(this,1,W)[0]},getInt16:function(W){var K=U(this,2,W,arguments[1]);return(K[1]<<8|K[0])<<16>>16},getUint16:function(W){var K=U(this,2,W,arguments[1]);return K[1]<<8|K[0]},getInt32:function(W){return D(U(this,4,W,arguments[1]))},getUint32:function(W){return D(U(this,4,W,arguments[1]))>>>0},getFloat32:function(W){return A(U(this,4,W,arguments[1]),23,4)},getFloat64:function(W){return A(U(this,8,W,arguments[1]),52,8)},setInt8:function(W,K){z(this,1,W,P,K)},setUint8:function(W,K){z(this,1,W,P,K)},setInt16:function(W,K){z(this,2,W,M,K,arguments[2])},setUint16:function(W,K){z(this,2,W,M,K,arguments[2])},setInt32:function(W,K){z(this,4,W,N,K,arguments[2])},setUint32:function(W,K){z(this,4,W,N,K,arguments[2])},setFloat32:function(W,K){z(this,4,W,j,K,arguments[2])},setFloat64:function(W,K){z(this,8,W,F,K,arguments[2])}});m(b,"ArrayBuffer"),m(v,"DataView"),s(v.prototype,o.VIEW,!0),r.ArrayBuffer=b,r.DataView=v},function(t,r){function e(n,i){return t.exports=e=Object.setPrototypeOf||function(a,o){return a.__proto__=o,a},e(n,i)}t.exports=e},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(7)],(a=typeof(n=function(o,s,l,u){"use strict";var c=e(8),d=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=d(s),l=d(l),u=c(u);var f=function(){function g(){(0,s.default)(this,g),this.allListeners=[]}return(0,l.default)(g,[{key:"on",value:function(y,h,p){var m=arguments.length>3&&arguments[3]!==void 0&&arguments[3],b=u.generateId("l"),v={id:b,element:y,eventType:h,handler:p,options:m},k=this.findOne(y,h,p);if(!k)return this.allListeners.push(v),y.addEventListener(h,p,m),b}},{key:"off",value:function(y,h,p,m){var b=this,v=this.findAll(y,h,p);v.forEach(function(k,S){var O=b.allListeners.indexOf(v[S]);O>-1&&(b.allListeners.splice(O,1),k.element.removeEventListener(k.eventType,k.handler,k.options))})}},{key:"offById",value:function(y){var h=this.findById(y);h&&h.element.removeEventListener(h.eventType,h.handler,h.options)}},{key:"findOne",value:function(y,h,p){var m=this.findAll(y,h,p);return m.length>0?m[0]:null}},{key:"findAll",value:function(y,h,p){var m=y?this.findByEventTarget(y):[];return y&&h&&p?m.filter(function(b){return b.eventType===h&&b.handler===p}):y&&h?m.filter(function(b){return b.eventType===h}):m}},{key:"removeAll",value:function(){this.allListeners.map(function(y){y.element.removeEventListener(y.eventType,y.handler,y.options)}),this.allListeners=[]}},{key:"destroy",value:function(){this.removeAll()}},{key:"findByEventTarget",value:function(y){return this.allListeners.filter(function(h){if(h.element===y)return h})}},{key:"findByType",value:function(y){return this.allListeners.filter(function(h){if(h.eventType===y)return h})}},{key:"findByHandler",value:function(y){return this.allListeners.filter(function(h){if(h.handler===y)return h})}},{key:"findById",value:function(y){return this.allListeners.find(function(h){return h.id===y})}}]),g}();o.default=f,f.displayName="Listeners",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r],(a=typeof(n=function(o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var s=function(l){var u={get id(){return l.id},get name(){return l.name},get config(){return l.config},get holder(){return l.holder},get isEmpty(){return l.isEmpty},get selected(){return l.selected},set stretched(c){l.stretched=c},get stretched(){return l.stretched},call:function(c,d){return l.call(c,d)},save:function(){return l.save()},validate:function(c){return l.validate(c)},dispatchChange:function(){l.dispatchChange()}};Object.setPrototypeOf(this,u)};o.default=s,t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n=e(376);function i(a,o,s){return typeof Reflect<"u"&&Reflect.get?t.exports=i=Reflect.get:t.exports=i=function(l,u,c){var d=n(l,u);if(d){var f=Object.getOwnPropertyDescriptor(d,u);return f.get?f.get.call(c):f.value}},i(a,o,s||a)}t.exports=i},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(380)],(a=typeof(n=function(o,s,l,u){"use strict";var c=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=c(s),l=c(l),u=c(u);var d=function(){function f(){(0,s.default)(this,f),this.lib=new u.default}return(0,l.default)(f,[{key:"destroy",value:function(){this.lib.destroy()}},{key:"show",value:function(g,y,h){this.lib.show(g,y,h)}},{key:"hide",value:function(){var g=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.lib.hide(g)}},{key:"onHover",value:function(g,y,h){this.lib.onHover(g,y,h)}}]),f}();o.default=d,d.displayName="Tooltip",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(42),e(2),e(3),e(384)],(a=typeof(n=function(o,s,l,u,c){"use strict";var d=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=d(s),l=d(l),u=d(u),c=d(c);var f=function(){function y(){(0,l.default)(this,y),this.registeredShortcuts=new Map}return(0,u.default)(y,[{key:"add",value:function(h){if(this.findShortcut(h.on,h.name))throw Error("Shortcut ".concat(h.name," is already registered for ").concat(h.on,". Please remove it before add a new handler."));var p=new c.default({name:h.name,on:h.on,callback:h.handler}),m=this.registeredShortcuts.get(h.on)||[];this.registeredShortcuts.set(h.on,[].concat((0,s.default)(m),[p]))}},{key:"remove",value:function(h,p){var m=this.findShortcut(h,p);if(m){m.remove();var b=this.registeredShortcuts.get(h);this.registeredShortcuts.set(h,b.filter(function(v){return v!==m}))}}},{key:"findShortcut",value:function(h,p){return(this.registeredShortcuts.get(h)||[]).find(function(m){return m.name===p})}}]),y}();f.displayName="Shortcuts";var g=new f;o.default=g,t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){t.exports=!e(18)&&!e(11)(function(){return Object.defineProperty(e(85)("div"),"a",{get:function(){return 7}}).a!=7})},function(t,r,e){var n=e(10),i=e(17),a=e(45),o=e(86),s=e(19).f;t.exports=function(l){var u=i.Symbol||(i.Symbol=a?{}:n.Symbol||{});l.charAt(0)=="_"||l in u||s(u,l,{value:o.f(l)})}},function(t,r,e){var n=e(26),i=e(28),a=e(70)(!1),o=e(87)("IE_PROTO");t.exports=function(s,l){var u,c=i(s),d=0,f=[];for(u in c)u!=o&&n(c,u)&&f.push(u);for(;l.length>d;)n(c,u=l[d++])&&(~a(f,u)||f.push(u));return f}},function(t,r,e){var n=e(19),i=e(12),a=e(46);t.exports=e(18)?Object.defineProperties:function(o,s){i(o);for(var l,u=a(s),c=u.length,d=0;c>d;)n.f(o,l=u[d++],s[l]);return o}},function(t,r,e){var n=e(28),i=e(49).f,a={}.toString,o=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(s){return o&&a.call(s)=="[object Window]"?function(l){try{return i(l)}catch{return o.slice()}}(s):i(n(s))}},function(t,r,e){"use strict";var n=e(18),i=e(46),a=e(71),o=e(64),s=e(22),l=e(63),u=Object.assign;t.exports=!u||e(11)(function(){var c={},d={},f=Symbol(),g="abcdefghijklmnopqrst";return c[f]=7,g.split("").forEach(function(y){d[y]=y}),u({},c)[f]!=7||Object.keys(u({},d)).join("")!=g})?function(c,d){for(var f=s(c),g=arguments.length,y=1,h=a.f,p=o.f;g>y;)for(var m,b=l(arguments[y++]),v=h?i(b).concat(h(b)):i(b),k=v.length,S=0;k>S;)m=v[S++],n&&!p.call(b,m)||(f[m]=b[m]);return f}:u},function(t,r){t.exports=Object.is||function(e,n){return e===n?e!==0||1/e==1/n:e!=e&&n!=n}},function(t,r,e){"use strict";var n=e(32),i=e(13),a=e(124),o=[].slice,s={},l=function(u,c,d){if(!(c in s)){for(var f=[],g=0;g<c;g++)f[g]="a["+g+"]";s[c]=Function("F,a","return new F("+f.join(",")+")")}return s[c](u,d)};t.exports=Function.bind||function(u){var c=n(this),d=o.call(arguments,1),f=function(){var g=d.concat(o.call(arguments));return this instanceof f?l(c,g.length,g):a(c,g,u)};return i(c.prototype)&&(f.prototype=c.prototype),f}},function(t,r){t.exports=function(e,n,i){var a=i===void 0;switch(n.length){case 0:return a?e():e.call(i);case 1:return a?e(n[0]):e.call(i,n[0]);case 2:return a?e(n[0],n[1]):e.call(i,n[0],n[1]);case 3:return a?e(n[0],n[1],n[2]):e.call(i,n[0],n[1],n[2]);case 4:return a?e(n[0],n[1],n[2],n[3]):e.call(i,n[0],n[1],n[2],n[3])}return e.apply(i,n)}},function(t,r,e){var n=e(10).parseInt,i=e(54).trim,a=e(91),o=/^[-+]?0[xX]/;t.exports=n(a+"08")!==8||n(a+"0x16")!==22?function(s,l){var u=i(String(s),3);return n(u,l>>>0||(o.test(u)?16:10))}:n},function(t,r,e){var n=e(10).parseFloat,i=e(54).trim;t.exports=1/n(e(91)+"-0")!=-1/0?function(a){var o=i(String(a),3),s=n(o);return s===0&&o.charAt(0)=="-"?-0:s}:n},function(t,r,e){var n=e(37);t.exports=function(i,a){if(typeof i!="number"&&n(i)!="Number")throw TypeError(a);return+i}},function(t,r,e){var n=e(13),i=Math.floor;t.exports=function(a){return!n(a)&&isFinite(a)&&i(a)===a}},function(t,r){t.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(t,r,e){"use strict";var n=e(48),i=e(43),a=e(53),o={};e(27)(o,e(15)("iterator"),function(){return this}),t.exports=function(s,l,u){s.prototype=n(o,{next:i(1,u)}),a(s,l+" Iterator")}},function(t,r,e){var n=e(12);t.exports=function(i,a,o,s){try{return s?a(n(o)[0],o[1]):a(o)}catch(u){var l=i.return;throw l!==void 0&&n(l.call(i)),u}}},function(t,r,e){var n=e(282);t.exports=function(i,a){return new(n(i))(a)}},function(t,r,e){var n=e(32),i=e(22),a=e(63),o=e(16);t.exports=function(s,l,u,c,d){n(l);var f=i(s),g=a(f),y=o(f.length),h=d?y-1:0,p=d?-1:1;if(u<2)for(;;){if(h in g){c=g[h],h+=p;break}if(h+=p,d?h<0:y<=h)throw TypeError("Reduce of empty array with no initial value")}for(;d?h>=0:y>h;h+=p)h in g&&(c=l(c,g[h],h,f));return c}},function(t,r,e){"use strict";var n=e(22),i=e(47),a=e(16);t.exports=[].copyWithin||function(o,s){var l=n(this),u=a(l.length),c=i(o,u),d=i(s,u),f=arguments.length>2?arguments[2]:void 0,g=Math.min((f===void 0?u:i(f,u))-d,u-c),y=1;for(d<c&&c<d+g&&(y=-1,d+=g-1,c+=g-1);g-- >0;)d in l?l[c]=l[d]:delete l[c],c+=y,d+=y;return l}},function(t,r){t.exports=function(e,n){return{value:n,done:!!e}}},function(t,r,e){"use strict";var n=e(106);e(0)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},function(t,r,e){e(18)&&/./g.flags!="g"&&e(19).f(RegExp.prototype,"flags",{configurable:!0,get:e(74)})},function(t,r,e){"use strict";var n,i,a,o,s=e(45),l=e(10),u=e(31),c=e(65),d=e(0),f=e(13),g=e(32),y=e(57),h=e(77),p=e(66),m=e(108).set,b=e(302)(),v=e(139),k=e(303),S=e(78),O=e(140),R=l.TypeError,L=l.process,T=L&&L.versions,x=T&&T.v8||"",w=l.Promise,I=c(L)=="process",B=function(){},E=i=v.f,_=!!function(){try{var j=w.resolve(1),H=(j.constructor={})[e(15)("species")]=function(U){U(B,B)};return(I||typeof PromiseRejectionEvent=="function")&&j.then(B)instanceof H&&x.indexOf("6.6")!==0&&S.indexOf("Chrome/66")===-1}catch{}}(),C=function(j){var H;return!(!f(j)||typeof(H=j.then)!="function")&&H},A=function(j,H){if(!j._n){j._n=!0;var U=j._c;b(function(){for(var z=j._v,V=j._s==1,X=0,q=function(G){var ee,ne,W,K=V?G.ok:G.fail,ae=G.resolve,te=G.reject,oe=G.domain;try{K?(V||(j._h==2&&M(j),j._h=1),K===!0?ee=z:(oe&&oe.enter(),ee=K(z),oe&&(oe.exit(),W=!0)),ee===G.promise?te(R("Promise-chain cycle")):(ne=C(ee))?ne.call(ee,ae,te):ae(ee)):te(z)}catch(he){oe&&!W&&oe.exit(),te(he)}};U.length>X;)q(U[X++]);j._c=[],j._n=!1,H&&!j._h&&D(j)})}},D=function(j){m.call(l,function(){var H,U,z,V=j._v,X=P(j);if(X&&(H=k(function(){I?L.emit("unhandledRejection",V,j):(U=l.onunhandledrejection)?U({promise:j,reason:V}):(z=l.console)&&z.error&&z.error("Unhandled promise rejection",V)}),j._h=I||P(j)?2:1),j._a=void 0,X&&H.e)throw H.v})},P=function(j){return j._h!==1&&(j._a||j._c).length===0},M=function(j){m.call(l,function(){var H;I?L.emit("rejectionHandled",j):(H=l.onrejectionhandled)&&H({promise:j,reason:j._v})})},N=function(j){var H=this;H._d||(H._d=!0,(H=H._w||H)._v=j,H._s=2,H._a||(H._a=H._c.slice()),A(H,!0))},F=function(j){var H,U=this;if(!U._d){U._d=!0,U=U._w||U;try{if(U===j)throw R("Promise can't be resolved itself");(H=C(j))?b(function(){var z={_w:U,_d:!1};try{H.call(j,u(F,z,1),u(N,z,1))}catch(V){N.call(z,V)}}):(U._v=j,U._s=1,A(U,!1))}catch(z){N.call({_w:U,_d:!1},z)}}};_||(w=function(j){y(this,w,"Promise","_h"),g(j),n.call(this);try{j(u(F,this,1),u(N,this,1))}catch(H){N.call(this,H)}},(n=function(j){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e(58)(w.prototype,{then:function(j,H){var U=E(p(this,w));return U.ok=typeof j!="function"||j,U.fail=typeof H=="function"&&H,U.domain=I?L.domain:void 0,this._c.push(U),this._a&&this._a.push(U),this._s&&A(this,!1),U.promise},catch:function(j){return this.then(void 0,j)}}),a=function(){var j=new n;this.promise=j,this.resolve=u(F,j,1),this.reject=u(N,j,1)},v.f=E=function(j){return j===w||j===o?new a(j):i(j)}),d(d.G+d.W+d.F*!_,{Promise:w}),e(53)(w,"Promise"),e(56)("Promise"),o=e(17).Promise,d(d.S+d.F*!_,"Promise",{reject:function(j){var H=E(this);return(0,H.reject)(j),H.promise}}),d(d.S+d.F*(s||!_),"Promise",{resolve:function(j){return O(s&&this===o?w:this,j)}}),d(d.S+d.F*!(_&&e(73)(function(j){w.all(j).catch(B)})),"Promise",{all:function(j){var H=this,U=E(H),z=U.resolve,V=U.reject,X=k(function(){var q=[],G=0,ee=1;h(j,!1,function(ne){var W=G++,K=!1;q.push(void 0),ee++,H.resolve(ne).then(function(ae){K||(K=!0,q[W]=ae,--ee||z(q))},V)}),--ee||z(q)});return X.e&&V(X.v),U.promise},race:function(j){var H=this,U=E(H),z=U.reject,V=k(function(){h(j,!1,function(X){H.resolve(X).then(U.resolve,z)})});return V.e&&z(V.v),U.promise}})},function(t,r,e){"use strict";var n=e(32);function i(a){var o,s;this.promise=new a(function(l,u){if(o!==void 0||s!==void 0)throw TypeError("Bad Promise constructor");o=l,s=u}),this.resolve=n(o),this.reject=n(s)}t.exports.f=function(a){return new i(a)}},function(t,r,e){var n=e(12),i=e(13),a=e(139);t.exports=function(o,s){if(n(o),i(s)&&s.constructor===o)return s;var l=a.f(o);return(0,l.resolve)(s),l.promise}},function(t,r,e){"use strict";var n=e(19).f,i=e(48),a=e(58),o=e(31),s=e(57),l=e(77),u=e(97),c=e(135),d=e(56),f=e(18),g=e(41).fastKey,y=e(52),h=f?"_s":"size",p=function(m,b){var v,k=g(b);if(k!=="F")return m._i[k];for(v=m._f;v;v=v.n)if(v.k==b)return v};t.exports={getConstructor:function(m,b,v,k){var S=m(function(O,R){s(O,S,b,"_i"),O._t=b,O._i=i(null),O._f=void 0,O._l=void 0,O[h]=0,R!=null&&l(R,v,O[k],O)});return a(S.prototype,{clear:function(){for(var O=y(this,b),R=O._i,L=O._f;L;L=L.n)L.r=!0,L.p&&(L.p=L.p.n=void 0),delete R[L.i];O._f=O._l=void 0,O[h]=0},delete:function(O){var R=y(this,b),L=p(R,O);if(L){var T=L.n,x=L.p;delete R._i[L.i],L.r=!0,x&&(x.n=T),T&&(T.p=x),R._f==L&&(R._f=T),R._l==L&&(R._l=x),R[h]--}return!!L},forEach:function(O){y(this,b);for(var R,L=o(O,arguments.length>1?arguments[1]:void 0,3);R=R?R.n:this._f;)for(L(R.v,R.k,this);R&&R.r;)R=R.p},has:function(O){return!!p(y(this,b),O)}}),f&&n(S.prototype,"size",{get:function(){return y(this,b)[h]}}),S},def:function(m,b,v){var k,S,O=p(m,b);return O?O.v=v:(m._l=O={i:S=g(b,!0),k:b,v,p:k=m._l,n:void 0,r:!1},m._f||(m._f=O),k&&(k.n=O),m[h]++,S!=="F"&&(m._i[S]=O)),m},getEntry:p,setStrong:function(m,b,v){u(m,b,function(k,S){this._t=y(k,b),this._k=S,this._l=void 0},function(){for(var k=this._k,S=this._l;S&&S.r;)S=S.p;return this._t&&(this._l=S=S?S.n:this._t._f)?c(0,k=="keys"?S.k:k=="values"?S.v:[S.k,S.v]):(this._t=void 0,c(1))},v?"entries":"values",!v,!0),d(b)}}},function(t,r,e){"use strict";var n=e(58),i=e(41).getWeak,a=e(12),o=e(13),s=e(57),l=e(77),u=e(36),c=e(26),d=e(52),f=u(5),g=u(6),y=0,h=function(b){return b._l||(b._l=new p)},p=function(){this.a=[]},m=function(b,v){return f(b.a,function(k){return k[0]===v})};p.prototype={get:function(b){var v=m(this,b);if(v)return v[1]},has:function(b){return!!m(this,b)},set:function(b,v){var k=m(this,b);k?k[1]=v:this.a.push([b,v])},delete:function(b){var v=g(this.a,function(k){return k[0]===b});return~v&&this.a.splice(v,1),!!~v}},t.exports={getConstructor:function(b,v,k,S){var O=b(function(R,L){s(R,O,v,"_i"),R._t=v,R._i=y++,R._l=void 0,L!=null&&l(L,k,R[S],R)});return n(O.prototype,{delete:function(R){if(!o(R))return!1;var L=i(R);return L===!0?h(d(this,v)).delete(R):L&&c(L,this._i)&&delete L[this._i]},has:function(R){if(!o(R))return!1;var L=i(R);return L===!0?h(d(this,v)).has(R):L&&c(L,this._i)}}),O},def:function(b,v,k){var S=i(a(v),!0);return S===!0?h(b).set(v,k):S[b._i]=k,b},ufstore:h}},function(t,r,e){var n=e(33),i=e(16);t.exports=function(a){if(a===void 0)return 0;var o=n(a),s=i(o);if(o!==s)throw RangeError("Wrong length!");return s}},function(t,r,e){var n=e(49),i=e(71),a=e(12),o=e(10).Reflect;t.exports=o&&o.ownKeys||function(s){var l=n.f(a(s)),u=i.f;return u?l.concat(u(s)):l}},function(t,r,e){var n=e(16),i=e(93),a=e(38);t.exports=function(o,s,l,u){var c=String(a(o)),d=c.length,f=l===void 0?" ":String(l),g=n(s);if(g<=d||f=="")return c;var y=g-d,h=i.call(f,Math.ceil(y/f.length));return h.length>y&&(h=h.slice(0,y)),u?h+c:c+h}},function(t,r,e){var n=e(18),i=e(46),a=e(28),o=e(64).f;t.exports=function(s){return function(l){for(var u,c=a(l),d=i(c),f=d.length,g=0,y=[];f>g;)u=d[g++],n&&!o.call(c,u)||y.push(s?[u,c[u]]:c[u]);return y}}},function(t,r,e){var n=function(i){"use strict";var a=Object.prototype,o=a.hasOwnProperty,s=typeof Symbol=="function"?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(B,E,_,C){var A=E&&E.prototype instanceof y?E:y,D=Object.create(A.prototype),P=new x(C||[]);return D._invoke=function(M,N,F){var j="suspendedStart";return function(H,U){if(j==="executing")throw new Error("Generator is already running");if(j==="completed"){if(H==="throw")throw U;return I()}for(F.method=H,F.arg=U;;){var z=F.delegate;if(z){var V=R(z,F);if(V){if(V===g)continue;return V}}if(F.method==="next")F.sent=F._sent=F.arg;else if(F.method==="throw"){if(j==="suspendedStart")throw j="completed",F.arg;F.dispatchException(F.arg)}else F.method==="return"&&F.abrupt("return",F.arg);j="executing";var X=f(M,N,F);if(X.type==="normal"){if(j=F.done?"completed":"suspendedYield",X.arg===g)continue;return{value:X.arg,done:F.done}}X.type==="throw"&&(j="completed",F.method="throw",F.arg=X.arg)}}}(B,_,P),D}function f(B,E,_){try{return{type:"normal",arg:B.call(E,_)}}catch(C){return{type:"throw",arg:C}}}i.wrap=d;var g={};function y(){}function h(){}function p(){}var m={};m[l]=function(){return this};var b=Object.getPrototypeOf,v=b&&b(b(w([])));v&&v!==a&&o.call(v,l)&&(m=v);var k=p.prototype=y.prototype=Object.create(m);function S(B){["next","throw","return"].forEach(function(E){B[E]=function(_){return this._invoke(E,_)}})}function O(B,E){var _;this._invoke=function(C,A){function D(){return new E(function(P,M){(function N(F,j,H,U){var z=f(B[F],B,j);if(z.type!=="throw"){var V=z.arg,X=V.value;return X&&typeof X=="object"&&o.call(X,"__await")?E.resolve(X.__await).then(function(q){N("next",q,H,U)},function(q){N("throw",q,H,U)}):E.resolve(X).then(function(q){V.value=q,H(V)},function(q){return N("throw",q,H,U)})}U(z.arg)})(C,A,P,M)})}return _=_?_.then(D,D):D()}}function R(B,E){var _=B.iterator[E.method];if(_===void 0){if(E.delegate=null,E.method==="throw"){if(B.iterator.return&&(E.method="return",E.arg=void 0,R(B,E),E.method==="throw"))return g;E.method="throw",E.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var C=f(_,B.iterator,E.arg);if(C.type==="throw")return E.method="throw",E.arg=C.arg,E.delegate=null,g;var A=C.arg;return A?A.done?(E[B.resultName]=A.value,E.next=B.nextLoc,E.method!=="return"&&(E.method="next",E.arg=void 0),E.delegate=null,g):A:(E.method="throw",E.arg=new TypeError("iterator result is not an object"),E.delegate=null,g)}function L(B){var E={tryLoc:B[0]};1 in B&&(E.catchLoc=B[1]),2 in B&&(E.finallyLoc=B[2],E.afterLoc=B[3]),this.tryEntries.push(E)}function T(B){var E=B.completion||{};E.type="normal",delete E.arg,B.completion=E}function x(B){this.tryEntries=[{tryLoc:"root"}],B.forEach(L,this),this.reset(!0)}function w(B){if(B){var E=B[l];if(E)return E.call(B);if(typeof B.next=="function")return B;if(!isNaN(B.length)){var _=-1,C=function A(){for(;++_<B.length;)if(o.call(B,_))return A.value=B[_],A.done=!1,A;return A.value=void 0,A.done=!0,A};return C.next=C}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=k.constructor=p,p.constructor=h,p[c]=h.displayName="GeneratorFunction",i.isGeneratorFunction=function(B){var E=typeof B=="function"&&B.constructor;return!!E&&(E===h||(E.displayName||E.name)==="GeneratorFunction")},i.mark=function(B){return Object.setPrototypeOf?Object.setPrototypeOf(B,p):(B.__proto__=p,c in B||(B[c]="GeneratorFunction")),B.prototype=Object.create(k),B},i.awrap=function(B){return{__await:B}},S(O.prototype),O.prototype[u]=function(){return this},i.AsyncIterator=O,i.async=function(B,E,_,C,A){A===void 0&&(A=Promise);var D=new O(d(B,E,_,C),A);return i.isGeneratorFunction(E)?D:D.next().then(function(P){return P.done?P.value:D.next()})},S(k),k[c]="Generator",k[l]=function(){return this},k.toString=function(){return"[object Generator]"},i.keys=function(B){var E=[];for(var _ in B)E.push(_);return E.reverse(),function C(){for(;E.length;){var A=E.pop();if(A in B)return C.value=A,C.done=!1,C}return C.done=!0,C}},i.values=w,x.prototype={constructor:x,reset:function(B){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!B)for(var E in this)E.charAt(0)==="t"&&o.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=void 0)},stop:function(){this.done=!0;var B=this.tryEntries[0].completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var E=this;function _(N,F){return D.type="throw",D.arg=B,E.next=N,F&&(E.method="next",E.arg=void 0),!!F}for(var C=this.tryEntries.length-1;C>=0;--C){var A=this.tryEntries[C],D=A.completion;if(A.tryLoc==="root")return _("end");if(A.tryLoc<=this.prev){var P=o.call(A,"catchLoc"),M=o.call(A,"finallyLoc");if(P&&M){if(this.prev<A.catchLoc)return _(A.catchLoc,!0);if(this.prev<A.finallyLoc)return _(A.finallyLoc)}else if(P){if(this.prev<A.catchLoc)return _(A.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<A.finallyLoc)return _(A.finallyLoc)}}}},abrupt:function(B,E){for(var _=this.tryEntries.length-1;_>=0;--_){var C=this.tryEntries[_];if(C.tryLoc<=this.prev&&o.call(C,"finallyLoc")&&this.prev<C.finallyLoc){var A=C;break}}A&&(B==="break"||B==="continue")&&A.tryLoc<=E&&E<=A.finallyLoc&&(A=null);var D=A?A.completion:{};return D.type=B,D.arg=E,A?(this.method="next",this.next=A.finallyLoc,g):this.complete(D)},complete:function(B,E){if(B.type==="throw")throw B.arg;return B.type==="break"||B.type==="continue"?this.next=B.arg:B.type==="return"?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):B.type==="normal"&&E&&(this.next=E),g},finish:function(B){for(var E=this.tryEntries.length-1;E>=0;--E){var _=this.tryEntries[E];if(_.finallyLoc===B)return this.complete(_.completion,_.afterLoc),T(_),g}},catch:function(B){for(var E=this.tryEntries.length-1;E>=0;--E){var _=this.tryEntries[E];if(_.tryLoc===B){var C=_.completion;if(C.type==="throw"){var A=C.arg;T(_)}return A}}throw new Error("illegal catch attempt")},delegateYield:function(B,E,_){return this.delegate={iterator:w(B),resultName:E,nextLoc:_},this.method==="next"&&(this.arg=void 0),g}},i}(t.exports);try{regeneratorRuntime=n}catch{Function("r","regeneratorRuntime = r")(n)}},function(t,r,e){var n=e(149);t.exports=function(i,a){if(i){if(typeof i=="string")return n(i,a);var o=Object.prototype.toString.call(i).slice(8,-1);return o==="Object"&&i.constructor&&(o=i.constructor.name),o==="Map"||o==="Set"?Array.from(o):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(i,a):void 0}}},function(t,r){t.exports=function(e,n){(n==null||n>e.length)&&(n=e.length);for(var i=0,a=new Array(n);i<n;i++)a[i]=e[i];return a}},function(t){t.exports=JSON.parse('{"ui":{"blockTunes":{"toggler":{"Click to tune":"","or drag to move":""}},"inlineToolbar":{"converter":{"Convert to":""}},"toolbar":{"toolbox":{"Add":"","Filter":"","Nothing found":""}}},"toolNames":{"Text":"","Link":"","Bold":"","Italic":""},"tools":{"link":{"Add a link":""},"stub":{"The block can not be displayed correctly.":""}},"blockTunes":{"delete":{"Delete":""},"moveUp":{"Move up":""},"moveDown":{"Move down":""}}}')},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(5),e(6),e(4),e(153)],(a=typeof(n=function(o,s,l,u,c,d){"use strict";var f=e(1);function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.CriticalError=void 0,s=f(s),l=f(l),u=f(u),c=f(c);var y=function(h){(0,l.default)(b,h);var p,m=(p=b,function(){var v,k=(0,c.default)(p);if(g()){var S=(0,c.default)(this).constructor;v=Reflect.construct(k,arguments,S)}else v=k.apply(this,arguments);return(0,u.default)(this,v)});function b(){return(0,s.default)(this,b),m.apply(this,arguments)}return b}((0,(d=f(d)).default)(Error));o.CriticalError=y,y.displayName="CriticalError"})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r){t.exports=function(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(t,r,e){var n=e(4),i=e(110),a=e(372),o=e(373);function s(l){var u=typeof Map=="function"?new Map:void 0;return t.exports=s=function(c){if(c===null||!a(c))return c;if(typeof c!="function")throw new TypeError("Super expression must either be null or a function");if(u!==void 0){if(u.has(c))return u.get(c);u.set(c,d)}function d(){return o(c,arguments,n(this).constructor)}return d.prototype=Object.create(c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),i(d,c)},s(l)}t.exports=s},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(20),e(21),e(2),e(3),e(5),e(6),e(4),e(7),e(112),e(9),e(61)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y,h,p,m){"use strict";var b=e(8),v=e(1);function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=v(s),l=v(l),u=v(u),c=v(c),d=v(d),f=v(f),g=v(g),y=b(y),h=v(h),p=v(p),m=v(m);var S=function(O){(0,d.default)(T,O);var R,L=(R=T,function(){var x,w=(0,g.default)(R);if(k()){var I=(0,g.default)(this).constructor;x=Reflect.construct(w,arguments,I)}else x=w.apply(this,arguments);return(0,f.default)(this,x)});function T(){var x;return(0,u.default)(this,T),(x=L.apply(this,arguments)).insert=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x.config.defaultBlock,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=(arguments.length>2&&arguments[2]!==void 0&&arguments[2],arguments.length>3?arguments[3]:void 0),E=arguments.length>4?arguments[4]:void 0,_=arguments.length>5?arguments[5]:void 0,C=x.Editor.BlockManager.insert({tool:w,data:I,index:B,needToFocus:E,replace:_});return new h.default(C)},x.composeBlockData=function(){var w=(0,l.default)(s.default.mark(function I(B){var E,_;return s.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return E=x.Editor.Tools.blockTools.get(B),_=new m.default({tool:E,api:x.Editor.API,readOnly:!0,data:{},tunesData:{}}),C.abrupt("return",_.data);case 3:case"end":return C.stop()}},I)}));return function(I){return w.apply(this,arguments)}}(),x.update=function(w,I){var B=x.Editor.BlockManager,E=B.getBlockById(w);if(E){var _=B.getBlockIndex(E);B.insert({id:E.id,tool:E.name,data:I,index:_,replace:!0,tunes:E.tunes})}else y.log("blocks.update(): Block with passed id was not found","warn")},x}return(0,c.default)(T,[{key:"getBlocksCount",value:function(){return this.Editor.BlockManager.blocks.length}},{key:"getCurrentBlockIndex",value:function(){return this.Editor.BlockManager.currentBlockIndex}},{key:"getBlockIndex",value:function(x){var w=this.Editor.BlockManager.getBlockById(x);if(w)return this.Editor.BlockManager.getBlockIndex(w);y.logLabeled("There is no block with id `"+x+"`","warn")}},{key:"getBlockByIndex",value:function(x){var w=this.Editor.BlockManager.getBlockByIndex(x);if(w!==void 0)return new h.default(w);y.logLabeled("There is no block at index `"+x+"`","warn")}},{key:"getById",value:function(x){var w=this.Editor.BlockManager.getBlockById(x);return w===void 0?(y.logLabeled("There is no block with id `"+x+"`","warn"),null):new h.default(w)}},{key:"swap",value:function(x,w){y.log("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(x,w)}},{key:"move",value:function(x,w){this.Editor.BlockManager.move(x,w)}},{key:"delete",value:function(x){try{this.Editor.BlockManager.removeBlock(x)}catch(w){return void y.logLabeled(w,"warn")}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}},{key:"clear",value:function(){this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}},{key:"render",value:function(x){return this.Editor.BlockManager.clear(),this.Editor.Renderer.render(x.blocks)}},{key:"renderFromHTML",value:function(x){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(x,!0)}},{key:"stretchBlock",value:function(x){var w=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];y.deprecationAssert(!0,"blocks.stretchBlock()","BlockAPI");var I=this.Editor.BlockManager.getBlockByIndex(x);I&&(I.stretched=w)}},{key:"insertNewBlock",value:function(){y.log("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}},{key:"methods",get:function(){var x=this;return{clear:function(){return x.clear()},render:function(w){return x.render(w)},renderFromHTML:function(w){return x.renderFromHTML(w)},delete:function(w){return x.delete(w)},swap:function(w,I){return x.swap(w,I)},move:function(w,I){return x.move(w,I)},getBlockByIndex:function(w){return x.getBlockByIndex(w)},getById:function(w){return x.getById(w)},getCurrentBlockIndex:function(){return x.getCurrentBlockIndex()},getBlockIndex:function(w){return x.getBlockIndex(w)},getBlocksCount:function(){return x.getBlocksCount()},stretchBlock:function(w){var I=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return x.stretchBlock(w,I)},insertNewBlock:function(){return x.insertNewBlock()},insert:this.insert,update:this.update,composeBlockData:this.composeBlockData}}}]),T}(p.default);o.default=S,S.displayName="BlocksAPI",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(9)],(a=typeof(n=function(o,s,l,u,c,d,f){"use strict";var g=e(1);function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=g(s),l=g(l),u=g(u),c=g(c),d=g(d);var h=function(p){(0,u.default)(v,p);var m,b=(m=v,function(){var k,S=(0,d.default)(m);if(y()){var O=(0,d.default)(this).constructor;k=Reflect.construct(S,arguments,O)}else k=S.apply(this,arguments);return(0,c.default)(this,k)});function v(){var k;return(0,s.default)(this,v),(k=b.apply(this,arguments)).setToFirstBlock=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k.Editor.Caret.positions.DEFAULT,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return!!k.Editor.BlockManager.firstBlock&&(k.Editor.Caret.setToBlock(k.Editor.BlockManager.firstBlock,S,O),!0)},k.setToLastBlock=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k.Editor.Caret.positions.DEFAULT,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return!!k.Editor.BlockManager.lastBlock&&(k.Editor.Caret.setToBlock(k.Editor.BlockManager.lastBlock,S,O),!0)},k.setToPreviousBlock=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k.Editor.Caret.positions.DEFAULT,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return!!k.Editor.BlockManager.previousBlock&&(k.Editor.Caret.setToBlock(k.Editor.BlockManager.previousBlock,S,O),!0)},k.setToNextBlock=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k.Editor.Caret.positions.DEFAULT,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return!!k.Editor.BlockManager.nextBlock&&(k.Editor.Caret.setToBlock(k.Editor.BlockManager.nextBlock,S,O),!0)},k.setToBlock=function(S){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k.Editor.Caret.positions.DEFAULT,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return!!k.Editor.BlockManager.blocks[S]&&(k.Editor.Caret.setToBlock(k.Editor.BlockManager.blocks[S],O,R),!0)},k.focus=function(){var S=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return S?k.setToLastBlock(k.Editor.Caret.positions.END):k.setToFirstBlock(k.Editor.Caret.positions.START)},k}return(0,l.default)(v,[{key:"methods",get:function(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}]),v}((f=g(f)).default);o.default=h,h.displayName="CaretAPI",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(9)],(a=typeof(n=function(o,s,l,u,c,d,f){"use strict";var g=e(1);function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=g(s),l=g(l),u=g(u),c=g(c),d=g(d);var h=function(p){(0,u.default)(v,p);var m,b=(m=v,function(){var k,S=(0,d.default)(m);if(y()){var O=(0,d.default)(this).constructor;k=Reflect.construct(S,arguments,O)}else k=S.apply(this,arguments);return(0,c.default)(this,k)});function v(){return(0,s.default)(this,v),b.apply(this,arguments)}return(0,l.default)(v,[{key:"on",value:function(k,S){this.eventsDispatcher.on(k,S)}},{key:"emit",value:function(k,S){this.eventsDispatcher.emit(k,S)}},{key:"off",value:function(k,S){this.eventsDispatcher.off(k,S)}},{key:"methods",get:function(){var k=this;return{emit:function(S,O){return k.emit(S,O)},off:function(S,O){return k.off(S,O)},on:function(S,O){return k.on(S,O)}}}}]),v}((f=g(f)).default);o.default=h,h.displayName="EventsAPI",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(60),e(7),e(9)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y){"use strict";var h=e(1);function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=h(s),l=h(l),u=h(u),c=h(c),d=h(d),f=h(f);var m=function(b){(0,u.default)(S,b);var v,k=(v=S,function(){var O,R=(0,d.default)(v);if(p()){var L=(0,d.default)(this).constructor;O=Reflect.construct(R,arguments,L)}else O=R.apply(this,arguments);return(0,c.default)(this,O)});function S(){return(0,s.default)(this,S),k.apply(this,arguments)}return(0,l.default)(S,[{key:"getMethodsForTool",value:function(O){return Object.assign(this.methods,{t:function(R){return f.default.t(S.getNamespace(O),R)}})}},{key:"methods",get:function(){return{t:function(){(0,g.logLabeled)("I18n.t() method can be accessed only from Tools","warn")}}}}],[{key:"getNamespace",value:function(O){return O.isTune()?"blockTunes.".concat(O.name):"tools.".concat(O.name)}}]),S}((y=h(y)).default);o.default=m,m.displayName="I18nAPI",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(9)],(a=typeof(n=function(o,s,l,u,c,d,f){"use strict";var g=e(1);function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=g(s),l=g(l),u=g(u),c=g(c),d=g(d);var h=function(p){(0,u.default)(v,p);var m,b=(m=v,function(){var k,S=(0,d.default)(m);if(y()){var O=(0,d.default)(this).constructor;k=Reflect.construct(S,arguments,O)}else k=S.apply(this,arguments);return(0,c.default)(this,k)});function v(){return(0,s.default)(this,v),b.apply(this,arguments)}return(0,l.default)(v,[{key:"open",value:function(){this.Editor.InlineToolbar.tryToShow()}},{key:"close",value:function(){this.Editor.InlineToolbar.close()}},{key:"methods",get:function(){var k=this;return{close:function(){return k.close()},open:function(){return k.open()}}}}]),v}((f=g(f)).default);o.default=h,h.displayName="InlineToolbarAPI",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(9)],(a=typeof(n=function(o,s,l,u,c,d,f){"use strict";var g=e(1);function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=g(s),l=g(l),u=g(u),c=g(c),d=g(d);var h=function(p){(0,u.default)(v,p);var m,b=(m=v,function(){var k,S=(0,d.default)(m);if(y()){var O=(0,d.default)(this).constructor;k=Reflect.construct(S,arguments,O)}else k=S.apply(this,arguments);return(0,c.default)(this,k)});function v(){return(0,s.default)(this,v),b.apply(this,arguments)}return(0,l.default)(v,[{key:"on",value:function(k,S,O,R){return this.listeners.on(k,S,O,R)}},{key:"off",value:function(k,S,O,R){this.listeners.off(k,S,O,R)}},{key:"offById",value:function(k){this.listeners.offById(k)}},{key:"methods",get:function(){var k=this;return{on:function(S,O,R,L){return k.on(S,O,R,L)},off:function(S,O,R,L){return k.off(S,O,R,L)},offById:function(S){return k.offById(S)}}}}]),v}((f=g(f)).default);o.default=h,h.displayName="ListenersAPI",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(377),e(9)],(a=typeof(n=function(o,s,l,u,c,d,f,g){"use strict";var y=e(1);function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=y(s),l=y(l),u=y(u),c=y(c),d=y(d),f=y(f);var p=function(m){(0,u.default)(k,m);var b,v=(b=k,function(){var S,O=(0,d.default)(b);if(h()){var R=(0,d.default)(this).constructor;S=Reflect.construct(O,arguments,R)}else S=O.apply(this,arguments);return(0,c.default)(this,S)});function k(S){var O,R=S.config,L=S.eventsDispatcher;return(0,s.default)(this,k),(O=v.call(this,{config:R,eventsDispatcher:L})).notifier=new f.default,O}return(0,l.default)(k,[{key:"show",value:function(S){return this.notifier.show(S)}},{key:"methods",get:function(){var S=this;return{show:function(O){return S.show(O)}}}}]),k}((g=y(g)).default);o.default=p,p.displayName="NotifierAPI",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(9)],(a=typeof(n=function(o,s,l,u,c,d,f){"use strict";var g=e(1);function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=g(s),l=g(l),u=g(u),c=g(c),d=g(d);var h=function(p){(0,u.default)(v,p);var m,b=(m=v,function(){var k,S=(0,d.default)(m);if(y()){var O=(0,d.default)(this).constructor;k=Reflect.construct(S,arguments,O)}else k=S.apply(this,arguments);return(0,c.default)(this,k)});function v(){return(0,s.default)(this,v),b.apply(this,arguments)}return(0,l.default)(v,[{key:"toggle",value:function(k){return this.Editor.ReadOnly.toggle(k)}},{key:"methods",get:function(){var k=this;return{toggle:function(S){return k.toggle(S)},get isEnabled(){return k.isEnabled}}}},{key:"isEnabled",get:function(){return this.Editor.ReadOnly.isEnabled}}]),v}((f=g(f)).default);o.default=h,h.displayName="ReadOnlyAPI",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(9),e(67)],(a=typeof(n=function(o,s,l,u,c,d,f,g){"use strict";var y=e(1);function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=y(s),l=y(l),u=y(u),c=y(c),d=y(d);var p=function(m){(0,u.default)(k,m);var b,v=(b=k,function(){var S,O=(0,d.default)(b);if(h()){var R=(0,d.default)(this).constructor;S=Reflect.construct(O,arguments,R)}else S=O.apply(this,arguments);return(0,c.default)(this,S)});function k(){return(0,s.default)(this,k),v.apply(this,arguments)}return(0,l.default)(k,[{key:"clean",value:function(S,O){return(0,g.clean)(S,O)}},{key:"methods",get:function(){var S=this;return{clean:function(O,R){return S.clean(O,R)}}}}]),k}((f=y(f)).default);o.default=p,p.displayName="SanitizerAPI",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(7),e(9)],(a=typeof(n=function(o,s,l,u,c,d,f,g){"use strict";var y=e(8),h=e(1);function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=h(s),l=h(l),u=h(u),c=h(c),d=h(d),f=y(f);var m=function(b){(0,u.default)(S,b);var v,k=(v=S,function(){var O,R=(0,d.default)(v);if(p()){var L=(0,d.default)(this).constructor;O=Reflect.construct(R,arguments,L)}else O=R.apply(this,arguments);return(0,c.default)(this,O)});function S(){return(0,s.default)(this,S),k.apply(this,arguments)}return(0,l.default)(S,[{key:"save",value:function(){var O="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(f.logLabeled(O,"warn"),Promise.reject(new Error(O))):this.Editor.Saver.save()}},{key:"methods",get:function(){var O=this;return{save:function(){return O.save()}}}}]),S}((g=h(g)).default);o.default=m,m.displayName="SaverAPI",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(25),e(9)],(a=typeof(n=function(o,s,l,u,c,d,f,g){"use strict";var y=e(1);function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=y(s),l=y(l),u=y(u),c=y(c),d=y(d),f=y(f);var p=function(m){(0,u.default)(k,m);var b,v=(b=k,function(){var S,O=(0,d.default)(b);if(h()){var R=(0,d.default)(this).constructor;S=Reflect.construct(O,arguments,R)}else S=O.apply(this,arguments);return(0,c.default)(this,S)});function k(){return(0,s.default)(this,k),v.apply(this,arguments)}return(0,l.default)(k,[{key:"findParentTag",value:function(S,O){return new f.default().findParentTag(S,O)}},{key:"expandToTag",value:function(S){new f.default().expandToTag(S)}},{key:"methods",get:function(){var S=this;return{findParentTag:function(O,R){return S.findParentTag(O,R)},expandToTag:function(O){return S.expandToTag(O)}}}}]),k}((g=y(g)).default);o.default=p,p.displayName="SelectionAPI",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(9)],(a=typeof(n=function(o,s,l,u,c,d,f){"use strict";var g=e(1);function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=g(s),l=g(l),u=g(u),c=g(c),d=g(d);var h=function(p){(0,u.default)(v,p);var m,b=(m=v,function(){var k,S=(0,d.default)(m);if(y()){var O=(0,d.default)(this).constructor;k=Reflect.construct(S,arguments,O)}else k=S.apply(this,arguments);return(0,c.default)(this,k)});function v(){return(0,s.default)(this,v),b.apply(this,arguments)}return(0,l.default)(v,[{key:"classes",get:function(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}]),v}((f=g(f)).default);o.default=h,h.displayName="StylesAPI",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(9),e(7)],(a=typeof(n=function(o,s,l,u,c,d,f,g){"use strict";var y=e(8),h=e(1);function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=h(s),l=h(l),u=h(u),c=h(c),d=h(d),f=h(f),g=y(g);var m=function(b){(0,u.default)(S,b);var v,k=(v=S,function(){var O,R=(0,d.default)(v);if(p()){var L=(0,d.default)(this).constructor;O=Reflect.construct(R,arguments,L)}else O=R.apply(this,arguments);return(0,c.default)(this,O)});function S(){return(0,s.default)(this,S),k.apply(this,arguments)}return(0,l.default)(S,[{key:"open",value:function(){this.Editor.Toolbar.moveAndOpen()}},{key:"close",value:function(){this.Editor.Toolbar.close()}},{key:"toggleBlockSettings",value:function(O){this.Editor.BlockManager.currentBlockIndex!==-1?O??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close():g.logLabeled("Could't toggle the Toolbar because there is no block selected ","warn")}},{key:"methods",get:function(){var O=this;return{close:function(){return O.close()},open:function(){return O.open()},toggleBlockSettings:function(R){return O.toggleBlockSettings(R)}}}}]),S}(f.default);o.default=m,m.displayName="ToolbarAPI",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(9),e(114)],(a=typeof(n=function(o,s,l,u,c,d,f,g){"use strict";var y=e(1);function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=y(s),l=y(l),u=y(u),c=y(c),d=y(d),f=y(f),g=y(g);var p=function(m){(0,u.default)(k,m);var b,v=(b=k,function(){var S,O=(0,d.default)(b);if(h()){var R=(0,d.default)(this).constructor;S=Reflect.construct(O,arguments,R)}else S=O.apply(this,arguments);return(0,c.default)(this,S)});function k(S){var O,R=S.config,L=S.eventsDispatcher;return(0,s.default)(this,k),(O=v.call(this,{config:R,eventsDispatcher:L})).tooltip=new g.default,O}return(0,l.default)(k,[{key:"destroy",value:function(){this.tooltip.destroy()}},{key:"show",value:function(S,O,R){this.tooltip.show(S,O,R)}},{key:"hide",value:function(){this.tooltip.hide()}},{key:"onHover",value:function(S,O,R){this.tooltip.onHover(S,O,R)}},{key:"methods",get:function(){var S=this;return{show:function(O,R,L){return S.show(O,R,L)},hide:function(){return S.hide()},onHover:function(O,R,L){return S.onHover(O,R,L)}}}}]),k}(f.default);o.default=p,p.displayName="TooltipAPI",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(9)],(a=typeof(n=function(o,s,l,u,c,d,f){"use strict";var g=e(1);function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=g(s),l=g(l),u=g(u),c=g(c),d=g(d);var h=function(p){(0,u.default)(v,p);var m,b=(m=v,function(){var k,S=(0,d.default)(m);if(y()){var O=(0,d.default)(this).constructor;k=Reflect.construct(S,arguments,O)}else k=S.apply(this,arguments);return(0,c.default)(this,k)});function v(){return(0,s.default)(this,v),b.apply(this,arguments)}return(0,l.default)(v,[{key:"methods",get:function(){return{nodes:this.editorNodes}}},{key:"editorNodes",get:function(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}]),v}((f=g(f)).default);o.default=h,h.displayName="UiAPI",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(9),e(7),e(25),e(62)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y,h){"use strict";var p=e(8),m=e(1);function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=m(s),l=m(l),u=m(u),c=m(c),d=m(d),f=m(f),g=p(g),y=m(y),h=m(h);var v=function(k){(0,u.default)(R,k);var S,O=(S=R,function(){var L,T=(0,d.default)(S);if(b()){var x=(0,d.default)(this).constructor;L=Reflect.construct(T,arguments,x)}else L=T.apply(this,arguments);return(0,c.default)(this,L)});function R(){return(0,s.default)(this,R),O.apply(this,arguments)}return(0,l.default)(R,[{key:"keydown",value:function(L){switch(this.beforeKeydownProcessing(L),L.keyCode){case g.keyCodes.BACKSPACE:this.backspace(L);break;case g.keyCodes.ENTER:this.enter(L);break;case g.keyCodes.DOWN:case g.keyCodes.RIGHT:this.arrowRightAndDown(L);break;case g.keyCodes.UP:case g.keyCodes.LEFT:this.arrowLeftAndUp(L);break;case g.keyCodes.TAB:this.tabPressed(L)}}},{key:"beforeKeydownProcessing",value:function(L){this.needToolbarClosing(L)&&g.isPrintableKey(L.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),L.ctrlKey||L.metaKey||L.altKey||L.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(L)))}},{key:"keyup",value:function(L){L.shiftKey||this.Editor.UI.checkEmptiness()}},{key:"tabPressed",value:function(L){this.Editor.BlockSelection.clearSelection(L);var T=this.Editor,x=T.BlockManager,w=T.InlineToolbar,I=T.ConversionToolbar,B=x.currentBlock;if(B){var E=B.isEmpty,_=B.tool.isDefault&&E,C=!E&&I.opened,A=!E&&!y.default.isCollapsed&&w.opened;_?this.activateToolbox():C||A||this.activateBlockSettings()}}},{key:"dragOver",value:function(L){this.Editor.BlockManager.getBlockByChildNode(L.target).dropTarget=!0}},{key:"dragLeave",value:function(L){this.Editor.BlockManager.getBlockByChildNode(L.target).dropTarget=!1}},{key:"handleCommandC",value:function(L){var T=this.Editor.BlockSelection;T.anyBlockSelected&&T.copySelectedBlocks(L)}},{key:"handleCommandX",value:function(L){var T=this.Editor,x=T.BlockSelection,w=T.BlockManager,I=T.Caret;x.anyBlockSelected&&x.copySelectedBlocks(L).then(function(){var B=w.removeSelectedBlocks(),E=w.insertDefaultBlockAtIndex(B,!0);I.setToBlock(E,I.positions.START),x.clearSelection(L)})}},{key:"enter",value:function(L){var T=this.Editor,x=T.BlockManager,w=T.UI;if(!x.currentBlock.tool.isLineBreaksEnabled&&!(w.someToolbarOpened&&w.someFlipperButtonFocused||L.shiftKey)){var I=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):I=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(I),this.Editor.Toolbar.moveAndOpen(I),L.preventDefault()}}},{key:"backspace",value:function(L){var T=this.Editor,x=T.BlockManager,w=T.BlockSelection,I=T.Caret,B=x.currentBlock,E=B.tool;if(B.selected||B.isEmpty&&B.currentInput===B.firstInput){L.preventDefault();var _=x.currentBlockIndex;return x.previousBlock&&x.previousBlock.inputs.length===0?x.removeBlock(_-1):x.removeBlock(),I.setToBlock(x.currentBlock,_?I.positions.END:I.positions.START),this.Editor.Toolbar.close(),void w.clearSelection(L)}if(!E.isLineBreaksEnabled||I.isAtStart){var C=x.currentBlockIndex===0;I.isAtStart&&y.default.isCollapsed&&B.currentInput===B.firstInput&&!C&&(L.preventDefault(),this.mergeBlocks())}}},{key:"mergeBlocks",value:function(){var L=this.Editor,T=L.BlockManager,x=L.Caret,w=L.Toolbar,I=T.previousBlock,B=T.currentBlock;if(B.name!==I.name||!I.mergeable)return I.inputs.length===0||I.isEmpty?(T.removeBlock(T.currentBlockIndex-1),x.setToBlock(T.currentBlock),void w.close()):void(x.navigatePrevious()&&w.close());x.createShadow(I.pluginsContent),T.mergeBlocks(I,B).then(function(){x.restoreCaret(I.pluginsContent),I.pluginsContent.normalize(),w.close()})}},{key:"arrowRightAndDown",value:function(L){var T=this,x=h.default.usedKeys.includes(L.keyCode)&&(!L.shiftKey||L.keyCode===g.keyCodes.TAB);if(!this.Editor.UI.someToolbarOpened||!x){this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();var w=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;L.shiftKey&&L.keyCode===g.keyCodes.DOWN&&w?this.Editor.CrossBlockSelection.toggleBlockSelectedState():((L.keyCode===g.keyCodes.DOWN||L.keyCode===g.keyCodes.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?L.preventDefault():g.delay(function(){T.Editor.BlockManager.currentBlock&&T.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(L))}}},{key:"arrowLeftAndUp",value:function(L){var T=this;if(this.Editor.UI.someToolbarOpened){if(h.default.usedKeys.includes(L.keyCode)&&(!L.shiftKey||L.keyCode===g.keyCodes.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();var x=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;L.shiftKey&&L.keyCode===g.keyCodes.UP&&x?this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1):((L.keyCode===g.keyCodes.UP||L.keyCode===g.keyCodes.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?L.preventDefault():g.delay(function(){T.Editor.BlockManager.currentBlock&&T.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(L))}},{key:"needToolbarClosing",value:function(L){var T=L.keyCode===g.keyCodes.ENTER&&this.Editor.Toolbar.toolbox.opened,x=L.keyCode===g.keyCodes.ENTER&&this.Editor.BlockSettings.opened,w=L.keyCode===g.keyCodes.ENTER&&this.Editor.InlineToolbar.opened,I=L.keyCode===g.keyCodes.ENTER&&this.Editor.ConversionToolbar.opened,B=L.keyCode===g.keyCodes.TAB;return!(L.shiftKey||B||T||x||w||I)}},{key:"activateToolbox",value:function(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}},{key:"activateBlockSettings",value:function(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.moveAndOpen()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}]),R}(f.default);o.default=v,v.displayName="BlockEvents",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(20),e(21),e(2),e(3),e(5),e(6),e(4),e(61),e(9),e(14),e(7),e(382),e(112),e(383)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y,h,p,m,b,v,k){"use strict";var S=e(8),O=e(1);function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=O(s),l=O(l),u=O(u),c=O(c),d=O(d),f=O(f),g=O(g),y=S(y),h=O(h),p=O(p),m=S(m),b=O(b),v=O(v);var L=function(T){(0,d.default)(E,T);var x,w,I,B=(x=E,function(){var _,C=(0,g.default)(x);if(R()){var A=(0,g.default)(this).constructor;_=Reflect.construct(C,arguments,A)}else _=C.apply(this,arguments);return(0,f.default)(this,_)});function E(){var _;return(0,u.default)(this,E),(_=B.apply(this,arguments))._currentBlockIndex=-1,_._blocks=null,_}return(0,c.default)(E,[{key:"prepare",value:function(){var _=this,C=new b.default(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(C,{set:b.default.set,get:b.default.get}),this.listeners.on(document,"copy",function(A){return _.Editor.BlockEvents.handleCommandC(A)})}},{key:"toggleReadOnly",value:function(_){_?this.disableModuleBindings():this.enableModuleBindings()}},{key:"composeBlock",value:function(_){var C=_.tool,A=_.data,D=A===void 0?{}:A,P=_.id,M=P===void 0?void 0:P,N=_.tunes,F=N===void 0?{}:N,j=this.Editor.ReadOnly.isEnabled,H=this.Editor.Tools.blockTools.get(C),U=new y.default({id:M,data:D,tool:H,api:this.Editor.API,readOnly:j,tunesData:F});return j||this.bindBlockEvents(U),U}},{key:"insert",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=_.id,A=C===void 0?void 0:C,D=_.tool,P=D===void 0?this.config.defaultBlock:D,M=_.data,N=M===void 0?{}:M,F=_.index,j=_.needToFocus,H=j===void 0||j,U=_.replace,z=U!==void 0&&U,V=_.tunes,X=V===void 0?{}:V,q=F;q===void 0&&(q=this.currentBlockIndex+(z?0:1));var G=this.composeBlock({id:A,tool:P,data:N,tunes:X});return z&&this.blockDidMutated(k.BlockMutationType.Removed,this.getBlockByIndex(q),{index:q}),this._blocks.insert(q,G,z),this.blockDidMutated(k.BlockMutationType.Added,G,{index:q}),H?this.currentBlockIndex=q:q<=this.currentBlockIndex&&this.currentBlockIndex++,G}},{key:"replace",value:function(_){var C=_.tool,A=C===void 0?this.config.defaultBlock:C,D=_.data,P=D===void 0?{}:D;return this.insert({tool:A,data:P,index:this.currentBlockIndex,replace:!0})}},{key:"paste",value:function(_,C){var A=arguments.length>2&&arguments[2]!==void 0&&arguments[2],D=this.insert({tool:_,replace:A});try{D.call(y.BlockToolAPI.ON_PASTE,C)}catch(P){m.log("".concat(_,": onPaste callback call is failed"),"error",P)}return D}},{key:"insertDefaultBlockAtIndex",value:function(_){var C=arguments.length>1&&arguments[1]!==void 0&&arguments[1],A=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[_]=A,this.blockDidMutated(k.BlockMutationType.Added,A,{index:_}),C?this.currentBlockIndex=_:_<=this.currentBlockIndex&&this.currentBlockIndex++,A}},{key:"insertAtEnd",value:function(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}},{key:"mergeBlocks",value:(I=(0,l.default)(s.default.mark(function _(C,A){var D,P;return s.default.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(D=this._blocks.indexOf(A),!A.isEmpty){M.next=3;break}return M.abrupt("return");case 3:return M.next=5,A.data;case 5:if(P=M.sent,m.isEmpty(P)){M.next=9;break}return M.next=9,C.mergeWith(P);case 9:this.removeBlock(D),this.currentBlockIndex=this._blocks.indexOf(C);case 11:case"end":return M.stop()}},_,this)})),function(_,C){return I.apply(this,arguments)})},{key:"removeBlock",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.currentBlockIndex;if(!this.validateIndex(_))throw new Error("Can't find a Block to remove");var C=this._blocks[_];C.destroy(),this._blocks.remove(_),this.blockDidMutated(k.BlockMutationType.Removed,C,{index:_}),this.currentBlockIndex>=_&&this.currentBlockIndex--,this.blocks.length?_===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,this.insert())}},{key:"removeSelectedBlocks",value:function(){for(var _,C=this.blocks.length-1;C>=0;C--)this.blocks[C].selected&&(this.removeBlock(C),_=C);return _}},{key:"removeAllBlocks",value:function(){for(var _=this.blocks.length-1;_>=0;_--)this._blocks.remove(_);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}},{key:"split",value:function(){var _=this.Editor.Caret.extractFragmentFromCaretPosition(),C=p.default.make("div");C.appendChild(_);var A={text:p.default.isEmpty(C)?"":C.innerHTML};return this.insert({data:A})}},{key:"getBlockByIndex",value:function(_){return _===-1&&(_=this._blocks.length-1),this._blocks[_]}},{key:"getBlockIndex",value:function(_){return this._blocks.indexOf(_)}},{key:"getBlockById",value:function(_){return this._blocks.array.find(function(C){return C.id===_})}},{key:"getBlock",value:function(_){p.default.isElement(_)||(_=_.parentNode);var C=this._blocks.nodes,A=_.closest(".".concat(y.default.CSS.wrapper)),D=C.indexOf(A);if(D>=0)return this._blocks[D]}},{key:"highlightCurrentNode",value:function(){this.clearFocused(),this.currentBlock.focused=!0}},{key:"clearFocused",value:function(){this.blocks.forEach(function(_){_.focused=!1})}},{key:"setCurrentBlockByChildNode",value:function(_){p.default.isElement(_)||(_=_.parentNode);var C=_.closest(".".concat(y.default.CSS.wrapper));if(C){var A=C.closest(".".concat(this.Editor.UI.CSS.editorWrapper));if(A?.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(C),this.currentBlock.updateCurrentInput(),this.currentBlock}}},{key:"getBlockByChildNode",value:function(_){p.default.isElement(_)||(_=_.parentNode);var C=_.closest(".".concat(y.default.CSS.wrapper));return this.blocks.find(function(A){return A.holder===C})}},{key:"swap",value:function(_,C){this._blocks.swap(_,C),this.currentBlockIndex=C}},{key:"move",value:function(_){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.currentBlockIndex;isNaN(_)||isNaN(C)?m.log("Warning during 'move' call: incorrect indices provided.","warn"):this.validateIndex(_)&&this.validateIndex(C)?(this._blocks.move(_,C),this.currentBlockIndex=_,this.blockDidMutated(k.BlockMutationType.Moved,this.currentBlock,{fromIndex:C,toIndex:_})):m.log("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn")}},{key:"dropPointer",value:function(){this.currentBlockIndex=-1,this.clearFocused()}},{key:"clear",value:function(){var _=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._blocks.removeAll(),this.dropPointer(),_&&this.insert(),this.Editor.UI.checkEmptiness()}},{key:"destroy",value:(w=(0,l.default)(s.default.mark(function _(){return s.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,Promise.all(this.blocks.map(function(A){return A.destroy()}));case 2:case"end":return C.stop()}},_,this)})),function(){return w.apply(this,arguments)})},{key:"bindBlockEvents",value:function(_){var C=this,A=this.Editor.BlockEvents;this.readOnlyMutableListeners.on(_.holder,"keydown",function(D){A.keydown(D)}),this.readOnlyMutableListeners.on(_.holder,"keyup",function(D){A.keyup(D)}),this.readOnlyMutableListeners.on(_.holder,"dragover",function(D){A.dragOver(D)}),this.readOnlyMutableListeners.on(_.holder,"dragleave",function(D){A.dragLeave(D)}),_.on("didMutated",function(D){return C.blockDidMutated(k.BlockMutationType.Changed,D,{index:C.getBlockIndex(D)})})}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"enableModuleBindings",value:function(){var _=this;this.readOnlyMutableListeners.on(document,"cut",function(C){return _.Editor.BlockEvents.handleCommandX(C)}),this.blocks.forEach(function(C){_.bindBlockEvents(C)})}},{key:"validateIndex",value:function(_){return!(_<0||_>=this._blocks.length)}},{key:"blockDidMutated",value:function(_,C){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=new CustomEvent(_,{detail:Object.assign({target:new v.default(C)},A)});return this.Editor.ModificationsObserver.onChange(D),C}},{key:"currentBlockIndex",get:function(){return this._currentBlockIndex},set:function(_){this._blocks[this._currentBlockIndex]&&this._blocks[this._currentBlockIndex].willUnselect(),this._blocks[_]&&this._blocks[_].willSelect(),this._currentBlockIndex=_}},{key:"firstBlock",get:function(){return this._blocks[0]}},{key:"lastBlock",get:function(){return this._blocks[this._blocks.length-1]}},{key:"currentBlock",get:function(){return this._blocks[this.currentBlockIndex]},set:function(_){this.currentBlockIndex=this.getBlockIndex(_)}},{key:"nextBlock",get:function(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}},{key:"nextContentfulBlock",get:function(){return this.blocks.slice(this.currentBlockIndex+1).find(function(_){return!!_.inputs.length})}},{key:"previousContentfulBlock",get:function(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(function(_){return!!_.inputs.length})}},{key:"previousBlock",get:function(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}},{key:"blocks",get:function(){return this._blocks.array}},{key:"isEditorEmpty",get:function(){return this.blocks.every(function(_){return _.isEmpty})}}]),E}(h.default);o.default=L,L.displayName="BlockManager",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(9),e(7),e(14),e(115),e(25),e(67)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y,h,p,m){"use strict";var b=e(8),v=e(1);function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=v(s),l=v(l),u=v(u),c=v(c),d=v(d),f=v(f),g=b(g),y=v(y),h=v(h),p=v(p);var S=function(O){(0,u.default)(T,O);var R,L=(R=T,function(){var x,w=(0,d.default)(R);if(k()){var I=(0,d.default)(this).constructor;x=Reflect.construct(w,arguments,I)}else x=w.apply(this,arguments);return(0,c.default)(this,x)});function T(){var x;return(0,s.default)(this,T),(x=L.apply(this,arguments)).anyBlockSelectedCache=null,x.needToSelectAll=!1,x.nativeInputSelected=!1,x.readyToBlockSelection=!1,x}return(0,l.default)(T,[{key:"prepare",value:function(){var x=this;this.selection=new p.default,h.default.add({name:"CMD+A",handler:function(w){var I=x.Editor,B=I.BlockManager;if(I.ReadOnly.isEnabled)return w.preventDefault(),void x.selectAllBlocks();B.currentBlock&&x.handleCommandA(w)},on:this.Editor.UI.nodes.redactor})}},{key:"toggleReadOnly",value:function(x){p.default.get().removeAllRanges(),this.allBlocksSelected=!1}},{key:"unSelectBlockByIndex",value:function(x){var w=this.Editor.BlockManager;(isNaN(x)?w.currentBlock:w.getBlockByIndex(x)).selected=!1,this.clearCache()}},{key:"clearSelection",value:function(x){var w=arguments.length>1&&arguments[1]!==void 0&&arguments[1],I=this.Editor,B=I.BlockManager,E=I.Caret,_=I.RectangleSelection;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;var C=x&&x instanceof KeyboardEvent,A=C&&g.isPrintableKey(x.keyCode);if(this.anyBlockSelected&&C&&A&&!p.default.isSelectionExists){var D=B.removeSelectedBlocks();B.insertDefaultBlockAtIndex(D,!0),E.setToBlock(B.currentBlock),g.delay(function(){var P=x.key;E.insertContentAtCaretPosition(P.length>1?"":P)},20)()}this.Editor.CrossBlockSelection.clear(x),this.anyBlockSelected&&!_.isRectActivated()?(w&&this.selection.restore(),this.allBlocksSelected=!1):this.Editor.RectangleSelection.clearSelection()}},{key:"copySelectedBlocks",value:function(x){var w=this;x.preventDefault();var I=y.default.make("div");this.selectedBlocks.forEach(function(_){var C=(0,m.clean)(_.holder.innerHTML,w.sanitizerConfig),A=y.default.make("p");A.innerHTML=C,I.appendChild(A)});var B=Array.from(I.childNodes).map(function(_){return _.textContent}).join(`

`),E=I.innerHTML;return x.clipboardData.setData("text/plain",B),x.clipboardData.setData("text/html",E),Promise.all(this.selectedBlocks.map(function(_){return _.save()})).then(function(_){try{x.clipboardData.setData(w.Editor.Paste.MIME_TYPE,JSON.stringify(_))}catch{}})}},{key:"selectBlockByIndex",value:function(x){var w,I=this.Editor.BlockManager;I.clearFocused(),w=isNaN(x)?I.currentBlock:I.getBlockByIndex(x),this.selection.save(),p.default.get().removeAllRanges(),w.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}},{key:"clearCache",value:function(){this.anyBlockSelectedCache=null}},{key:"destroy",value:function(){h.default.remove(this.Editor.UI.nodes.redactor,"CMD+A")}},{key:"handleCommandA",value:function(x){if(this.Editor.RectangleSelection.clearSelection(),!y.default.isNativeInput(x.target)||this.readyToBlockSelection){var w=this.Editor.BlockManager.getBlock(x.target).inputs;w.length>1&&!this.readyToBlockSelection?this.readyToBlockSelection=!0:w.length!==1||this.needToSelectAll?this.needToSelectAll?(x.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(x.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0):this.needToSelectAll=!0}else this.readyToBlockSelection=!0}},{key:"selectAllBlocks",value:function(){this.selection.save(),p.default.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}},{key:"sanitizerConfig",get:function(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}},{key:"allBlocksSelected",get:function(){return this.Editor.BlockManager.blocks.every(function(x){return x.selected===!0})},set:function(x){this.Editor.BlockManager.blocks.forEach(function(w){w.selected=x}),this.clearCache()}},{key:"anyBlockSelected",get:function(){var x=this.Editor.BlockManager;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=x.blocks.some(function(w){return w.selected===!0})),this.anyBlockSelectedCache}},{key:"selectedBlocks",get:function(){return this.Editor.BlockManager.blocks.filter(function(x){return x.selected})}}]),T}(f.default);o.default=S,S.displayName="BlockSelection",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(25),e(9),e(14),e(7)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y,h){"use strict";var p=e(8),m=e(1);function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=m(s),l=m(l),u=m(u),c=m(c),d=m(d),f=m(f),g=m(g),y=m(y),h=p(h);var v=function(k){(0,u.default)(R,k);var S,O=(S=R,function(){var L,T=(0,d.default)(S);if(b()){var x=(0,d.default)(this).constructor;L=Reflect.construct(T,arguments,x)}else L=T.apply(this,arguments);return(0,c.default)(this,L)});function R(){return(0,s.default)(this,R),O.apply(this,arguments)}return(0,l.default)(R,[{key:"setToBlock",value:function(L){var T,x=this,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.positions.DEFAULT,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,B=this.Editor.BlockManager;switch(w){case this.positions.START:T=L.firstInput;break;case this.positions.END:T=L.lastInput;break;default:T=L.currentInput}if(T){var E=y.default.getDeepestNode(T,w===this.positions.END),_=y.default.getContentLength(E);switch(!0){case w===this.positions.START:I=0;break;case w===this.positions.END:case I>_:I=_}h.delay(function(){x.set(E,I)},20)(),B.setCurrentBlockByChildNode(L.holder),B.currentBlock.currentInput=T}}},{key:"setToInput",value:function(L){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.positions.DEFAULT,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,w=this.Editor.BlockManager.currentBlock,I=y.default.getDeepestNode(L);switch(T){case this.positions.START:this.set(I,0);break;case this.positions.END:this.set(I,y.default.getContentLength(I));break;default:x&&this.set(I,x)}w.currentInput=L}},{key:"set",value:function(L){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=f.default.setCursor(L,T),w=x.top,I=x.bottom,B=window,E=B.innerHeight;w<0&&window.scrollBy(0,w),I>E&&window.scrollBy(0,I-E)}},{key:"setToTheLastBlock",value:function(){var L=this.Editor.BlockManager.lastBlock;if(L)if(L.tool.isDefault&&L.isEmpty)this.setToBlock(L);else{var T=this.Editor.BlockManager.insertAtEnd();this.setToBlock(T)}}},{key:"extractFragmentFromCaretPosition",value:function(){var L=f.default.get();if(L.rangeCount){var T=L.getRangeAt(0),x=this.Editor.BlockManager.currentBlock.currentInput;if(T.deleteContents(),x){if(y.default.isNativeInput(x)){var w=x,I=document.createDocumentFragment(),B=w.value.substring(0,w.selectionStart),E=w.value.substring(w.selectionStart);return I.textContent=E,w.value=B,I}var _=T.cloneRange();return _.selectNodeContents(x),_.setStart(T.endContainer,T.endOffset),_.extractContents()}}}},{key:"navigateNext",value:function(){var L=this.Editor.BlockManager,T=L.currentBlock,x=L.nextContentfulBlock,w=T.nextInput,I=this.isAtEnd,B=x;if(!B&&!w){if(T.tool.isDefault||!I)return!1;B=L.insertAtEnd()}return!!I&&(w?this.setToInput(w,this.positions.START):this.setToBlock(B,this.positions.START),!0)}},{key:"navigatePrevious",value:function(){var L=this.Editor.BlockManager,T=L.currentBlock,x=L.previousContentfulBlock;if(!T)return!1;var w=T.previousInput;return!(!x&&!w||!this.isAtStart||(w?this.setToInput(w,this.positions.END):this.setToBlock(x,this.positions.END),0))}},{key:"createShadow",value:function(L){var T=document.createElement("span");T.classList.add(R.CSS.shadowCaret),L.insertAdjacentElement("beforeend",T)}},{key:"restoreCaret",value:function(L){var T=L.querySelector(".".concat(R.CSS.shadowCaret));T&&(new f.default().expandToTag(T),setTimeout(function(){var x=document.createRange();x.selectNode(T),x.extractContents()},50))}},{key:"insertContentAtCaretPosition",value:function(L){var T=document.createDocumentFragment(),x=document.createElement("div"),w=f.default.get(),I=f.default.range;x.innerHTML=L,Array.from(x.childNodes).forEach(function(_){return T.appendChild(_)}),T.childNodes.length===0&&T.appendChild(new Text);var B=T.lastChild;I.deleteContents(),I.insertNode(T);var E=document.createRange();E.setStart(B,B.textContent.length),w.removeAllRanges(),w.addRange(E)}},{key:"getHigherLevelSiblings",value:function(L,T){for(var x=L,w=[];x.parentNode&&x.parentNode.contentEditable!=="true";)x=x.parentNode;for(var I=T==="left"?"previousSibling":"nextSibling";x[I];)x=x[I],w.push(x);return w}},{key:"positions",get:function(){return{START:"start",END:"end",DEFAULT:"default"}}},{key:"isAtStart",get:function(){var L=f.default.get(),T=y.default.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput),x=L.focusNode;if(y.default.isNativeInput(T))return T.selectionEnd===0;if(!L.anchorNode)return!1;var w=x.textContent.search(/\S/);w===-1&&(w=0);var I=L.focusOffset;return x.nodeType!==Node.TEXT_NODE&&x.childNodes.length&&(x.childNodes[I]?(x=x.childNodes[I],I=0):I=(x=x.childNodes[I-1]).textContent.length),!(!y.default.isLineBreakTag(T)&&!y.default.isEmpty(T)||!this.getHigherLevelSiblings(x,"left").every(function(B){var E=y.default.isLineBreakTag(B),_=B.children.length===1&&y.default.isLineBreakTag(B.children[0]),C=E||_;return y.default.isEmpty(B)&&!C})||I!==w)||T===null||x===T&&I<=w}},{key:"isAtEnd",get:function(){var L=f.default.get(),T=L.focusNode,x=y.default.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(y.default.isNativeInput(x))return x.selectionEnd===x.value.length;if(!L.focusNode)return!1;var w=L.focusOffset;if(T.nodeType!==Node.TEXT_NODE&&T.childNodes.length&&(T.childNodes[w-1]?w=(T=T.childNodes[w-1]).textContent.length:(T=T.childNodes[0],w=0)),y.default.isLineBreakTag(x)||y.default.isEmpty(x)){var I=this.getHigherLevelSiblings(T,"right");if(I.every(function(E,_){return _===I.length-1&&y.default.isLineBreakTag(E)||y.default.isEmpty(E)&&!y.default.isLineBreakTag(E)})&&w===T.textContent.length)return!0}var B=x.textContent.replace(/\s+$/,"");return T===x&&w>=B.length}}],[{key:"CSS",get:function(){return{shadowCaret:"cdx-shadow-caret"}}}]),R}(g.default);o.default=v,v.displayName="Caret",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(20),e(21),e(2),e(3),e(5),e(6),e(4),e(9),e(25),e(7)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y,h,p){"use strict";var m=e(8),b=e(1);function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=b(s),l=b(l),u=b(u),c=b(c),d=b(d),f=b(f),g=b(g),y=b(y),h=b(h),p=m(p);var k=function(S){(0,d.default)(T,S);var O,R,L=(O=T,function(){var x,w=(0,g.default)(O);if(v()){var I=(0,g.default)(this).constructor;x=Reflect.construct(w,arguments,I)}else x=w.apply(this,arguments);return(0,f.default)(this,x)});function T(){var x;return(0,u.default)(this,T),(x=L.apply(this,arguments)).onMouseUp=function(){x.listeners.off(document,"mouseover",x.onMouseOver),x.listeners.off(document,"mouseup",x.onMouseUp)},x.onMouseOver=function(w){var I=x.Editor,B=I.BlockManager,E=I.BlockSelection,_=B.getBlockByChildNode(w.relatedTarget)||x.lastSelectedBlock,C=B.getBlockByChildNode(w.target);if(_&&C&&C!==_){if(_===x.firstSelectedBlock)return h.default.get().removeAllRanges(),_.selected=!0,C.selected=!0,void E.clearCache();if(C===x.firstSelectedBlock)return _.selected=!1,C.selected=!1,void E.clearCache();x.Editor.InlineToolbar.close(),x.toggleBlocksSelectedState(_,C),x.lastSelectedBlock=C}},x}return(0,c.default)(T,[{key:"prepare",value:(R=(0,l.default)(s.default.mark(function x(){var w=this;return s.default.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:this.listeners.on(document,"mousedown",function(B){w.enableCrossBlockSelection(B)});case 1:case"end":return I.stop()}},x,this)})),function(){return R.apply(this,arguments)})},{key:"watchSelection",value:function(x){if(x.button===p.mouseButtons.LEFT){var w=this.Editor.BlockManager;this.firstSelectedBlock=w.getBlock(x.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}}},{key:"toggleBlockSelectedState",value:function(){var x=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],w=this.Editor,I=w.BlockManager,B=w.BlockSelection;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=I.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,B.clearCache(),h.default.get().removeAllRanges());var E=I.blocks.indexOf(this.lastSelectedBlock)+(x?1:-1),_=I.blocks[E];_&&(this.lastSelectedBlock.selected!==_.selected?(_.selected=!0,B.clearCache()):(this.lastSelectedBlock.selected=!1,B.clearCache()),this.lastSelectedBlock=_,this.Editor.InlineToolbar.close(),_.holder.scrollIntoView({block:"nearest"}))}},{key:"clear",value:function(x){var w=this.Editor,I=w.BlockManager,B=w.BlockSelection,E=w.Caret,_=I.blocks.indexOf(this.firstSelectedBlock),C=I.blocks.indexOf(this.lastSelectedBlock);if(B.anyBlockSelected&&_>-1&&C>-1)if(x&&x instanceof KeyboardEvent)switch(x.keyCode){case p.keyCodes.DOWN:case p.keyCodes.RIGHT:E.setToBlock(I.blocks[Math.max(_,C)],E.positions.END);break;case p.keyCodes.UP:case p.keyCodes.LEFT:E.setToBlock(I.blocks[Math.min(_,C)],E.positions.START);break;default:E.setToBlock(I.blocks[Math.max(_,C)],E.positions.END)}else E.setToBlock(I.blocks[Math.max(_,C)],E.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}},{key:"enableCrossBlockSelection",value:function(x){var w=this.Editor.UI;h.default.isCollapsed||this.Editor.BlockSelection.clearSelection(x),w.nodes.redactor.contains(x.target)?this.watchSelection(x):this.Editor.BlockSelection.clearSelection(x)}},{key:"toggleBlocksSelectedState",value:function(x,w){for(var I=this.Editor,B=I.BlockManager,E=I.BlockSelection,_=B.blocks.indexOf(x),C=B.blocks.indexOf(w),A=x.selected!==w.selected,D=Math.min(_,C);D<=Math.max(_,C);D++){var P=B.blocks[D];P!==this.firstSelectedBlock&&P!==(A?x:w)&&(B.blocks[D].selected=!B.blocks[D].selected,E.clearCache())}}},{key:"isCrossBlockSelectionStarted",get:function(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}}]),T}(y.default);o.default=k,k.displayName="CrossBlockSelection",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(20),e(21),e(2),e(3),e(5),e(6),e(4),e(25),e(9)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y,h){"use strict";var p=e(1);function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=p(s),l=p(l),u=p(u),c=p(c),d=p(d),f=p(f),g=p(g),y=p(y);var b=function(v){(0,d.default)(R,v);var k,S,O=(k=R,function(){var L,T=(0,g.default)(k);if(m()){var x=(0,g.default)(this).constructor;L=Reflect.construct(T,arguments,x)}else L=T.apply(this,arguments);return(0,f.default)(this,L)});function R(){var L;return(0,u.default)(this,R),(L=O.apply(this,arguments)).isStartedAtEditor=!1,L}return(0,c.default)(R,[{key:"toggleReadOnly",value:function(L){L?this.disableModuleBindings():this.enableModuleBindings()}},{key:"enableModuleBindings",value:function(){var L=this,T=this.Editor.UI;this.readOnlyMutableListeners.on(T.nodes.holder,"drop",function(){var x=(0,l.default)(s.default.mark(function w(I){return s.default.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,L.processDrop(I);case 2:case"end":return B.stop()}},w)}));return function(w){return x.apply(this,arguments)}}(),!0),this.readOnlyMutableListeners.on(T.nodes.holder,"dragstart",function(){L.processDragStart()}),this.readOnlyMutableListeners.on(T.nodes.holder,"dragover",function(x){L.processDragOver(x)},!0)}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"processDrop",value:(S=(0,l.default)(s.default.mark(function L(T){var x,w,I,B,E,_;return s.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return x=this.Editor,w=x.BlockManager,I=x.Caret,B=x.Paste,T.preventDefault(),w.blocks.forEach(function(A){A.dropTarget=!1}),y.default.isAtEditor&&!y.default.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1,(E=w.setCurrentBlockByChildNode(T.target))?this.Editor.Caret.setToBlock(E,I.positions.END):(_=w.setCurrentBlockByChildNode(w.lastBlock.holder),this.Editor.Caret.setToBlock(_,I.positions.END)),C.next=9,B.processDataTransfer(T.dataTransfer,!0);case 9:case"end":return C.stop()}},L,this)})),function(L){return S.apply(this,arguments)})},{key:"processDragStart",value:function(){y.default.isAtEditor&&!y.default.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}},{key:"processDragOver",value:function(L){L.preventDefault()}}]),R}((h=p(h)).default);o.default=b,b.displayName="DragNDrop",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(9),e(7)],(a=typeof(n=function(o,s,l,u,c,d,f,g){"use strict";var y=e(8),h=e(1);function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=h(s),l=h(l),u=h(u),c=h(c),d=h(d),f=h(f),g=y(g);var m=function(b){(0,u.default)(S,b);var v,k=(v=S,function(){var O,R=(0,d.default)(v);if(p()){var L=(0,d.default)(this).constructor;O=Reflect.construct(R,arguments,L)}else O=R.apply(this,arguments);return(0,c.default)(this,O)});function S(){var O;return(0,s.default)(this,S),(O=k.apply(this,arguments)).disabled=!1,O}return(0,l.default)(S,[{key:"enable",value:function(){this.disabled=!1}},{key:"disable",value:function(){this.disabled=!0}},{key:"onChange",value:function(O){!this.disabled&&g.isFunction(this.config.onChange)&&this.config.onChange(this.Editor.API.methods,O)}}]),S}(f.default);o.default=m,m.displayName="ModificationsObserver",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(42),e(30),e(20),e(21),e(2),e(3),e(5),e(6),e(4),e(9),e(14),e(7),e(67)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y,h,p,m,b,v){"use strict";var k=e(8),S=e(1);function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=S(s),l=S(l),u=S(u),c=S(c),d=S(d),f=S(f),g=S(g),y=S(y),h=S(h),p=S(p),m=S(m),b=k(b);var R=function(L){(0,g.default)(P,L);var T,x,w,I,B,E,_,C,A,D=(T=P,function(){var M,N=(0,h.default)(T);if(O()){var F=(0,h.default)(this).constructor;M=Reflect.construct(N,arguments,F)}else M=N.apply(this,arguments);return(0,y.default)(this,M)});function P(){var M;return(0,d.default)(this,P),(M=D.apply(this,arguments)).MIME_TYPE="application/x-editor-js",M.toolsTags={},M.tagsByTool={},M.toolsPatterns=[],M.toolsFiles={},M.exceptionList=[],M.processTool=function(N){try{var F=N.create({},{},!1);if(N.pasteConfig===!1)return void M.exceptionList.push(N.name);if(!b.isFunction(F.onPaste))return;M.getTagsConfig(N),M.getFilesConfig(N),M.getPatternsConfig(N)}catch(j){b.log("Paste handling for \xAB".concat(N.name,"\xBB Tool hasn't been set up because of the error"),"warn",j)}},M.handlePasteEvent=function(){var N=(0,c.default)(u.default.mark(function F(j){var H,U,z;return u.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(H=M.Editor,U=H.BlockManager,z=H.Toolbar,U.currentBlock&&(!M.isNativeBehaviour(j.target)||j.clipboardData.types.includes("Files"))){V.next=3;break}return V.abrupt("return");case 3:if(!U.currentBlock||!M.exceptionList.includes(U.currentBlock.name)){V.next=5;break}return V.abrupt("return");case 5:j.preventDefault(),M.processDataTransfer(j.clipboardData),U.clearFocused(),z.close();case 9:case"end":return V.stop()}},F)}));return function(F){return N.apply(this,arguments)}}(),M}return(0,f.default)(P,[{key:"prepare",value:(A=(0,c.default)(u.default.mark(function M(){return u.default.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:this.processTools();case 1:case"end":return N.stop()}},M,this)})),function(){return A.apply(this,arguments)})},{key:"toggleReadOnly",value:function(M){M?this.unsetCallback():this.setCallback()}},{key:"processDataTransfer",value:(C=(0,c.default)(u.default.mark(function M(N){var F,j,H,U,z,V,X,q,G,ee=arguments;return u.default.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(F=ee.length>1&&ee[1]!==void 0&&ee[1],j=this.Editor.Tools,!((H=N.types).includes?H.includes("Files"):H.contains("Files"))){ne.next=8;break}return ne.next=7,this.processFiles(N.files);case 7:return ne.abrupt("return");case 8:if(U=N.getData(this.MIME_TYPE),z=N.getData("text/plain"),V=N.getData("text/html"),!U){ne.next=19;break}return ne.prev=12,this.insertEditorJSData(JSON.parse(U)),ne.abrupt("return");case 17:ne.prev=17,ne.t0=ne.catch(12);case 19:if(F&&z.trim()&&V.trim()&&(V="<p>"+(V.trim()?V:z)+"</p>"),X=Object.keys(this.toolsTags).reduce(function(W,K){return W[K.toLowerCase()]=!0,W},{}),q=Object.assign({},X,j.getAllInlineToolsSanitizeConfig(),{br:{}}),(G=(0,v.clean)(V,q)).trim()&&G.trim()!==z&&m.default.isHTMLString(G)){ne.next=28;break}return ne.next=26,this.processText(z);case 26:ne.next=30;break;case 28:return ne.next=30,this.processText(G,!0);case 30:case"end":return ne.stop()}},M,this,[[12,17]])})),function(M){return C.apply(this,arguments)})},{key:"processText",value:(_=(0,c.default)(u.default.mark(function M(N){var F,j,H,U,z,V,X,q=this,G=arguments;return u.default.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(F=G.length>1&&G[1]!==void 0&&G[1],j=this.Editor,H=j.Caret,U=j.BlockManager,(z=F?this.processHTML(N):this.processPlain(N)).length){ee.next=5;break}return ee.abrupt("return");case 5:if(z.length!==1){ee.next=8;break}return z[0].isBlock?this.processSingleBlock(z.pop()):this.processInlinePaste(z.pop()),ee.abrupt("return");case 8:V=U.currentBlock&&U.currentBlock.tool.isDefault,X=V&&U.currentBlock.isEmpty,z.map(function(){var ne=(0,c.default)(u.default.mark(function W(K,ae){return u.default.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.abrupt("return",q.insertBlock(K,ae===0&&X));case 1:case"end":return te.stop()}},W)}));return function(W,K){return ne.apply(this,arguments)}}()),U.currentBlock&&H.setToBlock(U.currentBlock,H.positions.END);case 12:case"end":return ee.stop()}},M,this)})),function(M){return _.apply(this,arguments)})},{key:"setCallback",value:function(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}},{key:"unsetCallback",value:function(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}},{key:"processTools",value:function(){var M=this.Editor.Tools.blockTools;Array.from(M.values()).forEach(this.processTool)}},{key:"getTagsConfig",value:function(M){var N=this,F=M.pasteConfig.tags||[];F.forEach(function(j){Object.prototype.hasOwnProperty.call(N.toolsTags,j)?b.log("Paste handler for \xAB".concat(M.name,"\xBB Tool on \xAB").concat(j,"\xBB tag is skipped ")+"because it is already used by \xAB".concat(N.toolsTags[j].tool.name,"\xBB Tool."),"warn"):N.toolsTags[j.toUpperCase()]={tool:M}}),this.tagsByTool[M.name]=F.map(function(j){return j.toUpperCase()})}},{key:"getFilesConfig",value:function(M){var N=M.pasteConfig.files,F=N===void 0?{}:N,j=F.extensions,H=F.mimeTypes;(j||H)&&(j&&!Array.isArray(j)&&(b.log("\xABextensions\xBB property of the onDrop config for \xAB".concat(M.name,"\xBB Tool should be an array")),j=[]),H&&!Array.isArray(H)&&(b.log("\xABmimeTypes\xBB property of the onDrop config for \xAB".concat(M.name,"\xBB Tool should be an array")),H=[]),H&&(H=H.filter(function(U){return!!b.isValidMimeType(U)||(b.log("MIME type value \xAB".concat(U,"\xBB for the \xAB").concat(M.name,"\xBB Tool is not a valid MIME type"),"warn"),!1)})),this.toolsFiles[M.name]={extensions:j||[],mimeTypes:H||[]})}},{key:"getPatternsConfig",value:function(M){var N=this;M.pasteConfig.patterns&&!b.isEmpty(M.pasteConfig.patterns)&&Object.entries(M.pasteConfig.patterns).forEach(function(F){var j=(0,l.default)(F,2),H=j[0],U=j[1];U instanceof RegExp||b.log("Pattern ".concat(U," for \xAB").concat(M.name,"\xBB Tool is skipped because it should be a Regexp instance."),"warn"),N.toolsPatterns.push({key:H,pattern:U,tool:M})})}},{key:"isNativeBehaviour",value:function(M){return m.default.isNativeInput(M)}},{key:"processFiles",value:(E=(0,c.default)(u.default.mark(function M(N){var F,j,H,U,z=this;return u.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return F=this.Editor.BlockManager,V.next=3,Promise.all(Array.from(N).map(function(X){return z.processFile(X)}));case 3:j=(j=V.sent).filter(function(X){return!!X}),H=F.currentBlock.tool.isDefault,U=H&&F.currentBlock.isEmpty,j.forEach(function(X,q){F.paste(X.type,X.event,q===0&&U)});case 8:case"end":return V.stop()}},M,this)})),function(M){return E.apply(this,arguments)})},{key:"processFile",value:(B=(0,c.default)(u.default.mark(function M(N){var F,j,H,U,z;return u.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(F=b.getFileExtension(N),j=Object.entries(this.toolsFiles).find(function(X){var q=(0,l.default)(X,2),G=(q[0],q[1]),ee=G.mimeTypes,ne=G.extensions,W=N.type.split("/"),K=(0,l.default)(W,2),ae=K[0],te=K[1],oe=ne.find(function(pe){return pe.toLowerCase()===F.toLowerCase()}),he=ee.find(function(pe){var de=pe.split("/"),ve=(0,l.default)(de,2),me=ve[0],ce=ve[1];return me===ae&&(ce===te||ce==="*")});return!!oe||!!he})){V.next=4;break}return V.abrupt("return");case 4:return H=(0,l.default)(j,1),U=H[0],z=this.composePasteEvent("file",{file:N}),V.abrupt("return",{event:z,type:U});case 7:case"end":return V.stop()}},M,this)})),function(M){return B.apply(this,arguments)})},{key:"processHTML",value:function(M){var N=this,F=this.Editor.Tools,j=m.default.make("DIV");return j.innerHTML=M,this.getNodes(j).map(function(H){var U,z=F.defaultTool,V=!1;switch(H.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:(U=m.default.make("div")).appendChild(H);break;case Node.ELEMENT_NODE:U=H,V=!0,N.toolsTags[U.tagName]&&(z=N.toolsTags[U.tagName].tool)}var X=z.pasteConfig.tags.reduce(function(ee,ne){return ee[ne.toLowerCase()]={},ee},{}),q=Object.assign({},X,z.baseSanitizeConfig);U.innerHTML=(0,v.clean)(U.innerHTML,q);var G=N.composePasteEvent("tag",{data:U});return{content:U,isBlock:V,tool:z.name,event:G}}).filter(function(H){return!m.default.isNodeEmpty(H.content)||m.default.isSingleTag(H.content)})}},{key:"processPlain",value:function(M){var N=this,F=this.config.defaultBlock;if(!M)return[];var j=F;return M.split(/\r?\n/).filter(function(H){return H.trim()}).map(function(H){var U=m.default.make("div");U.textContent=H;var z=N.composePasteEvent("tag",{data:U});return{content:U,tool:j,isBlock:!1,event:z}})}},{key:"processSingleBlock",value:(I=(0,c.default)(u.default.mark(function M(N){var F,j,H,U;return u.default.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(F=this.Editor,j=F.Caret,H=F.BlockManager,(U=H.currentBlock)&&N.tool===U.name&&m.default.containsOnlyInlineElements(N.content.innerHTML)){z.next=5;break}return this.insertBlock(N,U?.tool.isDefault&&U.isEmpty),z.abrupt("return");case 5:j.insertContentAtCaretPosition(N.content.innerHTML);case 6:case"end":return z.stop()}},M,this)})),function(M){return I.apply(this,arguments)})},{key:"processInlinePaste",value:(w=(0,c.default)(u.default.mark(function M(N){var F,j,H,U,z,V,X,q;return u.default.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(F=this.Editor,j=F.BlockManager,H=F.Caret,U=N.content,!(j.currentBlock&&j.currentBlock.tool.isDefault&&U.textContent.length<P.PATTERN_PROCESSING_MAX_LENGTH)){G.next=12;break}return G.next=6,this.processPattern(U.textContent);case 6:if(!(z=G.sent)){G.next=12;break}return V=j.currentBlock&&j.currentBlock.tool.isDefault&&j.currentBlock.isEmpty,X=j.paste(z.tool,z.event,V),H.setToBlock(X,H.positions.END),G.abrupt("return");case 12:j.currentBlock&&j.currentBlock.currentInput?(q=j.currentBlock.tool.baseSanitizeConfig,document.execCommand("insertHTML",!1,(0,v.clean)(U.innerHTML,q))):this.insertBlock(N);case 13:case"end":return G.stop()}},M,this)})),function(M){return w.apply(this,arguments)})},{key:"processPattern",value:(x=(0,c.default)(u.default.mark(function M(N){var F,j;return u.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(F=this.toolsPatterns.find(function(U){var z=U.pattern.exec(N);return!!z&&N===z.shift()})){H.next=3;break}return H.abrupt("return");case 3:return j=this.composePasteEvent("pattern",{key:F.key,data:N}),H.abrupt("return",{event:j,tool:F.tool.name});case 5:case"end":return H.stop()}},M,this)})),function(M){return x.apply(this,arguments)})},{key:"insertBlock",value:function(M){var N,F=arguments.length>1&&arguments[1]!==void 0&&arguments[1],j=this.Editor,H=j.BlockManager,U=j.Caret,z=H.currentBlock;if(F&&z&&z.isEmpty)return N=H.paste(M.tool,M.event,!0),void U.setToBlock(N,U.positions.END);N=H.paste(M.tool,M.event),U.setToBlock(N,U.positions.END)}},{key:"insertEditorJSData",value:function(M){var N=this.Editor,F=N.BlockManager,j=N.Caret,H=N.Tools;(0,v.sanitizeBlocks)(M,function(U){return H.blockTools.get(U).sanitizeConfig}).forEach(function(U,z){var V=U.tool,X=U.data,q=!1;z===0&&(q=F.currentBlock&&F.currentBlock.tool.isDefault&&F.currentBlock.isEmpty);var G=F.insert({tool:V,data:X,replace:q});j.setToBlock(G,j.positions.END)})}},{key:"processElementNode",value:function(M,N,F){var j=Object.keys(this.toolsTags),H=M,U=(this.toolsTags[H.tagName]||{}).tool,z=this.tagsByTool[U?.name]||[],V=j.includes(H.tagName),X=m.default.blockElements.includes(H.tagName.toLowerCase()),q=Array.from(H.children).some(function(ee){var ne=ee.tagName;return j.includes(ne)&&!z.includes(ne)}),G=Array.from(H.children).some(function(ee){var ne=ee.tagName;return m.default.blockElements.includes(ne.toLowerCase())});return X||V||q?V&&!q||X&&!G&&!q?[].concat((0,s.default)(N),[F,H]):void 0:(F.appendChild(H),[].concat((0,s.default)(N),[F]))}},{key:"getNodes",value:function(M){var N,F=this;return Array.from(M.childNodes).reduce(function j(H,U){if(m.default.isEmpty(U)&&!m.default.isSingleTag(U))return H;var z=H[H.length-1],V=new DocumentFragment;switch(z&&m.default.isFragment(z)&&(V=H.pop()),U.nodeType){case Node.ELEMENT_NODE:if(N=F.processElementNode(U,H,V))return N;break;case Node.TEXT_NODE:return V.appendChild(U),[].concat((0,s.default)(H),[V]);default:return[].concat((0,s.default)(H),[V])}return[].concat((0,s.default)(H),(0,s.default)(Array.from(U.childNodes).reduce(j,[])))},[])}},{key:"composePasteEvent",value:function(M,N){return new CustomEvent(M,{detail:N})}}]),P}(p.default);o.default=R,R.displayName="Paste",R.PATTERN_PROCESSING_MAX_LENGTH=450,t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(20),e(30),e(21),e(2),e(3),e(5),e(6),e(4),e(9),e(151)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y,h,p){"use strict";var m=e(1);function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=m(s),l=m(l),u=m(u),c=m(c),d=m(d),f=m(f),g=m(g),y=m(y);var v=function(k){(0,f.default)(T,k);var S,O,R,L=(S=T,function(){var x,w=(0,y.default)(S);if(b()){var I=(0,y.default)(this).constructor;x=Reflect.construct(w,arguments,I)}else x=w.apply(this,arguments);return(0,g.default)(this,x)});function T(){var x;return(0,c.default)(this,T),(x=L.apply(this,arguments)).toolsDontSupportReadOnly=[],x.readOnlyEnabled=!1,x}return(0,d.default)(T,[{key:"prepare",value:(R=(0,u.default)(s.default.mark(function x(){var w,I,B;return s.default.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:w=this.Editor.Tools,I=w.blockTools,B=[],Array.from(I.entries()).forEach(function(_){var C=(0,l.default)(_,2),A=C[0];C[1].isReadOnlySupported||B.push(A)}),this.toolsDontSupportReadOnly=B,this.config.readOnly&&B.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly);case 7:case"end":return E.stop()}},x,this)})),function(){return R.apply(this,arguments)})},{key:"toggle",value:(O=(0,u.default)(s.default.mark(function x(){var w,I,B,E,_=arguments;return s.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:(w=_.length>0&&_[0]!==void 0?_[0]:!this.readOnlyEnabled)&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError(),I=this.readOnlyEnabled,this.readOnlyEnabled=w,C.t0=s.default.keys(this.Editor);case 5:if((C.t1=C.t0()).done){C.next=12;break}if(B=C.t1.value,this.Editor[B].toggleReadOnly){C.next=9;break}return C.abrupt("continue",5);case 9:this.Editor[B].toggleReadOnly(w),C.next=5;break;case 12:if(I!==w){C.next=14;break}return C.abrupt("return",this.readOnlyEnabled);case 14:return C.next=16,this.Editor.Saver.save();case 16:return E=C.sent,C.next=19,this.Editor.BlockManager.clear();case 19:return C.next=21,this.Editor.Renderer.render(E.blocks);case 21:return C.abrupt("return",this.readOnlyEnabled);case 22:case"end":return C.stop()}},x,this)})),function(){return O.apply(this,arguments)})},{key:"throwCriticalError",value:function(){throw new p.CriticalError("To enable read-only mode all connected tools should support it. Tools ".concat(this.toolsDontSupportReadOnly.join(", ")," don't support read-only mode."))}},{key:"isEnabled",get:function(){return this.readOnlyEnabled}}]),T}((h=m(h)).default);o.default=v,v.displayName="ReadOnly",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(9),e(14),e(25),e(61),e(7)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y,h,p){"use strict";var m=e(8),b=e(1);function v(R){if(typeof Symbol>"u"||R[Symbol.iterator]==null){if(Array.isArray(R)||(R=function(E,_){if(E){if(typeof E=="string")return k(E,_);var C=Object.prototype.toString.call(E).slice(8,-1);return C==="Object"&&E.constructor&&(C=E.constructor.name),C==="Map"||C==="Set"?Array.from(C):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?k(E,_):void 0}}(R))){var L=0,T=function(){};return{s:T,n:function(){return L>=R.length?{done:!0}:{done:!1,value:R[L++]}},e:function(E){throw E},f:T}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x,w,I=!0,B=!1;return{s:function(){x=R[Symbol.iterator]()},n:function(){var E=x.next();return I=E.done,E},e:function(E){B=!0,w=E},f:function(){try{I||x.return==null||x.return()}finally{if(B)throw w}}}}function k(R,L){(L==null||L>R.length)&&(L=R.length);for(var T=0,x=new Array(L);T<L;T++)x[T]=R[T];return x}function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=b(s),l=b(l),u=b(u),c=b(c),d=b(d),f=b(f),g=b(g),y=b(y),h=b(h),p=m(p);var O=function(R){(0,u.default)(x,R);var L,T=(L=x,function(){var w,I=(0,d.default)(L);if(S()){var B=(0,d.default)(this).constructor;w=Reflect.construct(I,arguments,B)}else w=I.apply(this,arguments);return(0,c.default)(this,w)});function x(){var w;return(0,s.default)(this,x),(w=T.apply(this,arguments)).isRectSelectionActivated=!1,w.SCROLL_SPEED=3,w.HEIGHT_OF_SCROLL_ZONE=40,w.BOTTOM_SCROLL_ZONE=1,w.TOP_SCROLL_ZONE=2,w.MAIN_MOUSE_BUTTON=0,w.mousedown=!1,w.isScrolling=!1,w.inScrollZone=null,w.startX=0,w.startY=0,w.mouseX=0,w.mouseY=0,w.stackOfSelected=[],w.listenerIds=[],w}return(0,l.default)(x,[{key:"prepare",value:function(){this.enableModuleBindings()}},{key:"startSelection",value:function(w,I){var B=document.elementFromPoint(w-window.pageXOffset,I-window.pageYOffset);B.closest(".".concat(this.Editor.Toolbar.CSS.toolbar))||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);var E=[".".concat(h.default.CSS.content),".".concat(this.Editor.Toolbar.CSS.toolbar),".".concat(this.Editor.InlineToolbar.CSS.inlineToolbar)],_=B.closest("."+this.Editor.UI.CSS.editorWrapper),C=E.some(function(A){return!!B.closest(A)});_&&!C&&(this.mousedown=!0,this.startX=w,this.startY=I)}},{key:"endSelection",value:function(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}},{key:"isRectActivated",value:function(){return this.isRectSelectionActivated}},{key:"clearSelection",value:function(){this.isRectSelectionActivated=!1}},{key:"enableModuleBindings",value:function(){var w=this,I=this.genHTML().container;this.listeners.on(I,"mousedown",function(B){w.processMouseDown(B)},!1),this.listeners.on(document.body,"mousemove",p.throttle(function(B){w.processMouseMove(B)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",function(){w.processMouseLeave()}),this.listeners.on(window,"scroll",p.throttle(function(B){w.processScroll(B)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",function(){w.processMouseUp()},!1)}},{key:"processMouseDown",value:function(w){w.button===this.MAIN_MOUSE_BUTTON&&(w.target.closest(g.default.allInputsSelector)!==null||this.startSelection(w.pageX,w.pageY))}},{key:"processMouseMove",value:function(w){this.changingRectangle(w),this.scrollByZones(w.clientY)}},{key:"processMouseLeave",value:function(){this.clearSelection(),this.endSelection()}},{key:"processScroll",value:function(w){this.changingRectangle(w)}},{key:"processMouseUp",value:function(){this.clearSelection(),this.endSelection()}},{key:"scrollByZones",value:function(w){this.inScrollZone=null,w<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-w<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),this.inScrollZone?this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0):this.isScrolling=!1}},{key:"genHTML",value:function(){var w=this.Editor.UI,I=w.nodes.holder.querySelector("."+w.CSS.editorWrapper),B=g.default.make("div",x.CSS.overlay,{}),E=g.default.make("div",x.CSS.overlayContainer,{}),_=g.default.make("div",x.CSS.rect,{});return E.appendChild(_),B.appendChild(E),I.appendChild(B),this.overlayRectangle=_,{container:I,overlay:B}}},{key:"scrollVertical",value:function(w){var I=this;if(this.inScrollZone&&this.mousedown){var B=window.pageYOffset;window.scrollBy(0,w),this.mouseY+=window.pageYOffset-B,setTimeout(function(){I.scrollVertical(w)},0)}}},{key:"changingRectangle",value:function(w){if(this.mousedown){w.pageY!==void 0&&(this.mouseX=w.pageX,this.mouseY=w.pageY);var I=this.genInfoForMouseSelection(),B=I.rightPos,E=I.leftPos,_=I.index,C=this.startX>B&&this.mouseX>B,A=this.startX<E&&this.mouseX<E;this.rectCrossesBlocks=!(C||A),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),_!==void 0&&(this.trySelectNextBlock(_),this.inverseSelection(),y.default.get().removeAllRanges())}}},{key:"shrinkRectangleToPoint",value:function(){this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px")}},{key:"inverseSelection",value:function(){var w=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!w){var I,B=v(this.stackOfSelected);try{for(B.s();!(I=B.n()).done;){var E=I.value;this.Editor.BlockSelection.selectBlockByIndex(E)}}catch(D){B.e(D)}finally{B.f()}}if(!this.rectCrossesBlocks&&w){var _,C=v(this.stackOfSelected);try{for(C.s();!(_=C.n()).done;){var A=_.value;this.Editor.BlockSelection.unSelectBlockByIndex(A)}}catch(D){C.e(D)}finally{C.f()}}}},{key:"updateRectangleSize",value:function(){this.mouseY>=this.startY?(this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.bottom="calc(100% - ".concat(this.mouseY-window.pageYOffset,"px")):(this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.top="".concat(this.mouseY-window.pageYOffset,"px")),this.mouseX>=this.startX?(this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.right="calc(100% - ".concat(this.mouseX-window.pageXOffset,"px")):(this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.left="".concat(this.mouseX-window.pageXOffset,"px"))}},{key:"genInfoForMouseSelection",value:function(){var w,I=document.body.offsetWidth/2,B=this.mouseY-window.pageYOffset,E=document.elementFromPoint(I,B),_=this.Editor.BlockManager.getBlockByChildNode(E);_!==void 0&&(w=this.Editor.BlockManager.blocks.findIndex(function(D){return D.holder===_.holder}));var C=this.Editor.BlockManager.lastBlock.holder.querySelector("."+h.default.CSS.content),A=Number.parseInt(window.getComputedStyle(C).width,10)/2;return{index:w,leftPos:I-A,rightPos:I+A}}},{key:"addBlockInSelection",value:function(w){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(w),this.stackOfSelected.push(w)}},{key:"trySelectNextBlock",value:function(w){var I=this,B=this.stackOfSelected[this.stackOfSelected.length-1]===w,E=this.stackOfSelected.length;if(!B){var _=this.stackOfSelected[E-1]-this.stackOfSelected[E-2]>0,C=0;E>1&&(C=_?1:-1);var A=w>this.stackOfSelected[E-1]&&C===1,D=w<this.stackOfSelected[E-1]&&C===-1,P=!(A||D||C===0);if(P||!(w>this.stackOfSelected[E-1]||this.stackOfSelected[E-1]===void 0)){if(!P&&w<this.stackOfSelected[E-1])for(var M=this.stackOfSelected[E-1]-1;M>=w;M--)this.addBlockInSelection(M);else if(P){var N,F=E-1;for(N=w>this.stackOfSelected[E-1]?function(){return w>I.stackOfSelected[F]}:function(){return w<I.stackOfSelected[F]};N();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[F]),this.stackOfSelected.pop(),F--}}else for(var j=this.stackOfSelected[E-1]+1||w;j<=w;j++)this.addBlockInSelection(j)}}}],[{key:"CSS",get:function(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}}]),x}(f.default);o.default=O,O.displayName="RectangleSelection",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(20),e(21),e(2),e(3),e(5),e(6),e(4),e(9),e(7)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y,h){"use strict";var p=e(8),m=e(1);function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=m(s),l=m(l),u=m(u),c=m(c),d=m(d),f=m(f),g=m(g),y=m(y),h=p(h);var v=function(k){(0,d.default)(T,k);var S,O,R,L=(S=T,function(){var x,w=(0,g.default)(S);if(b()){var I=(0,g.default)(this).constructor;x=Reflect.construct(w,arguments,I)}else x=w.apply(this,arguments);return(0,f.default)(this,x)});function T(){return(0,u.default)(this,T),L.apply(this,arguments)}return(0,c.default)(T,[{key:"render",value:(R=(0,l.default)(s.default.mark(function x(w){var I,B,E=this;return s.default.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return I=w.map(function(C){return{function:function(){return E.insertBlock(C)}}}),this.Editor.ModificationsObserver.disable(),_.next=4,h.sequence(I);case 4:return B=_.sent,this.Editor.ModificationsObserver.enable(),this.Editor.UI.checkEmptiness(),_.abrupt("return",B);case 8:case"end":return _.stop()}},x,this)})),function(x){return R.apply(this,arguments)})},{key:"insertBlock",value:(O=(0,l.default)(s.default.mark(function x(w){var I,B,E,_,C,A,D,P,M,N,F;return s.default.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(B=this.Editor,E=B.Tools,_=B.BlockManager,C=w.type,A=w.data,D=w.tunes,P=w.id,!E.available.has(C)){j.next=13;break}j.prev=3,_.insert({id:P,tool:C,data:A,tunes:D}),j.next=11;break;case 7:throw j.prev=7,j.t0=j.catch(3),h.log("Block \xAB".concat(C,"\xBB skipped because of plugins error"),"warn",A),Error(j.t0);case 11:j.next=18;break;case 13:M={savedData:{id:P,type:C,data:A},title:C},E.unavailable.has(C)&&(N=E.unavailable.get(C).toolbox,F=(I=N[0])===null||I===void 0?void 0:I.title,M.title=F||M.title),_.insert({id:P,tool:E.stubTool,data:M}).stretched=!0,h.log("Tool \xAB".concat(C,"\xBB is not found. Check 'tools' property at your initial Editor.js config."),"warn");case 18:case"end":return j.stop()}},x,this,[[3,7]])})),function(x){return O.apply(this,arguments)})}]),T}(y.default);o.default=v,v.displayName="Renderer",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(20),e(21),e(2),e(3),e(5),e(6),e(4),e(9),e(7),e(67)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y,h,p){"use strict";var m=e(8),b=e(1);function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=b(s),l=b(l),u=b(u),c=b(c),d=b(d),f=b(f),g=b(g),y=b(y),h=m(h);var k=function(S){(0,d.default)(x,S);var O,R,L,T=(O=x,function(){var w,I=(0,g.default)(O);if(v()){var B=(0,g.default)(this).constructor;w=Reflect.construct(I,arguments,B)}else w=I.apply(this,arguments);return(0,f.default)(this,w)});function x(){return(0,u.default)(this,x),T.apply(this,arguments)}return(0,c.default)(x,[{key:"save",value:(L=(0,l.default)(s.default.mark(function w(){var I,B,E,_,C,A,D,P=this;return s.default.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return I=this.Editor,B=I.BlockManager,E=I.Tools,_=B.blocks,C=[],M.prev=2,_.forEach(function(N){C.push(P.getSavedData(N))}),M.next=6,Promise.all(C);case 6:return A=M.sent,M.next=9,(0,p.sanitizeBlocks)(A,function(N){return E.blockTools.get(N).sanitizeConfig});case 9:return D=M.sent,M.abrupt("return",this.makeOutput(D));case 13:M.prev=13,M.t0=M.catch(2),h.logLabeled("Saving failed due to the Error %o","error",M.t0);case 16:case"end":return M.stop()}},w,this,[[2,13]])})),function(){return L.apply(this,arguments)})},{key:"getSavedData",value:(R=(0,l.default)(s.default.mark(function w(I){var B,E;return s.default.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,I.save();case 2:if(B=_.sent,_.t0=B,!_.t0){_.next=8;break}return _.next=7,I.validate(B.data);case 7:_.t0=_.sent;case 8:return E=_.t0,_.abrupt("return",Object.assign(Object.assign({},B),{isValid:E}));case 10:case"end":return _.stop()}},w)})),function(w){return R.apply(this,arguments)})},{key:"makeOutput",value:function(w){var I=this,B=0,E=[];return h.log("[Editor.js saving]:","groupCollapsed"),w.forEach(function(_){var C=_.id,A=_.tool,D=_.data,P=_.tunes,M=_.time,N=_.isValid;if(B+=M,h.log("".concat(A.charAt(0).toUpperCase()+A.slice(1)),"group"),!N)return h.log("Block \xAB".concat(A,"\xBB skipped because saved data is invalid")),void h.log(void 0,"groupEnd");if(h.log(D),h.log(void 0,"groupEnd"),A!==I.Editor.Tools.stubTool){var F=Object.assign({id:C,type:A,data:D},!h.isEmpty(P)&&{tunes:P});E.push(F)}else E.push(D)}),h.log("Total","log",B),h.log(void 0,"groupEnd"),{time:+new Date,blocks:E,version:"2.25.0"}}}]),x}(y.default);o.default=k,k.displayName="Saver",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(30),e(2),e(3),e(5),e(6),e(4),e(9),e(14),e(62),e(7),e(25)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y,h,p,m){"use strict";var b=e(8),v=e(1);function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=v(s),l=v(l),u=v(u),c=v(c),d=v(d),f=v(f),g=v(g),y=v(y),h=v(h),p=b(p),m=v(m);var S=function(O){(0,c.default)(T,O);var R,L=(R=T,function(){var x,w=(0,f.default)(R);if(k()){var I=(0,f.default)(this).constructor;x=Reflect.construct(w,arguments,I)}else x=w.apply(this,arguments);return(0,d.default)(this,x)});function T(){var x;return(0,l.default)(this,T),(x=L.apply(this,arguments)).buttons=[],x.flipper=null,x.selection=new m.default,x}return(0,u.default)(T,[{key:"make",value:function(){this.nodes.wrapper=y.default.make("div",this.CSS.wrapper),this.nodes.toolSettings=y.default.make("div",this.CSS.toolSettings),this.nodes.defaultSettings=y.default.make("div",this.CSS.defaultSettings),y.default.append(this.nodes.wrapper,[this.nodes.toolSettings,this.nodes.defaultSettings]),this.enableFlipper()}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}},{key:"open",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.Editor.BlockManager.currentBlock;this.nodes.wrapper.classList.add(this.CSS.wrapperOpened),this.selection.save(),x.selected=!0,this.Editor.BlockSelection.clearCache(),this.addToolSettings(x),this.addTunes(x),this.eventsDispatcher.emit(this.events.opened),this.flipper.activate(this.blockTunesButtons)}},{key:"close",value:function(){this.nodes.wrapper.classList.remove(this.CSS.wrapperOpened),m.default.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.nodes.toolSettings.innerHTML="",this.nodes.defaultSettings.innerHTML="",this.eventsDispatcher.emit(this.events.closed),this.buttons=[],this.flipper.deactivate()}},{key:"addToolSettings",value:function(x){var w=x.renderSettings();w&&y.default.append(this.nodes.toolSettings,w)}},{key:"addTunes",value:function(x){var w=x.renderTunes(),I=(0,s.default)(w,2),B=I[0],E=I[1];y.default.append(this.nodes.toolSettings,B),y.default.append(this.nodes.defaultSettings,E)}},{key:"enableFlipper",value:function(){var x=this;this.flipper=new h.default({focusedItemClass:this.CSS.focusedButton,activateCallback:function(w){w&&y.default.canSetCaret(w)?x.close():p.delay(function(){x.Editor.Caret.setToBlock(x.Editor.BlockManager.currentBlock)},50)()}})}},{key:"events",get:function(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}},{key:"CSS",get:function(){return{wrapper:"ce-settings",wrapperOpened:"ce-settings--opened",toolSettings:"ce-settings__plugin-zone",defaultSettings:"ce-settings__default-zone",button:"ce-settings__button",focusedButton:"ce-settings__button--focused",focusedButtonAnimated:"ce-settings__button--focused-animated"}}},{key:"opened",get:function(){return this.nodes.wrapper.classList.contains(this.CSS.wrapperOpened)}},{key:"blockTunesButtons",get:function(){var x=this,w=this.Editor.StylesAPI;if(this.buttons.length!==0)return this.buttons;var I=this.nodes.toolSettings.querySelectorAll(".".concat(w.classes.settingsButton,", ").concat(y.default.allInputsSelector)),B=this.nodes.defaultSettings.querySelectorAll(".".concat(this.CSS.button));return I.forEach(function(E){x.buttons.push(E)}),B.forEach(function(E){x.buttons.push(E)}),this.buttons}}]),T}(g.default);o.default=S,S.displayName="BlockSettings",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(30),e(20),e(21),e(42),e(2),e(3),e(5),e(6),e(4),e(9),e(14),e(7),e(62),e(60),e(84),e(67)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y,h,p,m,b,v,k,S,O){"use strict";var R=e(8),L=e(1);function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=L(s),l=L(l),u=L(u),c=L(c),d=L(d),f=L(f),g=L(g),y=L(y),h=L(h),p=L(p),m=L(m),b=R(b),v=L(v),k=L(k);var x=function(w){(0,g.default)(C,w);var I,B,E,_=(I=C,function(){var A,D=(0,h.default)(I);if(T()){var P=(0,h.default)(this).constructor;A=Reflect.construct(D,arguments,P)}else A=D.apply(this,arguments);return(0,y.default)(this,A)});function C(){var A;return(0,d.default)(this,C),(A=_.apply(this,arguments)).opened=!1,A.tools=[],A.flipper=null,A.togglingCallback=null,A}return(0,f.default)(C,[{key:"make",value:function(){this.nodes.wrapper=m.default.make("div",[C.CSS.conversionToolbarWrapper].concat((0,c.default)(this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]))),this.nodes.tools=m.default.make("div",C.CSS.conversionToolbarTools);var A=m.default.make("div",C.CSS.conversionToolbarLabel,{textContent:k.default.ui(S.I18nInternalNS.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),m.default.append(this.nodes.wrapper,A),m.default.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}},{key:"toggle",value:function(A){this.opened?this.close():this.open(),b.isFunction(A)&&(this.togglingCallback=A)}},{key:"open",value:function(){var A=this;this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(C.CSS.conversionToolbarShowed),window.requestAnimationFrame(function(){A.flipper.activate(A.tools.map(function(D){return D.button}).filter(function(D){return!D.classList.contains(C.CSS.conversionToolHidden)})),A.flipper.focusFirst(),b.isFunction(A.togglingCallback)&&A.togglingCallback(!0)})}},{key:"close",value:function(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(C.CSS.conversionToolbarShowed),b.isFunction(this.togglingCallback)&&this.togglingCallback(!1)}},{key:"hasTools",value:function(){return this.tools.length!==1||this.tools[0].name!==this.config.defaultBlock}},{key:"replaceWithBlock",value:(E=(0,u.default)(l.default.mark(function A(D,P){var M,N,F,j,H,U,z,V,X,q=this;return l.default.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return M=this.Editor.BlockManager.currentBlock.tool,G.next=3,this.Editor.BlockManager.currentBlock.save();case 3:if(N=G.sent,F=N.data,j=this.Editor.Tools.blockTools.get(D),H="",U=M.conversionConfig.export,!b.isFunction(U)){G.next=12;break}H=U(F),G.next=18;break;case 12:if(!b.isString(U)){G.next=16;break}H=F[U],G.next=18;break;case 16:return b.log("Conversion \xABexport\xBB property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),G.abrupt("return");case 18:if(z=(0,O.clean)(H,j.sanitizeConfig),V={},X=j.conversionConfig.import,!b.isFunction(X)){G.next=25;break}V=X(z),G.next=31;break;case 25:if(!b.isString(X)){G.next=29;break}V[X]=z,G.next=31;break;case 29:return b.log("Conversion \xABimport\xBB property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),G.abrupt("return");case 31:P&&(V=Object.assign(V,P)),this.Editor.BlockManager.replace({tool:D,data:V}),this.Editor.BlockSelection.clearSelection(),this.close(),this.Editor.InlineToolbar.close(),b.delay(function(){q.Editor.Caret.setToBlock(q.Editor.BlockManager.currentBlock)},10)();case 37:case"end":return G.stop()}},A,this)})),function(A,D){return E.apply(this,arguments)})},{key:"addTools",value:function(){var A=this,D=this.Editor.Tools.blockTools;Array.from(D.entries()).forEach(function(P){var M=(0,s.default)(P,2),N=M[0],F=M[1],j=F.conversionConfig;j&&j.import&&F.toolbox.forEach(function(H){return A.addToolIfValid(N,H)})})}},{key:"addToolIfValid",value:function(A,D){!b.isEmpty(D)&&D.icon&&this.addTool(A,D)}},{key:"addTool",value:function(A,D){var P=this,M=m.default.make("div",[C.CSS.conversionTool]),N=m.default.make("div",[C.CSS.conversionToolIcon]);M.dataset.tool=A,N.innerHTML=D.icon,m.default.append(M,N),m.default.append(M,m.default.text(k.default.t(S.I18nInternalNS.toolNames,D.title||b.capitalize(A)))),m.default.append(this.nodes.tools,M),this.tools.push({name:A,button:M,toolboxItem:D}),this.listeners.on(M,"click",(0,u.default)(l.default.mark(function F(){return l.default.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,P.replaceWithBlock(A,D.data);case 2:case"end":return j.stop()}},F)})))}},{key:"filterTools",value:(B=(0,u.default)(l.default.mark(function A(){var D,P,M;return l.default.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return M=function(F,j){return F.icon===j.icon&&F.title===j.title},D=this.Editor.BlockManager.currentBlock,N.next=4,D.getActiveToolboxEntry();case 4:P=N.sent,this.tools.forEach(function(F){var j=!1;if(P){var H=M(P,F.toolboxItem);j=F.button.dataset.tool===D.name&&H}F.button.hidden=j,F.button.classList.toggle(C.CSS.conversionToolHidden,j)});case 6:case"end":return N.stop()}},A,this)})),function(){return B.apply(this,arguments)})},{key:"enableFlipper",value:function(){this.flipper=new v.default({focusedItemClass:C.CSS.conversionToolFocused})}}],[{key:"CSS",get:function(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}}]),C}(p.default);o.default=x,x.displayName="ConversionToolbar",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(20),e(21),e(42),e(30),e(2),e(3),e(5),e(6),e(4),e(9),e(14),e(25),e(7),e(62),e(60),e(84),e(115),e(114),e(68)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y,h,p,m,b,v,k,S,O,R,L,T){"use strict";var x=e(8),w=e(1);function I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=w(s),l=w(l),u=w(u),c=w(c),d=w(d),f=w(f),g=w(g),y=w(y),h=w(h),p=w(p),m=w(m),b=w(b),v=x(v),k=w(k),S=w(S),R=w(R),L=w(L);var B=function(E){(0,g.default)(D,E);var _,C,A=(_=D,function(){var P,M=(0,h.default)(_);if(I()){var N=(0,h.default)(this).constructor;P=Reflect.construct(M,arguments,N)}else P=M.apply(this,arguments);return(0,y.default)(this,P)});function D(P){var M,N=P.config,F=P.eventsDispatcher;return(0,d.default)(this,D),(M=A.call(this,{config:N,eventsDispatcher:F})).CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},M.opened=!1,M.toolbarVerticalMargin=5,M.buttonsList=null,M.width=0,M.flipper=null,M.tooltip=new L.default,M}return(0,f.default)(D,[{key:"toggleReadOnly",value:function(P){P?(this.destroy(),this.Editor.ConversionToolbar.destroy()):this.make()}},{key:"tryToShow",value:function(){var P=arguments.length>0&&arguments[0]!==void 0&&arguments[0],M=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.allowedToShow()?(this.move(),this.open(M),this.Editor.Toolbar.close()):P&&this.close()}},{key:"move",value:function(){var P=b.default.rect,M=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),N={x:P.x-M.left,y:P.y+P.height-M.top+this.toolbarVerticalMargin};P.width&&(N.x+=Math.floor(P.width/2));var F=N.x-this.width/2,j=N.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,F<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,j>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(N.x)+"px",this.nodes.wrapper.style.top=Math.floor(N.y)+"px"}},{key:"close",value:function(){var P=this;this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(function(M){var N=(0,c.default)(M,2),F=N[0],j=N[1],H=P.getToolShortcut(F);H&&R.default.remove(P.Editor.UI.nodes.redactor,H),v.isFunction(j.clear)&&j.clear()}),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}},{key:"open",value:function(){var P=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(!this.opened){this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(".".concat(this.CSS.inlineToolButton)),this.opened=!0,P&&this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;var M=Array.from(this.buttonsList);M.unshift(this.nodes.conversionToggler),M=M.filter(function(N){return!N.hidden}),this.flipper.activate(M)}}},{key:"containsNode",value:function(P){return this.nodes.wrapper.contains(P)}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}},{key:"make",value:function(){var P=this;this.nodes.wrapper=m.default.make("div",[this.CSS.inlineToolbar].concat((0,u.default)(this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]))),this.nodes.togglerAndButtonsWrapper=m.default.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=m.default.make("div",this.CSS.buttonsWrapper),this.nodes.actions=m.default.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",function(M){M.target.closest(".".concat(P.CSS.actionsWrapper))||M.preventDefault()}),m.default.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),m.default.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),m.default.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),this.recalculateWidth(),this.enableFlipper()}},{key:"allowedToShow",value:function(){var P=b.default.get(),M=b.default.text;if(!P||!P.anchorNode||P.isCollapsed||M.length<1)return!1;var N=m.default.isElement(P.anchorNode)?P.anchorNode:P.anchorNode.parentElement;if(P&&["IMG","INPUT"].includes(N.tagName)||N.closest('[contenteditable="true"]')===null)return!1;var F=this.Editor.BlockManager.getBlock(P.anchorNode);return!!F&&F.tool.inlineTools.size!==0}},{key:"recalculateWidth",value:function(){this.width=this.nodes.wrapper.offsetWidth}},{key:"addConversionToggler",value:function(){var P=this;this.nodes.conversionToggler=m.default.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=m.default.make("div",this.CSS.conversionTogglerContent);var M=m.default.svg("toggler-down",13,13);this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(M),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",function(){P.Editor.ConversionToolbar.toggle(function(N){!N&&P.opened?P.flipper.activate():P.opened&&P.flipper.deactivate()})}),this.tooltip.onHover(this.nodes.conversionToggler,S.default.ui(O.I18nInternalNS.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}},{key:"setConversionTogglerContent",value:(C=(0,l.default)(s.default.mark(function P(){var M,N,F,j,H,U;return s.default.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return M=this.Editor.BlockManager,N=M.currentBlock,F=N.name,j=N.tool.conversionConfig,H=j&&j.export,this.nodes.conversionToggler.hidden=!H,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!H),z.next=9,N.getActiveToolboxEntry();case 9:if(z.t0=z.sent,z.t0){z.next=12;break}z.t0={};case 12:U=z.t0,this.nodes.conversionTogglerContent.innerHTML=U.icon||U.title||v.capitalize(F);case 14:case"end":return z.stop()}},P,this)})),function(){return C.apply(this,arguments)})},{key:"prepareConversionToolbar",value:function(){var P=this.Editor.ConversionToolbar.make();m.default.append(this.nodes.wrapper,P)}},{key:"addToolsFiltered",value:function(){var P=this,M=b.default.get(),N=this.Editor.BlockManager.getBlock(M.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(N.tool.inlineTools.values()).forEach(function(F){P.addTool(F)}),this.recalculateWidth()}},{key:"addTool",value:function(P){var M=this,N=P.create(),F=N.render();if(F){if(F.dataset.tool=P.name,this.nodes.buttons.appendChild(F),this.toolsInstances.set(P.name,N),v.isFunction(N.renderActions)){var j=N.renderActions();this.nodes.actions.appendChild(j)}this.listeners.on(F,"click",function(V){M.toolClicked(N),V.preventDefault()});var H=this.getToolShortcut(P.name);if(H)try{this.enableShortcuts(N,H)}catch{}var U=m.default.make("div"),z=S.default.t(O.I18nInternalNS.toolNames,P.title||v.capitalize(P.name));U.appendChild(m.default.text(z)),H&&U.appendChild(m.default.make("div",this.CSS.inlineToolbarShortcut,{textContent:v.beautifyShortcut(H)})),this.tooltip.onHover(F,U,{placement:"top",hidingDelay:100}),N.checkState(b.default.get())}else v.log("Render method must return an instance of Node","warn",P.name)}},{key:"getToolShortcut",value:function(P){var M=this.Editor.Tools,N=M.inlineTools.get(P),F=M.internal.inlineTools;return Array.from(F.keys()).includes(P)?this.inlineTools[P][T.CommonInternalSettings.Shortcut]:N.shortcut}},{key:"enableShortcuts",value:function(P,M){var N=this;R.default.add({name:M,handler:function(F){var j=N.Editor.BlockManager.currentBlock;j&&j.tool.enabledInlineTools&&(F.preventDefault(),N.toolClicked(P))},on:this.Editor.UI.nodes.redactor})}},{key:"toolClicked",value:function(P){var M=b.default.range;P.surround(M),this.checkToolsState()}},{key:"checkToolsState",value:function(){this.toolsInstances.forEach(function(P){P.checkState(b.default.get())})}},{key:"enableFlipper",value:function(){this.flipper=new k.default({focusedItemClass:this.CSS.focusedButton,allowedKeys:[v.keyCodes.ENTER,v.keyCodes.TAB]})}},{key:"inlineTools",get:function(){var P={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(function(M){var N=(0,c.default)(M,2),F=N[0],j=N[1];P[F]=j.create()}),P}}]),D}(p.default);o.default=B,B.displayName="InlineToolbar",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(42),e(30),e(20),e(21),e(2),e(3),e(5),e(6),e(4),e(59),e(389),e(9),e(7),e(390),e(391),e(392),e(393),e(394),e(398),e(399),e(400),e(185)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y,h,p,m,b,v,k,S,O,R,L,T,x,w,I){"use strict";var B=e(8),E=e(1);function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=E(s),l=E(l),u=E(u),c=E(c),d=E(d),f=E(f),g=E(g),y=E(y),h=E(h),p=E(p),m=E(m),b=E(b),v=B(v),k=E(k),S=E(S),O=E(O),R=E(R),L=E(L),T=E(T),x=E(x),w=E(w),I=E(I);var C=function(D,P,M,N){var F,j=arguments.length,H=j<3?P:N===null?N=Object.getOwnPropertyDescriptor(P,M):N;if((typeof Reflect>"u"?"undefined":(0,p.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(D,P,M,N);else for(var U=D.length-1;U>=0;U--)(F=D[U])&&(H=(j<3?F(H):j>3?F(P,M,H):F(P,M))||H);return j>3&&H&&Object.defineProperty(P,M,H),H},A=function(D){(0,g.default)(F,D);var P,M,N=(P=F,function(){var j,H=(0,h.default)(P);if(_()){var U=(0,h.default)(this).constructor;j=Reflect.construct(H,arguments,U)}else j=H.apply(this,arguments);return(0,y.default)(this,j)});function F(){var j;return(0,d.default)(this,F),(j=N.apply(this,arguments)).stubTool="stub",j.toolsAvailable=new I.default,j.toolsUnavailable=new I.default,j}return(0,f.default)(F,[{key:"prepare",value:(M=(0,c.default)(u.default.mark(function j(){var H,U,z=this;return u.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(this.validateTools(),this.config.tools=v.deepMerge({},this.internalTools,this.config.tools),Object.prototype.hasOwnProperty.call(this.config,"tools")&&Object.keys(this.config.tools).length!==0){V.next=4;break}throw Error("Can't start without tools");case 4:if(H=this.prepareConfig(),this.factory=new L.default(H,this.config,this.Editor.API),(U=this.getListOfPrepareFunctions(H)).length!==0){V.next=9;break}return V.abrupt("return",Promise.resolve());case 9:return V.next=11,v.sequence(U,function(X){z.toolPrepareMethodSuccess(X)},function(X){z.toolPrepareMethodFallback(X)});case 11:this.prepareBlockTools();case 12:case"end":return V.stop()}},j,this)})),function(){return M.apply(this,arguments)})},{key:"getAllInlineToolsSanitizeConfig",value:function(){var j={};return Array.from(this.inlineTools.values()).forEach(function(H){Object.assign(j,H.sanitizeConfig)}),j}},{key:"destroy",value:function(){Object.values(this.available).forEach(function(){var j=(0,c.default)(u.default.mark(function H(U){return u.default.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(!v.isFunction(U.reset)){z.next=3;break}return z.next=3,U.reset();case 3:case"end":return z.stop()}},H)}));return function(H){return j.apply(this,arguments)}}())}},{key:"toolPrepareMethodSuccess",value:function(j){var H=this.factory.get(j.toolName);if(H.isInline()){var U=["render","surround","checkState"].filter(function(z){return!H.create()[z]});if(U.length)return v.log("Incorrect Inline Tool: ".concat(H.name,". Some of required methods is not implemented %o"),"warn",U),void this.toolsUnavailable.set(H.name,H)}this.toolsAvailable.set(H.name,H)}},{key:"toolPrepareMethodFallback",value:function(j){this.toolsUnavailable.set(j.toolName,this.factory.get(j.toolName))}},{key:"getListOfPrepareFunctions",value:function(j){var H=[];return Object.entries(j).forEach(function(U){var z=(0,l.default)(U,2),V=z[0],X=z[1];H.push({function:v.isFunction(X.class.prepare)?X.class.prepare:function(){},data:{toolName:V,config:X.config}})}),H}},{key:"prepareBlockTools",value:function(){var j=this;Array.from(this.blockTools.values()).forEach(function(H){j.assignInlineToolsToBlockTool(H),j.assignBlockTunesToBlockTool(H)})}},{key:"assignInlineToolsToBlockTool",value:function(j){var H=this;this.config.inlineToolbar!==!1&&(j.enabledInlineTools!==!0?Array.isArray(j.enabledInlineTools)&&(j.inlineTools=new I.default(j.enabledInlineTools.map(function(U){return[U,H.inlineTools.get(U)]}))):j.inlineTools=new I.default(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(function(U){return[U,H.inlineTools.get(U)]}):Array.from(this.inlineTools.entries())))}},{key:"assignBlockTunesToBlockTool",value:function(j){var H=this;if(j.enabledBlockTunes!==!1)if(Array.isArray(j.enabledBlockTunes)){var U=new I.default(j.enabledBlockTunes.map(function(V){return[V,H.blockTunes.get(V)]}));j.tunes=new I.default([].concat((0,s.default)(U),(0,s.default)(this.blockTunes.internalTools)))}else if(Array.isArray(this.config.tunes)){var z=new I.default(this.config.tunes.map(function(V){return[V,H.blockTunes.get(V)]}));j.tunes=new I.default([].concat((0,s.default)(z),(0,s.default)(this.blockTunes.internalTools)))}else j.tunes=this.blockTunes.internalTools}},{key:"validateTools",value:function(){for(var j in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,j)){if(j in this.internalTools)return;var H=this.config.tools[j];if(!v.isFunction(H)&&!v.isFunction(H.class))throw Error("Tool \xAB".concat(j,"\xBB must be a constructor function or an object with function in the \xABclass\xBB property"))}}},{key:"prepareConfig",value:function(){var j={};for(var H in this.config.tools)v.isObject(this.config.tools[H])?j[H]=this.config.tools[H]:j[H]={class:this.config.tools[H]};return j}},{key:"available",get:function(){return this.toolsAvailable}},{key:"unavailable",get:function(){return this.toolsUnavailable}},{key:"inlineTools",get:function(){return this.available.inlineTools}},{key:"blockTools",get:function(){return this.available.blockTools}},{key:"blockTunes",get:function(){return this.available.blockTunes}},{key:"defaultTool",get:function(){return this.blockTools.get(this.config.defaultBlock)}},{key:"internal",get:function(){return this.available.internalTools}},{key:"internalTools",get:function(){return{bold:{class:k.default,isInternal:!0},italic:{class:S.default,isInternal:!0},link:{class:O.default,isInternal:!0},paragraph:{class:m.default,inlineToolbar:!0,isInternal:!0},stub:{class:R.default,isInternal:!0},moveUp:{class:w.default,isInternal:!0},delete:{class:x.default,isInternal:!0},moveDown:{class:T.default,isInternal:!0}}}}]),F}(b.default);o.default=A,A.displayName="Tools",C([v.cacheable],A.prototype,"getAllInlineToolsSanitizeConfig",null),t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(30),e(2),e(3),e(5),e(6),e(4),e(153)],(a=typeof(n=function(o,s,l,u,c,d,f,g){"use strict";var y=e(1);function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=y(s),l=y(l),u=y(u),c=y(c),d=y(d),f=y(f);var p=function(m){(0,c.default)(k,m);var b,v=(b=k,function(){var S,O=(0,f.default)(b);if(h()){var R=(0,f.default)(this).constructor;S=Reflect.construct(O,arguments,R)}else S=O.apply(this,arguments);return(0,d.default)(this,S)});function k(){return(0,l.default)(this,k),v.apply(this,arguments)}return(0,u.default)(k,[{key:"blockTools",get:function(){return new k(Array.from(this.entries()).filter(function(S){return(0,s.default)(S,2)[1].isBlock()}))}},{key:"inlineTools",get:function(){return new k(Array.from(this.entries()).filter(function(S){return(0,s.default)(S,2)[1].isInline()}))}},{key:"blockTunes",get:function(){return new k(Array.from(this.entries()).filter(function(S){return(0,s.default)(S,2)[1].isTune()}))}},{key:"internalTools",get:function(){return new k(Array.from(this.entries()).filter(function(S){return(0,s.default)(S,2)[1].isInternal}))}},{key:"externalTools",get:function(){return new k(Array.from(this.entries()).filter(function(S){return!(0,s.default)(S,2)[1].isInternal}))}}]),k}((0,(g=y(g)).default)(Map));o.default=p,p.displayName="ToolsCollection",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(30),e(42),e(20),e(21),e(2),e(3),e(5),e(6),e(4),e(401),e(9),e(14),e(7),e(25),e(61),e(62)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y,h,p,m,b,v,k,S,O){"use strict";var R=e(8),L=e(1);function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=L(s),l=L(l),u=L(u),c=L(c),d=L(d),f=L(f),g=L(g),y=L(y),h=L(h),p=L(p),m=L(m),b=L(b),v=R(v),k=L(k),S=L(S),O=L(O);var x=function(w){(0,g.default)(_,w);var I,B,E=(I=_,function(){var C,A=(0,h.default)(I);if(T()){var D=(0,h.default)(this).constructor;C=Reflect.construct(A,arguments,D)}else C=A.apply(this,arguments);return(0,y.default)(this,C)});function _(){var C;return(0,d.default)(this,_),(C=E.apply(this,arguments)).isMobile=!1,C.contentRectCache=void 0,C.resizeDebouncer=v.debounce(function(){C.windowResize()},200),C}return(0,f.default)(_,[{key:"addLoader",value:function(){this.nodes.loader=b.default.make("div",this.CSS.editorLoader),this.nodes.wrapper.prepend(this.nodes.loader),this.nodes.redactor.classList.add(this.CSS.editorZoneHidden)}},{key:"removeLoader",value:function(){this.nodes.loader.remove(),this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden)}},{key:"prepare",value:(B=(0,c.default)(u.default.mark(function C(){return u.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:this.checkIsMobile(),this.make(),this.addLoader(),this.appendSVGSprite(),this.loadStyles();case 5:case"end":return A.stop()}},C,this)})),function(){return B.apply(this,arguments)})},{key:"toggleReadOnly",value:function(C){C?this.disableModuleBindings():this.enableModuleBindings()}},{key:"checkEmptiness",value:function(){var C=this.Editor.BlockManager;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,C.isEditorEmpty)}},{key:"destroy",value:function(){this.nodes.holder.innerHTML=""}},{key:"closeAllToolbars",value:function(){var C=this.Editor,A=C.Toolbar,D=C.BlockSettings,P=C.InlineToolbar,M=C.ConversionToolbar;D.close(),P.close(),M.close(),A.toolbox.close()}},{key:"checkIsMobile",value:function(){this.isMobile=window.innerWidth<650}},{key:"make",value:function(){this.nodes.holder=b.default.getHolder(this.config.holder),this.nodes.wrapper=b.default.make("div",[this.CSS.editorWrapper].concat((0,l.default)(this.isRtl?[this.CSS.editorRtlFix]:[]))),this.nodes.redactor=b.default.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}},{key:"loadStyles",value:function(){var C=e(402);if(!b.default.get("editor-js-styles")){var A=b.default.make("style",null,{id:"editor-js-styles",textContent:C.toString()});b.default.prepend(document.head,A)}}},{key:"enableModuleBindings",value:function(){var C=this;this.readOnlyMutableListeners.on(this.nodes.redactor,"click",function(A){C.redactorClicked(A)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",function(A){C.documentTouched(A)},!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",function(A){C.documentTouched(A)},!0),this.readOnlyMutableListeners.on(document,"keydown",function(A){C.documentKeydown(A)},!0),this.readOnlyMutableListeners.on(document,"mousedown",function(A){C.documentClicked(A)},!0),this.readOnlyMutableListeners.on(document,"selectionchange",function(A){C.selectionChanged(A)},!0),this.readOnlyMutableListeners.on(window,"resize",function(){C.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents()}},{key:"watchBlockHoveredEvents",value:function(){var C,A=this;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",v.throttle(function(D){var P=D.target.closest(".ce-block");A.Editor.BlockSelection.anyBlockSelected||P&&C!==P&&(C=P,A.eventsDispatcher.emit(A.events.blockHovered,{block:A.Editor.BlockManager.getBlockByChildNode(P)}))},20),{passive:!0})}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"windowResize",value:function(){this.contentRectCache=null,this.checkIsMobile()}},{key:"documentKeydown",value:function(C){switch(C.keyCode){case v.keyCodes.ENTER:this.enterPressed(C);break;case v.keyCodes.BACKSPACE:this.backspacePressed(C);break;case v.keyCodes.ESC:this.escapePressed(C);break;default:this.defaultBehaviour(C)}}},{key:"defaultBehaviour",value:function(C){var A=this.Editor.BlockManager.currentBlock,D=C.target.closest(".".concat(this.CSS.editorWrapper)),P=C.altKey||C.ctrlKey||C.metaKey||C.shiftKey;A===void 0||D!==null?D||A&&P||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close()):this.Editor.BlockEvents.keydown(C)}},{key:"backspacePressed",value:function(C){var A=this.Editor,D=A.BlockManager,P=A.BlockSelection,M=A.Caret;if(P.anyBlockSelected&&!k.default.isSelectionExists){var N=D.removeSelectedBlocks();M.setToBlock(D.insertDefaultBlockAtIndex(N,!0),M.positions.START),P.clearSelection(C),C.preventDefault(),C.stopPropagation(),C.stopImmediatePropagation()}}},{key:"escapePressed",value:function(C){this.Editor.BlockSelection.clearSelection(C),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}},{key:"enterPressed",value:function(C){var A=this.Editor,D=A.BlockManager,P=A.BlockSelection,M=D.currentBlockIndex>=0;if(P.anyBlockSelected&&!k.default.isSelectionExists)return P.clearSelection(C),C.preventDefault(),C.stopImmediatePropagation(),void C.stopPropagation();if(!this.someToolbarOpened&&M&&C.target.tagName==="BODY"){var N=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(N),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.moveAndOpen(N)}this.Editor.BlockSelection.clearSelection(C)}},{key:"documentClicked",value:function(C){if(C.isTrusted){var A=C.target;this.nodes.holder.contains(A)||k.default.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());var D=this.Editor.BlockSettings.nodes.wrapper.contains(A),P=this.Editor.Toolbar.nodes.settingsToggler.contains(A),M=D||P;if(this.Editor.BlockSettings.opened&&!M){this.Editor.BlockSettings.close();var N=this.Editor.BlockManager.getBlockByChildNode(A);this.Editor.Toolbar.moveAndOpen(N)}this.Editor.BlockSelection.clearSelection(C)}}},{key:"documentTouched",value:function(C){var A=C.target;if(A===this.nodes.redactor){var D=C instanceof MouseEvent?C.clientX:C.touches[0].clientX,P=C instanceof MouseEvent?C.clientY:C.touches[0].clientY;A=document.elementFromPoint(D,P)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(A),this.Editor.BlockManager.highlightCurrentNode()}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}},{key:"redactorClicked",value:function(C){var A=this.Editor.BlockSelection;if(k.default.isCollapsed){var D=function(){C.stopImmediatePropagation(),C.stopPropagation()},P=C.target,M=C.metaKey||C.ctrlKey;if(b.default.isAnchor(P)&&M){D();var N=P.getAttribute("href"),F=v.getValidUrl(N);v.openTab(F)}else{var j=this.Editor.BlockManager.getBlockByIndex(-1),H=b.default.offset(j.holder).bottom,U=C.pageY;if(C.target instanceof Element&&C.target.isEqualNode(this.nodes.redactor)&&!A.anyBlockSelected&&H<U){D();var z=this.Editor,V=z.BlockManager,X=z.Caret,q=z.Toolbar;V.lastBlock.tool.isDefault&&V.lastBlock.isEmpty||V.insertAtEnd(),X.setToTheLastBlock(),q.moveAndOpen(V.lastBlock)}}}}},{key:"selectionChanged",value:function(C){var A=this.Editor,D=A.CrossBlockSelection,P=A.BlockSelection,M=k.default.anchorElement;if(D.isCrossBlockSelectionStarted&&P.anyBlockSelected&&k.default.get().removeAllRanges(),M){var N=M.closest(".".concat(S.default.CSS.content))===null;if(N&&(this.Editor.InlineToolbar.containsNode(M)||this.Editor.InlineToolbar.close(),M.dataset.inlineToolbar!=="true"))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(M);var F=N!==!0;this.Editor.InlineToolbar.tryToShow(!0,F)}else k.default.range||this.Editor.InlineToolbar.close()}},{key:"appendSVGSprite",value:function(){var C=b.default.make("div");C.hidden=!0,C.style.display="none",C.innerHTML=p.default,b.default.append(this.nodes.wrapper,C)}},{key:"events",get:function(){return{blockHovered:"block-hovered"}}},{key:"CSS",get:function(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorLoader:"codex-editor__loader",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}},{key:"contentRect",get:function(){if(this.contentRectCache)return this.contentRectCache;var C=this.nodes.wrapper.querySelector(".".concat(S.default.CSS.content));return C?(this.contentRectCache=C.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}},{key:"someToolbarOpened",get:function(){var C=this.Editor,A=C.Toolbar,D=C.BlockSettings,P=C.InlineToolbar,M=C.ConversionToolbar;return D.opened||P.opened||M.opened||A.toolbox.opened}},{key:"someFlipperButtonFocused",get:function(){return!!this.Editor.Toolbar.toolbox.hasFocus()||Object.entries(this.Editor).filter(function(C){var A=(0,s.default)(C,2);return A[0],A[1].flipper instanceof O.default}).some(function(C){var A=(0,s.default)(C,2);return A[0],A[1].flipper.hasFocus()})}}]),_}(m.default);o.default=x,x.displayName="UI",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){e(188),t.exports=e(360)},function(t,r,e){e(189)},function(t,r,e){"use strict";e(190),e(333),e(335),e(338),e(340),e(342),e(344),e(346),e(348),e(350),e(352),e(354),e(356),e(147)},function(t,r,e){e(191),e(194),e(195),e(196),e(197),e(198),e(199),e(200),e(201),e(202),e(203),e(204),e(205),e(206),e(207),e(208),e(209),e(210),e(211),e(212),e(213),e(214),e(215),e(216),e(217),e(218),e(219),e(220),e(221),e(222),e(223),e(224),e(225),e(226),e(227),e(228),e(229),e(230),e(231),e(232),e(233),e(234),e(235),e(237),e(238),e(239),e(240),e(241),e(242),e(243),e(244),e(245),e(246),e(247),e(248),e(249),e(250),e(251),e(252),e(253),e(254),e(255),e(256),e(257),e(258),e(259),e(260),e(261),e(262),e(263),e(264),e(265),e(266),e(267),e(268),e(269),e(270),e(272),e(273),e(275),e(276),e(277),e(278),e(279),e(280),e(281),e(283),e(284),e(285),e(286),e(287),e(288),e(289),e(290),e(291),e(292),e(293),e(294),e(295),e(105),e(296),e(136),e(297),e(137),e(298),e(299),e(300),e(301),e(138),e(304),e(305),e(306),e(307),e(308),e(309),e(310),e(311),e(312),e(313),e(314),e(315),e(316),e(317),e(318),e(319),e(320),e(321),e(322),e(323),e(324),e(325),e(326),e(327),e(328),e(329),e(330),e(331),e(332),t.exports=e(17)},function(t,r,e){"use strict";var n=e(10),i=e(26),a=e(18),o=e(0),s=e(23),l=e(41).KEY,u=e(11),c=e(69),d=e(53),f=e(44),g=e(15),y=e(86),h=e(117),p=e(193),m=e(72),b=e(12),v=e(13),k=e(22),S=e(28),O=e(40),R=e(43),L=e(48),T=e(120),x=e(34),w=e(71),I=e(19),B=e(46),E=x.f,_=I.f,C=T.f,A=n.Symbol,D=n.JSON,P=D&&D.stringify,M=g("_hidden"),N=g("toPrimitive"),F={}.propertyIsEnumerable,j=c("symbol-registry"),H=c("symbols"),U=c("op-symbols"),z=Object.prototype,V=typeof A=="function"&&!!w.f,X=n.QObject,q=!X||!X.prototype||!X.prototype.findChild,G=a&&u(function(){return L(_({},"a",{get:function(){return _(this,"a",{value:7}).a}})).a!=7})?function(J,Q,se){var ye=E(z,Q);ye&&delete z[Q],_(J,Q,se),ye&&J!==z&&_(z,Q,ye)}:_,ee=function(J){var Q=H[J]=L(A.prototype);return Q._k=J,Q},ne=V&&typeof A.iterator=="symbol"?function(J){return typeof J=="symbol"}:function(J){return J instanceof A},W=function(J,Q,se){return J===z&&W(U,Q,se),b(J),Q=O(Q,!0),b(se),i(H,Q)?(se.enumerable?(i(J,M)&&J[M][Q]&&(J[M][Q]=!1),se=L(se,{enumerable:R(0,!1)})):(i(J,M)||_(J,M,R(1,{})),J[M][Q]=!0),G(J,Q,se)):_(J,Q,se)},K=function(J,Q){b(J);for(var se,ye=p(Q=S(Q)),Se=0,je=ye.length;je>Se;)W(J,se=ye[Se++],Q[se]);return J},ae=function(J){var Q=F.call(this,J=O(J,!0));return!(this===z&&i(H,J)&&!i(U,J))&&(!(Q||!i(this,J)||!i(H,J)||i(this,M)&&this[M][J])||Q)},te=function(J,Q){if(J=S(J),Q=O(Q,!0),J!==z||!i(H,Q)||i(U,Q)){var se=E(J,Q);return!se||!i(H,Q)||i(J,M)&&J[M][Q]||(se.enumerable=!0),se}},oe=function(J){for(var Q,se=C(S(J)),ye=[],Se=0;se.length>Se;)i(H,Q=se[Se++])||Q==M||Q==l||ye.push(Q);return ye},he=function(J){for(var Q,se=J===z,ye=C(se?U:S(J)),Se=[],je=0;ye.length>je;)!i(H,Q=ye[je++])||se&&!i(z,Q)||Se.push(H[Q]);return Se};V||(s((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var J=f(arguments.length>0?arguments[0]:void 0),Q=function(se){this===z&&Q.call(U,se),i(this,M)&&i(this[M],J)&&(this[M][J]=!1),G(this,J,R(1,se))};return a&&q&&G(z,J,{configurable:!0,set:Q}),ee(J)}).prototype,"toString",function(){return this._k}),x.f=te,I.f=W,e(49).f=T.f=oe,e(64).f=ae,w.f=he,a&&!e(45)&&s(z,"propertyIsEnumerable",ae,!0),y.f=function(J){return ee(g(J))}),o(o.G+o.W+o.F*!V,{Symbol:A});for(var pe="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),de=0;pe.length>de;)g(pe[de++]);for(var ve=B(g.store),me=0;ve.length>me;)h(ve[me++]);o(o.S+o.F*!V,"Symbol",{for:function(J){return i(j,J+="")?j[J]:j[J]=A(J)},keyFor:function(J){if(!ne(J))throw TypeError(J+" is not a symbol!");for(var Q in j)if(j[Q]===J)return Q},useSetter:function(){q=!0},useSimple:function(){q=!1}}),o(o.S+o.F*!V,"Object",{create:function(J,Q){return Q===void 0?L(J):K(L(J),Q)},defineProperty:W,defineProperties:K,getOwnPropertyDescriptor:te,getOwnPropertyNames:oe,getOwnPropertySymbols:he});var ce=u(function(){w.f(1)});o(o.S+o.F*ce,"Object",{getOwnPropertySymbols:function(J){return w.f(k(J))}}),D&&o(o.S+o.F*(!V||u(function(){var J=A();return P([J])!="[null]"||P({a:J})!="{}"||P(Object(J))!="{}"})),"JSON",{stringify:function(J){for(var Q,se,ye=[J],Se=1;arguments.length>Se;)ye.push(arguments[Se++]);if(se=Q=ye[1],(v(Q)||J!==void 0)&&!ne(J))return m(Q)||(Q=function(je,Le){if(typeof se=="function"&&(Le=se.call(this,je,Le)),!ne(Le))return Le}),ye[1]=Q,P.apply(D,ye)}}),A.prototype[N]||e(27)(A.prototype,N,A.prototype.valueOf),d(A,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},function(t,r,e){t.exports=e(69)("native-function-to-string",Function.toString)},function(t,r,e){var n=e(46),i=e(71),a=e(64);t.exports=function(o){var s=n(o),l=i.f;if(l)for(var u,c=l(o),d=a.f,f=0;c.length>f;)d.call(o,u=c[f++])&&s.push(u);return s}},function(t,r,e){var n=e(0);n(n.S,"Object",{create:e(48)})},function(t,r,e){var n=e(0);n(n.S+n.F*!e(18),"Object",{defineProperty:e(19).f})},function(t,r,e){var n=e(0);n(n.S+n.F*!e(18),"Object",{defineProperties:e(119)})},function(t,r,e){var n=e(28),i=e(34).f;e(35)("getOwnPropertyDescriptor",function(){return function(a,o){return i(n(a),o)}})},function(t,r,e){var n=e(22),i=e(50);e(35)("getPrototypeOf",function(){return function(a){return i(n(a))}})},function(t,r,e){var n=e(22),i=e(46);e(35)("keys",function(){return function(a){return i(n(a))}})},function(t,r,e){e(35)("getOwnPropertyNames",function(){return e(120).f})},function(t,r,e){var n=e(13),i=e(41).onFreeze;e(35)("freeze",function(a){return function(o){return a&&n(o)?a(i(o)):o}})},function(t,r,e){var n=e(13),i=e(41).onFreeze;e(35)("seal",function(a){return function(o){return a&&n(o)?a(i(o)):o}})},function(t,r,e){var n=e(13),i=e(41).onFreeze;e(35)("preventExtensions",function(a){return function(o){return a&&n(o)?a(i(o)):o}})},function(t,r,e){var n=e(13);e(35)("isFrozen",function(i){return function(a){return!n(a)||!!i&&i(a)}})},function(t,r,e){var n=e(13);e(35)("isSealed",function(i){return function(a){return!n(a)||!!i&&i(a)}})},function(t,r,e){var n=e(13);e(35)("isExtensible",function(i){return function(a){return!!n(a)&&(!i||i(a))}})},function(t,r,e){var n=e(0);n(n.S+n.F,"Object",{assign:e(121)})},function(t,r,e){var n=e(0);n(n.S,"Object",{is:e(122)})},function(t,r,e){var n=e(0);n(n.S,"Object",{setPrototypeOf:e(90).set})},function(t,r,e){"use strict";var n=e(65),i={};i[e(15)("toStringTag")]="z",i+""!="[object z]"&&e(23)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(t,r,e){var n=e(0);n(n.P,"Function",{bind:e(123)})},function(t,r,e){var n=e(19).f,i=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in i||e(18)&&n(i,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch{return""}}})},function(t,r,e){"use strict";var n=e(13),i=e(50),a=e(15)("hasInstance"),o=Function.prototype;a in o||e(19).f(o,a,{value:function(s){if(typeof this!="function"||!n(s))return!1;if(!n(this.prototype))return s instanceof this;for(;s=i(s);)if(this.prototype===s)return!0;return!1}})},function(t,r,e){var n=e(0),i=e(125);n(n.G+n.F*(parseInt!=i),{parseInt:i})},function(t,r,e){var n=e(0),i=e(126);n(n.G+n.F*(parseFloat!=i),{parseFloat:i})},function(t,r,e){"use strict";var n=e(10),i=e(26),a=e(37),o=e(92),s=e(40),l=e(11),u=e(49).f,c=e(34).f,d=e(19).f,f=e(54).trim,g=n.Number,y=g,h=g.prototype,p=a(e(48)(h))=="Number",m="trim"in String.prototype,b=function(O){var R=s(O,!1);if(typeof R=="string"&&R.length>2){var L,T,x,w=(R=m?R.trim():f(R,3)).charCodeAt(0);if(w===43||w===45){if((L=R.charCodeAt(2))===88||L===120)return NaN}else if(w===48){switch(R.charCodeAt(1)){case 66:case 98:T=2,x=49;break;case 79:case 111:T=8,x=55;break;default:return+R}for(var I,B=R.slice(2),E=0,_=B.length;E<_;E++)if((I=B.charCodeAt(E))<48||I>x)return NaN;return parseInt(B,T)}}return+R};if(!g(" 0o1")||!g("0b1")||g("+0x1")){g=function(O){var R=arguments.length<1?0:O,L=this;return L instanceof g&&(p?l(function(){h.valueOf.call(L)}):a(L)!="Number")?o(new y(b(R)),L,g):b(R)};for(var v,k=e(18)?u(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;k.length>S;S++)i(y,v=k[S])&&!i(g,v)&&d(g,v,c(y,v));g.prototype=h,h.constructor=g,e(23)(n,"Number",g)}},function(t,r,e){"use strict";var n=e(0),i=e(33),a=e(127),o=e(93),s=1 .toFixed,l=Math.floor,u=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",d=function(h,p){for(var m=-1,b=p;++m<6;)b+=h*u[m],u[m]=b%1e7,b=l(b/1e7)},f=function(h){for(var p=6,m=0;--p>=0;)m+=u[p],u[p]=l(m/h),m=m%h*1e7},g=function(){for(var h=6,p="";--h>=0;)if(p!==""||h===0||u[h]!==0){var m=String(u[h]);p=p===""?m:p+o.call("0",7-m.length)+m}return p},y=function(h,p,m){return p===0?m:p%2==1?y(h,p-1,m*h):y(h*h,p/2,m)};n(n.P+n.F*(!!s&&(8e-5 .toFixed(3)!=="0.000"||.9 .toFixed(0)!=="1"||1.255 .toFixed(2)!=="1.25"||0xde0b6b3a7640080 .toFixed(0)!=="1000000000000000128")||!e(11)(function(){s.call({})})),"Number",{toFixed:function(h){var p,m,b,v,k=a(this,c),S=i(h),O="",R="0";if(S<0||S>20)throw RangeError(c);if(k!=k)return"NaN";if(k<=-1e21||k>=1e21)return String(k);if(k<0&&(O="-",k=-k),k>1e-21)if(m=(p=function(L){for(var T=0,x=L;x>=4096;)T+=12,x/=4096;for(;x>=2;)T+=1,x/=2;return T}(k*y(2,69,1))-69)<0?k*y(2,-p,1):k/y(2,p,1),m*=4503599627370496,(p=52-p)>0){for(d(0,m),b=S;b>=7;)d(1e7,0),b-=7;for(d(y(10,b,1),0),b=p-1;b>=23;)f(1<<23),b-=23;f(1<<b),d(1,1),f(2),R=g()}else d(0,m),d(1<<-p,0),R=g()+o.call("0",S);return R=S>0?O+((v=R.length)<=S?"0."+o.call("0",S-v)+R:R.slice(0,v-S)+"."+R.slice(v-S)):O+R}})},function(t,r,e){"use strict";var n=e(0),i=e(11),a=e(127),o=1 .toPrecision;n(n.P+n.F*(i(function(){return o.call(1,void 0)!=="1"})||!i(function(){o.call({})})),"Number",{toPrecision:function(s){var l=a(this,"Number#toPrecision: incorrect invocation!");return s===void 0?o.call(l):o.call(l,s)}})},function(t,r,e){var n=e(0);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,r,e){var n=e(0),i=e(10).isFinite;n(n.S,"Number",{isFinite:function(a){return typeof a=="number"&&i(a)}})},function(t,r,e){var n=e(0);n(n.S,"Number",{isInteger:e(128)})},function(t,r,e){var n=e(0);n(n.S,"Number",{isNaN:function(i){return i!=i}})},function(t,r,e){var n=e(0),i=e(128),a=Math.abs;n(n.S,"Number",{isSafeInteger:function(o){return i(o)&&a(o)<=9007199254740991}})},function(t,r,e){var n=e(0);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,r,e){var n=e(0);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,r,e){var n=e(0),i=e(126);n(n.S+n.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,r,e){var n=e(0),i=e(125);n(n.S+n.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,r,e){var n=e(0),i=e(129),a=Math.sqrt,o=Math.acosh;n(n.S+n.F*!(o&&Math.floor(o(Number.MAX_VALUE))==710&&o(1/0)==1/0),"Math",{acosh:function(s){return(s=+s)<1?NaN:s>9490626562425156e-8?Math.log(s)+Math.LN2:i(s-1+a(s-1)*a(s+1))}})},function(t,r,e){var n=e(0),i=Math.asinh;n(n.S+n.F*!(i&&1/i(0)>0),"Math",{asinh:function a(o){return isFinite(o=+o)&&o!=0?o<0?-a(-o):Math.log(o+Math.sqrt(o*o+1)):o}})},function(t,r,e){var n=e(0),i=Math.atanh;n(n.S+n.F*!(i&&1/i(-0)<0),"Math",{atanh:function(a){return(a=+a)==0?a:Math.log((1+a)/(1-a))/2}})},function(t,r,e){var n=e(0),i=e(94);n(n.S,"Math",{cbrt:function(a){return i(a=+a)*Math.pow(Math.abs(a),1/3)}})},function(t,r,e){var n=e(0);n(n.S,"Math",{clz32:function(i){return(i>>>=0)?31-Math.floor(Math.log(i+.5)*Math.LOG2E):32}})},function(t,r,e){var n=e(0),i=Math.exp;n(n.S,"Math",{cosh:function(a){return(i(a=+a)+i(-a))/2}})},function(t,r,e){var n=e(0),i=e(95);n(n.S+n.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,r,e){var n=e(0);n(n.S,"Math",{fround:e(236)})},function(t,r,e){var n=e(94),i=Math.pow,a=i(2,-52),o=i(2,-23),s=i(2,127)*(2-o),l=i(2,-126);t.exports=Math.fround||function(u){var c,d,f=Math.abs(u),g=n(u);return f<l?g*(f/l/o+1/a-1/a)*l*o:(d=(c=(1+o/a)*f)-(c-f))>s||d!=d?g*(1/0):g*d}},function(t,r,e){var n=e(0),i=Math.abs;n(n.S,"Math",{hypot:function(a,o){for(var s,l,u=0,c=0,d=arguments.length,f=0;c<d;)f<(s=i(arguments[c++]))?(u=u*(l=f/s)*l+1,f=s):u+=s>0?(l=s/f)*l:s;return f===1/0?1/0:f*Math.sqrt(u)}})},function(t,r,e){var n=e(0),i=Math.imul;n(n.S+n.F*e(11)(function(){return i(4294967295,5)!=-5||i.length!=2}),"Math",{imul:function(a,o){var s=+a,l=+o,u=65535&s,c=65535&l;return 0|u*c+((65535&s>>>16)*c+u*(65535&l>>>16)<<16>>>0)}})},function(t,r,e){var n=e(0);n(n.S,"Math",{log10:function(i){return Math.log(i)*Math.LOG10E}})},function(t,r,e){var n=e(0);n(n.S,"Math",{log1p:e(129)})},function(t,r,e){var n=e(0);n(n.S,"Math",{log2:function(i){return Math.log(i)/Math.LN2}})},function(t,r,e){var n=e(0);n(n.S,"Math",{sign:e(94)})},function(t,r,e){var n=e(0),i=e(95),a=Math.exp;n(n.S+n.F*e(11)(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(o){return Math.abs(o=+o)<1?(i(o)-i(-o))/2:(a(o-1)-a(-o-1))*(Math.E/2)}})},function(t,r,e){var n=e(0),i=e(95),a=Math.exp;n(n.S,"Math",{tanh:function(o){var s=i(o=+o),l=i(-o);return s==1/0?1:l==1/0?-1:(s-l)/(a(o)+a(-o))}})},function(t,r,e){var n=e(0);n(n.S,"Math",{trunc:function(i){return(i>0?Math.floor:Math.ceil)(i)}})},function(t,r,e){var n=e(0),i=e(47),a=String.fromCharCode,o=String.fromCodePoint;n(n.S+n.F*(!!o&&o.length!=1),"String",{fromCodePoint:function(s){for(var l,u=[],c=arguments.length,d=0;c>d;){if(l=+arguments[d++],i(l,1114111)!==l)throw RangeError(l+" is not a valid code point");u.push(l<65536?a(l):a(55296+((l-=65536)>>10),l%1024+56320))}return u.join("")}})},function(t,r,e){var n=e(0),i=e(28),a=e(16);n(n.S,"String",{raw:function(o){for(var s=i(o.raw),l=a(s.length),u=arguments.length,c=[],d=0;l>d;)c.push(String(s[d++])),d<u&&c.push(String(arguments[d]));return c.join("")}})},function(t,r,e){"use strict";e(54)("trim",function(n){return function(){return n(this,3)}})},function(t,r,e){"use strict";var n=e(96)(!0);e(97)(String,"String",function(i){this._t=String(i),this._i=0},function(){var i,a=this._t,o=this._i;return o>=a.length?{value:void 0,done:!0}:(i=n(a,o),this._i+=i.length,{value:i,done:!1})})},function(t,r,e){"use strict";var n=e(0),i=e(96)(!1);n(n.P,"String",{codePointAt:function(a){return i(this,a)}})},function(t,r,e){"use strict";var n=e(0),i=e(16),a=e(98),o="".endsWith;n(n.P+n.F*e(100)("endsWith"),"String",{endsWith:function(s){var l=a(this,s,"endsWith"),u=arguments.length>1?arguments[1]:void 0,c=i(l.length),d=u===void 0?c:Math.min(i(u),c),f=String(s);return o?o.call(l,f,d):l.slice(d-f.length,d)===f}})},function(t,r,e){"use strict";var n=e(0),i=e(98);n(n.P+n.F*e(100)("includes"),"String",{includes:function(a){return!!~i(this,a,"includes").indexOf(a,arguments.length>1?arguments[1]:void 0)}})},function(t,r,e){var n=e(0);n(n.P,"String",{repeat:e(93)})},function(t,r,e){"use strict";var n=e(0),i=e(16),a=e(98),o="".startsWith;n(n.P+n.F*e(100)("startsWith"),"String",{startsWith:function(s){var l=a(this,s,"startsWith"),u=i(Math.min(arguments.length>1?arguments[1]:void 0,l.length)),c=String(s);return o?o.call(l,c,u):l.slice(u,u+c.length)===c}})},function(t,r,e){"use strict";e(24)("anchor",function(n){return function(i){return n(this,"a","name",i)}})},function(t,r,e){"use strict";e(24)("big",function(n){return function(){return n(this,"big","","")}})},function(t,r,e){"use strict";e(24)("blink",function(n){return function(){return n(this,"blink","","")}})},function(t,r,e){"use strict";e(24)("bold",function(n){return function(){return n(this,"b","","")}})},function(t,r,e){"use strict";e(24)("fixed",function(n){return function(){return n(this,"tt","","")}})},function(t,r,e){"use strict";e(24)("fontcolor",function(n){return function(i){return n(this,"font","color",i)}})},function(t,r,e){"use strict";e(24)("fontsize",function(n){return function(i){return n(this,"font","size",i)}})},function(t,r,e){"use strict";e(24)("italics",function(n){return function(){return n(this,"i","","")}})},function(t,r,e){"use strict";e(24)("link",function(n){return function(i){return n(this,"a","href",i)}})},function(t,r,e){"use strict";e(24)("small",function(n){return function(){return n(this,"small","","")}})},function(t,r,e){"use strict";e(24)("strike",function(n){return function(){return n(this,"strike","","")}})},function(t,r,e){"use strict";e(24)("sub",function(n){return function(){return n(this,"sub","","")}})},function(t,r,e){"use strict";e(24)("sup",function(n){return function(){return n(this,"sup","","")}})},function(t,r,e){var n=e(0);n(n.S,"Date",{now:function(){return new Date().getTime()}})},function(t,r,e){"use strict";var n=e(0),i=e(22),a=e(40);n(n.P+n.F*e(11)(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1}),"Date",{toJSON:function(o){var s=i(this),l=a(s);return typeof l!="number"||isFinite(l)?s.toISOString():null}})},function(t,r,e){var n=e(0),i=e(271);n(n.P+n.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,r,e){"use strict";var n=e(11),i=Date.prototype.getTime,a=Date.prototype.toISOString,o=function(s){return s>9?s:"0"+s};t.exports=n(function(){return a.call(new Date(-50000000000001))!="0385-07-25T07:06:39.999Z"})||!n(function(){a.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var s=this,l=s.getUTCFullYear(),u=s.getUTCMilliseconds(),c=l<0?"-":l>9999?"+":"";return c+("00000"+Math.abs(l)).slice(c?-6:-4)+"-"+o(s.getUTCMonth()+1)+"-"+o(s.getUTCDate())+"T"+o(s.getUTCHours())+":"+o(s.getUTCMinutes())+":"+o(s.getUTCSeconds())+"."+(u>99?u:"0"+o(u))+"Z"}:a},function(t,r,e){var n=Date.prototype,i=n.toString,a=n.getTime;new Date(NaN)+""!="Invalid Date"&&e(23)(n,"toString",function(){var o=a.call(this);return o==o?i.call(this):"Invalid Date"})},function(t,r,e){var n=e(15)("toPrimitive"),i=Date.prototype;n in i||e(27)(i,n,e(274))},function(t,r,e){"use strict";var n=e(12),i=e(40);t.exports=function(a){if(a!=="string"&&a!=="number"&&a!=="default")throw TypeError("Incorrect hint");return i(n(this),a!="number")}},function(t,r,e){var n=e(0);n(n.S,"Array",{isArray:e(72)})},function(t,r,e){"use strict";var n=e(31),i=e(0),a=e(22),o=e(131),s=e(101),l=e(16),u=e(102),c=e(103);i(i.S+i.F*!e(73)(function(d){Array.from(d)}),"Array",{from:function(d){var f,g,y,h,p=a(d),m=typeof this=="function"?this:Array,b=arguments.length,v=b>1?arguments[1]:void 0,k=v!==void 0,S=0,O=c(p);if(k&&(v=n(v,b>2?arguments[2]:void 0,2)),O==null||m==Array&&s(O))for(g=new m(f=l(p.length));f>S;S++)u(g,S,k?v(p[S],S):p[S]);else for(h=O.call(p),g=new m;!(y=h.next()).done;S++)u(g,S,k?o(h,v,[y.value,S],!0):y.value);return g.length=S,g}})},function(t,r,e){"use strict";var n=e(0),i=e(102);n(n.S+n.F*e(11)(function(){function a(){}return!(Array.of.call(a)instanceof a)}),"Array",{of:function(){for(var a=0,o=arguments.length,s=new(typeof this=="function"?this:Array)(o);o>a;)i(s,a,arguments[a++]);return s.length=o,s}})},function(t,r,e){"use strict";var n=e(0),i=e(28),a=[].join;n(n.P+n.F*(e(63)!=Object||!e(29)(a)),"Array",{join:function(o){return a.call(i(this),o===void 0?",":o)}})},function(t,r,e){"use strict";var n=e(0),i=e(89),a=e(37),o=e(47),s=e(16),l=[].slice;n(n.P+n.F*e(11)(function(){i&&l.call(i)}),"Array",{slice:function(u,c){var d=s(this.length),f=a(this);if(c=c===void 0?d:c,f=="Array")return l.call(this,u,c);for(var g=o(u,d),y=o(c,d),h=s(y-g),p=new Array(h),m=0;m<h;m++)p[m]=f=="String"?this.charAt(g+m):this[g+m];return p}})},function(t,r,e){"use strict";var n=e(0),i=e(32),a=e(22),o=e(11),s=[].sort,l=[1,2,3];n(n.P+n.F*(o(function(){l.sort(void 0)})||!o(function(){l.sort(null)})||!e(29)(s)),"Array",{sort:function(u){return u===void 0?s.call(a(this)):s.call(a(this),i(u))}})},function(t,r,e){"use strict";var n=e(0),i=e(36)(0),a=e(29)([].forEach,!0);n(n.P+n.F*!a,"Array",{forEach:function(o){return i(this,o,arguments[1])}})},function(t,r,e){var n=e(13),i=e(72),a=e(15)("species");t.exports=function(o){var s;return i(o)&&(typeof(s=o.constructor)!="function"||s!==Array&&!i(s.prototype)||(s=void 0),n(s)&&(s=s[a])===null&&(s=void 0)),s===void 0?Array:s}},function(t,r,e){"use strict";var n=e(0),i=e(36)(1);n(n.P+n.F*!e(29)([].map,!0),"Array",{map:function(a){return i(this,a,arguments[1])}})},function(t,r,e){"use strict";var n=e(0),i=e(36)(2);n(n.P+n.F*!e(29)([].filter,!0),"Array",{filter:function(a){return i(this,a,arguments[1])}})},function(t,r,e){"use strict";var n=e(0),i=e(36)(3);n(n.P+n.F*!e(29)([].some,!0),"Array",{some:function(a){return i(this,a,arguments[1])}})},function(t,r,e){"use strict";var n=e(0),i=e(36)(4);n(n.P+n.F*!e(29)([].every,!0),"Array",{every:function(a){return i(this,a,arguments[1])}})},function(t,r,e){"use strict";var n=e(0),i=e(133);n(n.P+n.F*!e(29)([].reduce,!0),"Array",{reduce:function(a){return i(this,a,arguments.length,arguments[1],!1)}})},function(t,r,e){"use strict";var n=e(0),i=e(133);n(n.P+n.F*!e(29)([].reduceRight,!0),"Array",{reduceRight:function(a){return i(this,a,arguments.length,arguments[1],!0)}})},function(t,r,e){"use strict";var n=e(0),i=e(70)(!1),a=[].indexOf,o=!!a&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(o||!e(29)(a)),"Array",{indexOf:function(s){return o?a.apply(this,arguments)||0:i(this,s,arguments[1])}})},function(t,r,e){"use strict";var n=e(0),i=e(28),a=e(33),o=e(16),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(l||!e(29)(s)),"Array",{lastIndexOf:function(u){if(l)return s.apply(this,arguments)||0;var c=i(this),d=o(c.length),f=d-1;for(arguments.length>1&&(f=Math.min(f,a(arguments[1]))),f<0&&(f=d+f);f>=0;f--)if(f in c&&c[f]===u)return f||0;return-1}})},function(t,r,e){var n=e(0);n(n.P,"Array",{copyWithin:e(134)}),e(51)("copyWithin")},function(t,r,e){var n=e(0);n(n.P,"Array",{fill:e(104)}),e(51)("fill")},function(t,r,e){"use strict";var n=e(0),i=e(36)(5),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),n(n.P+n.F*a,"Array",{find:function(o){return i(this,o,arguments.length>1?arguments[1]:void 0)}}),e(51)("find")},function(t,r,e){"use strict";var n=e(0),i=e(36)(6),a="findIndex",o=!0;a in[]&&Array(1)[a](function(){o=!1}),n(n.P+n.F*o,"Array",{findIndex:function(s){return i(this,s,arguments.length>1?arguments[1]:void 0)}}),e(51)(a)},function(t,r,e){e(56)("Array")},function(t,r,e){var n=e(10),i=e(92),a=e(19).f,o=e(49).f,s=e(99),l=e(74),u=n.RegExp,c=u,d=u.prototype,f=/a/g,g=/a/g,y=new u(f)!==f;if(e(18)&&(!y||e(11)(function(){return g[e(15)("match")]=!1,u(f)!=f||u(g)==g||u(f,"i")!="/a/i"}))){u=function(b,v){var k=this instanceof u,S=s(b),O=v===void 0;return!k&&S&&b.constructor===u&&O?b:i(y?new c(S&&!O?b.source:b,v):c((S=b instanceof u)?b.source:b,S&&O?l.call(b):v),k?this:d,u)};for(var h=function(b){b in u||a(u,b,{configurable:!0,get:function(){return c[b]},set:function(v){c[b]=v}})},p=o(c),m=0;p.length>m;)h(p[m++]);d.constructor=u,u.prototype=d,e(23)(n,"RegExp",u)}e(56)("RegExp")},function(t,r,e){"use strict";e(137);var n=e(12),i=e(74),a=e(18),o=/./.toString,s=function(l){e(23)(RegExp.prototype,"toString",l,!0)};e(11)(function(){return o.call({source:"a",flags:"b"})!="/a/b"})?s(function(){var l=n(this);return"/".concat(l.source,"/","flags"in l?l.flags:!a&&l instanceof RegExp?i.call(l):void 0)}):o.name!="toString"&&s(function(){return o.call(this)})},function(t,r,e){"use strict";var n=e(12),i=e(16),a=e(107),o=e(75);e(76)("match",1,function(s,l,u,c){return[function(d){var f=s(this),g=d?.[l];return g!==void 0?g.call(d,f):new RegExp(d)[l](String(f))},function(d){var f=c(u,d,this);if(f.done)return f.value;var g=n(d),y=String(this);if(!g.global)return o(g,y);var h=g.unicode;g.lastIndex=0;for(var p,m=[],b=0;(p=o(g,y))!==null;){var v=String(p[0]);m[b]=v,v===""&&(g.lastIndex=a(y,i(g.lastIndex),h)),b++}return b===0?null:m}]})},function(t,r,e){"use strict";var n=e(12),i=e(22),a=e(16),o=e(33),s=e(107),l=e(75),u=Math.max,c=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,g=/\$([$&`']|\d\d?)/g;e(76)("replace",2,function(y,h,p,m){return[function(v,k){var S=y(this),O=v?.[h];return O!==void 0?O.call(v,S,k):p.call(String(S),v,k)},function(v,k){var S=m(p,v,this,k);if(S.done)return S.value;var O=n(v),R=String(this),L=typeof k=="function";L||(k=String(k));var T=O.global;if(T){var x=O.unicode;O.lastIndex=0}for(var w=[];;){var I=l(O,R);if(I===null||(w.push(I),!T))break;String(I[0])===""&&(O.lastIndex=s(R,a(O.lastIndex),x))}for(var B,E="",_=0,C=0;C<w.length;C++){I=w[C];for(var A=String(I[0]),D=u(c(o(I.index),R.length),0),P=[],M=1;M<I.length;M++)P.push((B=I[M])===void 0?B:String(B));var N=I.groups;if(L){var F=[A].concat(P,D,R);N!==void 0&&F.push(N);var j=String(k.apply(void 0,F))}else j=b(A,R,D,P,N,k);D>=_&&(E+=R.slice(_,D)+j,_=D+A.length)}return E+R.slice(_)}];function b(v,k,S,O,R,L){var T=S+v.length,x=O.length,w=g;return R!==void 0&&(R=i(R),w=f),p.call(L,w,function(I,B){var E;switch(B.charAt(0)){case"$":return"$";case"&":return v;case"`":return k.slice(0,S);case"'":return k.slice(T);case"<":E=R[B.slice(1,-1)];break;default:var _=+B;if(_===0)return I;if(_>x){var C=d(_/10);return C===0?I:C<=x?O[C-1]===void 0?B.charAt(1):O[C-1]+B.charAt(1):I}E=O[_-1]}return E===void 0?"":E})}})},function(t,r,e){"use strict";var n=e(12),i=e(122),a=e(75);e(76)("search",1,function(o,s,l,u){return[function(c){var d=o(this),f=c?.[s];return f!==void 0?f.call(c,d):new RegExp(c)[s](String(d))},function(c){var d=u(l,c,this);if(d.done)return d.value;var f=n(c),g=String(this),y=f.lastIndex;i(y,0)||(f.lastIndex=0);var h=a(f,g);return i(f.lastIndex,y)||(f.lastIndex=y),h===null?-1:h.index}]})},function(t,r,e){"use strict";var n=e(99),i=e(12),a=e(66),o=e(107),s=e(16),l=e(75),u=e(106),c=e(11),d=Math.min,f=[].push,g="length",y=!c(function(){RegExp(4294967295,"y")});e(76)("split",2,function(h,p,m,b){var v;return v="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1)[g]!=4||"ab".split(/(?:ab)*/)[g]!=2||".".split(/(.?)(.?)/)[g]!=4||".".split(/()()/)[g]>1||"".split(/.?/)[g]?function(k,S){var O=String(this);if(k===void 0&&S===0)return[];if(!n(k))return m.call(O,k,S);for(var R,L,T,x=[],w=(k.ignoreCase?"i":"")+(k.multiline?"m":"")+(k.unicode?"u":"")+(k.sticky?"y":""),I=0,B=S===void 0?4294967295:S>>>0,E=new RegExp(k.source,w+"g");(R=u.call(E,O))&&!((L=E.lastIndex)>I&&(x.push(O.slice(I,R.index)),R[g]>1&&R.index<O[g]&&f.apply(x,R.slice(1)),T=R[0][g],I=L,x[g]>=B));)E.lastIndex===R.index&&E.lastIndex++;return I===O[g]?!T&&E.test("")||x.push(""):x.push(O.slice(I)),x[g]>B?x.slice(0,B):x}:"0".split(void 0,0)[g]?function(k,S){return k===void 0&&S===0?[]:m.call(this,k,S)}:m,[function(k,S){var O=h(this),R=k?.[p];return R!==void 0?R.call(k,O,S):v.call(String(O),k,S)},function(k,S){var O=b(v,k,this,S,v!==m);if(O.done)return O.value;var R=i(k),L=String(this),T=a(R,RegExp),x=R.unicode,w=(R.ignoreCase?"i":"")+(R.multiline?"m":"")+(R.unicode?"u":"")+(y?"y":"g"),I=new T(y?R:"^(?:"+R.source+")",w),B=S===void 0?4294967295:S>>>0;if(B===0)return[];if(L.length===0)return l(I,L)===null?[L]:[];for(var E=0,_=0,C=[];_<L.length;){I.lastIndex=y?_:0;var A,D=l(I,y?L:L.slice(_));if(D===null||(A=d(s(I.lastIndex+(y?0:_)),L.length))===E)_=o(L,_,x);else{if(C.push(L.slice(E,_)),C.length===B)return C;for(var P=1;P<=D.length-1;P++)if(C.push(D[P]),C.length===B)return C;_=E=A}}return C.push(L.slice(E)),C}]})},function(t,r,e){var n=e(10),i=e(108).set,a=n.MutationObserver||n.WebKitMutationObserver,o=n.process,s=n.Promise,l=e(37)(o)=="process";t.exports=function(){var u,c,d,f=function(){var p,m;for(l&&(p=o.domain)&&p.exit();u;){m=u.fn,u=u.next;try{m()}catch(b){throw u?d():c=void 0,b}}c=void 0,p&&p.enter()};if(l)d=function(){o.nextTick(f)};else if(!a||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var g=s.resolve(void 0);d=function(){g.then(f)}}else d=function(){i.call(n,f)};else{var y=!0,h=document.createTextNode("");new a(f).observe(h,{characterData:!0}),d=function(){h.data=y=!y}}return function(p){var m={fn:p,next:void 0};c&&(c.next=m),u||(u=m,d()),c=m}}},function(t,r){t.exports=function(e){try{return{e:!1,v:e()}}catch(n){return{e:!0,v:n}}}},function(t,r,e){"use strict";var n=e(141),i=e(52);t.exports=e(79)("Map",function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{get:function(a){var o=n.getEntry(i(this,"Map"),a);return o&&o.v},set:function(a,o){return n.def(i(this,"Map"),a===0?0:a,o)}},n,!0)},function(t,r,e){"use strict";var n=e(141),i=e(52);t.exports=e(79)("Set",function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{add:function(a){return n.def(i(this,"Set"),a=a===0?0:a,a)}},n)},function(t,r,e){"use strict";var n,i=e(10),a=e(36)(0),o=e(23),s=e(41),l=e(121),u=e(142),c=e(13),d=e(52),f=e(52),g=!i.ActiveXObject&&"ActiveXObject"in i,y=s.getWeak,h=Object.isExtensible,p=u.ufstore,m=function(k){return function(){return k(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(k){if(c(k)){var S=y(k);return S===!0?p(d(this,"WeakMap")).get(k):S?S[this._i]:void 0}},set:function(k,S){return u.def(d(this,"WeakMap"),k,S)}},v=t.exports=e(79)("WeakMap",m,b,u,!0,!0);f&&g&&(l((n=u.getConstructor(m,"WeakMap")).prototype,b),s.NEED=!0,a(["delete","has","get","set"],function(k){var S=v.prototype,O=S[k];o(S,k,function(R,L){if(c(R)&&!h(R)){this._f||(this._f=new n);var T=this._f[k](R,L);return k=="set"?this:T}return O.call(this,R,L)})}))},function(t,r,e){"use strict";var n=e(142),i=e(52);e(79)("WeakSet",function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{add:function(a){return n.def(i(this,"WeakSet"),a,!0)}},n,!1,!0)},function(t,r,e){"use strict";var n=e(0),i=e(80),a=e(109),o=e(12),s=e(47),l=e(16),u=e(13),c=e(10).ArrayBuffer,d=e(66),f=a.ArrayBuffer,g=a.DataView,y=i.ABV&&c.isView,h=f.prototype.slice,p=i.VIEW;n(n.G+n.W+n.F*(c!==f),{ArrayBuffer:f}),n(n.S+n.F*!i.CONSTR,"ArrayBuffer",{isView:function(m){return y&&y(m)||u(m)&&p in m}}),n(n.P+n.U+n.F*e(11)(function(){return!new f(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(m,b){if(h!==void 0&&b===void 0)return h.call(o(this),m);for(var v=o(this).byteLength,k=s(m,v),S=s(b===void 0?v:b,v),O=new(d(this,f))(l(S-k)),R=new g(this),L=new g(O),T=0;k<S;)L.setUint8(T++,R.getUint8(k++));return O}}),e(56)("ArrayBuffer")},function(t,r,e){var n=e(0);n(n.G+n.W+n.F*!e(80).ABV,{DataView:e(109).DataView})},function(t,r,e){e(39)("Int8",1,function(n){return function(i,a,o){return n(this,i,a,o)}})},function(t,r,e){e(39)("Uint8",1,function(n){return function(i,a,o){return n(this,i,a,o)}})},function(t,r,e){e(39)("Uint8",1,function(n){return function(i,a,o){return n(this,i,a,o)}},!0)},function(t,r,e){e(39)("Int16",2,function(n){return function(i,a,o){return n(this,i,a,o)}})},function(t,r,e){e(39)("Uint16",2,function(n){return function(i,a,o){return n(this,i,a,o)}})},function(t,r,e){e(39)("Int32",4,function(n){return function(i,a,o){return n(this,i,a,o)}})},function(t,r,e){e(39)("Uint32",4,function(n){return function(i,a,o){return n(this,i,a,o)}})},function(t,r,e){e(39)("Float32",4,function(n){return function(i,a,o){return n(this,i,a,o)}})},function(t,r,e){e(39)("Float64",8,function(n){return function(i,a,o){return n(this,i,a,o)}})},function(t,r,e){var n=e(0),i=e(32),a=e(12),o=(e(10).Reflect||{}).apply,s=Function.apply;n(n.S+n.F*!e(11)(function(){o(function(){})}),"Reflect",{apply:function(l,u,c){var d=i(l),f=a(c);return o?o(d,u,f):s.call(d,u,f)}})},function(t,r,e){var n=e(0),i=e(48),a=e(32),o=e(12),s=e(13),l=e(11),u=e(123),c=(e(10).Reflect||{}).construct,d=l(function(){function g(){}return!(c(function(){},[],g)instanceof g)}),f=!l(function(){c(function(){})});n(n.S+n.F*(d||f),"Reflect",{construct:function(g,y){a(g),o(y);var h=arguments.length<3?g:a(arguments[2]);if(f&&!d)return c(g,y,h);if(g==h){switch(y.length){case 0:return new g;case 1:return new g(y[0]);case 2:return new g(y[0],y[1]);case 3:return new g(y[0],y[1],y[2]);case 4:return new g(y[0],y[1],y[2],y[3])}var p=[null];return p.push.apply(p,y),new(u.apply(g,p))}var m=h.prototype,b=i(s(m)?m:Object.prototype),v=Function.apply.call(g,b,y);return s(v)?v:b}})},function(t,r,e){var n=e(19),i=e(0),a=e(12),o=e(40);i(i.S+i.F*e(11)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(s,l,u){a(s),l=o(l,!0),a(u);try{return n.f(s,l,u),!0}catch{return!1}}})},function(t,r,e){var n=e(0),i=e(34).f,a=e(12);n(n.S,"Reflect",{deleteProperty:function(o,s){var l=i(a(o),s);return!(l&&!l.configurable)&&delete o[s]}})},function(t,r,e){"use strict";var n=e(0),i=e(12),a=function(o){this._t=i(o),this._i=0;var s,l=this._k=[];for(s in o)l.push(s)};e(130)(a,"Object",function(){var o,s=this._k;do if(this._i>=s.length)return{value:void 0,done:!0};while(!((o=s[this._i++])in this._t));return{value:o,done:!1}}),n(n.S,"Reflect",{enumerate:function(o){return new a(o)}})},function(t,r,e){var n=e(34),i=e(50),a=e(26),o=e(0),s=e(13),l=e(12);o(o.S,"Reflect",{get:function u(c,d){var f,g,y=arguments.length<3?c:arguments[2];return l(c)===y?c[d]:(f=n.f(c,d))?a(f,"value")?f.value:f.get!==void 0?f.get.call(y):void 0:s(g=i(c))?u(g,d,y):void 0}})},function(t,r,e){var n=e(34),i=e(0),a=e(12);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(o,s){return n.f(a(o),s)}})},function(t,r,e){var n=e(0),i=e(50),a=e(12);n(n.S,"Reflect",{getPrototypeOf:function(o){return i(a(o))}})},function(t,r,e){var n=e(0);n(n.S,"Reflect",{has:function(i,a){return a in i}})},function(t,r,e){var n=e(0),i=e(12),a=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(o){return i(o),!a||a(o)}})},function(t,r,e){var n=e(0);n(n.S,"Reflect",{ownKeys:e(144)})},function(t,r,e){var n=e(0),i=e(12),a=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(o){i(o);try{return a&&a(o),!0}catch{return!1}}})},function(t,r,e){var n=e(19),i=e(34),a=e(50),o=e(26),s=e(0),l=e(43),u=e(12),c=e(13);s(s.S,"Reflect",{set:function d(f,g,y){var h,p,m=arguments.length<4?f:arguments[3],b=i.f(u(f),g);if(!b){if(c(p=a(f)))return d(p,g,y,m);b=l(0)}if(o(b,"value")){if(b.writable===!1||!c(m))return!1;if(h=i.f(m,g)){if(h.get||h.set||h.writable===!1)return!1;h.value=y,n.f(m,g,h)}else n.f(m,g,l(0,y));return!0}return b.set!==void 0&&(b.set.call(m,y),!0)}})},function(t,r,e){var n=e(0),i=e(90);i&&n(n.S,"Reflect",{setPrototypeOf:function(a,o){i.check(a,o);try{return i.set(a,o),!0}catch{return!1}}})},function(t,r,e){e(334),t.exports=e(17).Array.includes},function(t,r,e){"use strict";var n=e(0),i=e(70)(!0);n(n.P,"Array",{includes:function(a){return i(this,a,arguments.length>1?arguments[1]:void 0)}}),e(51)("includes")},function(t,r,e){e(336),t.exports=e(17).Array.flatMap},function(t,r,e){"use strict";var n=e(0),i=e(337),a=e(22),o=e(16),s=e(32),l=e(132);n(n.P,"Array",{flatMap:function(u){var c,d,f=a(this);return s(u),c=o(f.length),d=l(f,0),i(d,f,f,c,0,1,u,arguments[1]),d}}),e(51)("flatMap")},function(t,r,e){"use strict";var n=e(72),i=e(13),a=e(16),o=e(31),s=e(15)("isConcatSpreadable");t.exports=function l(u,c,d,f,g,y,h,p){for(var m,b,v=g,k=0,S=!!h&&o(h,p,3);k<f;){if(k in d){if(m=S?S(d[k],k,c):d[k],b=!1,i(m)&&(b=(b=m[s])!==void 0?!!b:n(m)),b&&y>0)v=l(u,c,m,a(m.length),v,y-1)-1;else{if(v>=9007199254740991)throw TypeError();u[v]=m}v++}k++}return v}},function(t,r,e){e(339),t.exports=e(17).String.padStart},function(t,r,e){"use strict";var n=e(0),i=e(145),a=e(78),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);n(n.P+n.F*o,"String",{padStart:function(s){return i(this,s,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,r,e){e(341),t.exports=e(17).String.padEnd},function(t,r,e){"use strict";var n=e(0),i=e(145),a=e(78),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);n(n.P+n.F*o,"String",{padEnd:function(s){return i(this,s,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,r,e){e(343),t.exports=e(17).String.trimLeft},function(t,r,e){"use strict";e(54)("trimLeft",function(n){return function(){return n(this,1)}},"trimStart")},function(t,r,e){e(345),t.exports=e(17).String.trimRight},function(t,r,e){"use strict";e(54)("trimRight",function(n){return function(){return n(this,2)}},"trimEnd")},function(t,r,e){e(347),t.exports=e(86).f("asyncIterator")},function(t,r,e){e(117)("asyncIterator")},function(t,r,e){e(349),t.exports=e(17).Object.getOwnPropertyDescriptors},function(t,r,e){var n=e(0),i=e(144),a=e(28),o=e(34),s=e(102);n(n.S,"Object",{getOwnPropertyDescriptors:function(l){for(var u,c,d=a(l),f=o.f,g=i(d),y={},h=0;g.length>h;)(c=f(d,u=g[h++]))!==void 0&&s(y,u,c);return y}})},function(t,r,e){e(351),t.exports=e(17).Object.values},function(t,r,e){var n=e(0),i=e(146)(!1);n(n.S,"Object",{values:function(a){return i(a)}})},function(t,r,e){e(353),t.exports=e(17).Object.entries},function(t,r,e){var n=e(0),i=e(146)(!0);n(n.S,"Object",{entries:function(a){return i(a)}})},function(t,r,e){"use strict";e(138),e(355),t.exports=e(17).Promise.finally},function(t,r,e){"use strict";var n=e(0),i=e(17),a=e(10),o=e(66),s=e(140);n(n.P+n.R,"Promise",{finally:function(l){var u=o(this,i.Promise||a.Promise),c=typeof l=="function";return this.then(c?function(d){return s(u,l()).then(function(){return d})}:l,c?function(d){return s(u,l()).then(function(){throw d})}:l)}})},function(t,r,e){e(357),e(358),e(359),t.exports=e(17)},function(t,r,e){var n=e(10),i=e(0),a=e(78),o=[].slice,s=/MSIE .\./.test(a),l=function(u){return function(c,d){var f=arguments.length>2,g=!!f&&o.call(arguments,2);return u(f?function(){(typeof c=="function"?c:Function(c)).apply(this,g)}:c,d)}};i(i.G+i.B+i.F*s,{setTimeout:l(n.setTimeout),setInterval:l(n.setInterval)})},function(t,r,e){var n=e(0),i=e(108);n(n.G+n.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,r,e){for(var n=e(105),i=e(46),a=e(23),o=e(10),s=e(27),l=e(55),u=e(15),c=u("iterator"),d=u("toStringTag"),f=l.Array,g={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},y=i(g),h=0;h<y.length;h++){var p,m=y[h],b=g[m],v=o[m],k=v&&v.prototype;if(k&&(k[c]||s(k,c,f),k[d]||s(k,d,m),l[m]=f,b))for(p in n)k[p]||a(k,p,n[p],!0)}},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(30),e(2),e(3),e(364),e(366),e(367),e(7)],(a=typeof(n=function(o,s,l,u,c,d,f,g){"use strict";var y=e(8),h=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=h(s),l=h(l),u=h(u),f=h(f),g=y(g);var p=function(){function m(b){var v=this;(0,l.default)(this,m);var k=function(){};g.isObject(b)&&g.isFunction(b.onReady)&&(k=b.onReady);var S=new f.default(b);this.isReady=S.isReady.then(function(){v.exportAPI(S),k()})}return(0,u.default)(m,[{key:"exportAPI",value:function(b){var v=this;["configuration"].forEach(function(k){v[k]=b[k]}),this.destroy=function(){for(var k in Object.values(b.moduleInstances).forEach(function(S){g.isFunction(S.destroy)&&S.destroy(),S.listeners.removeAll()}),b=null,v)Object.prototype.hasOwnProperty.call(v,k)&&delete v[k];Object.setPrototypeOf(v,null)},Object.setPrototypeOf(this,b.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(function(k){var S=(0,s.default)(k,2),O=S[0],R=S[1];Object.entries(R).forEach(function(L){var T=(0,s.default)(L,2),x=T[0],w=T[1];v[w]=b.moduleInstances.API.methods[O][x]})})}}],[{key:"version",get:function(){return"2.25.0"}}]),m}();o.default=p,p.displayName="EditorJS",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r){t.exports=function(e){if(Array.isArray(e))return e}},function(t,r){t.exports=function(e,n){if(typeof Symbol<"u"&&Symbol.iterator in Object(e)){var i=[],a=!0,o=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(a=(l=u.next()).done)&&(i.push(l.value),!n||i.length!==n);a=!0);}catch(c){o=!0,s=c}finally{try{a||u.return==null||u.return()}finally{if(o)throw s}}return i}}},function(t,r){t.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(t,r,e){(r=t.exports=function(...a){return i(...a)}).__esModule=!0;let n=e(365),i=n.default;Object.assign(r,n)},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){},r.revert=function(){}},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[],(a=typeof(n=function(){"use strict";Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(o){for(var s=(this.document||this.ownerDocument).querySelectorAll(o),l=s.length;--l>=0&&s.item(l)!==this;);return l>-1}),Element.prototype.closest||(Element.prototype.closest=function(o){var s=this;if(!document.documentElement.contains(s))return null;do{if(s.matches(o))return s;s=s.parentElement||s.parentNode}while(s!==null);return null}),Element.prototype.prepend||(Element.prototype.prepend=function(o){var s=document.createDocumentFragment();Array.isArray(o)||(o=[o]),o.forEach(function(l){var u=l instanceof Node;s.appendChild(u?l:document.createTextNode(l))}),this.insertBefore(s,this.firstChild)}),Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(o){o=arguments.length===0||!!o;var s=this.parentNode,l=window.getComputedStyle(s,null),u=parseInt(l.getPropertyValue("border-top-width")),c=parseInt(l.getPropertyValue("border-left-width")),d=this.offsetTop-s.offsetTop<s.scrollTop,f=this.offsetTop-s.offsetTop+this.clientHeight-u>s.scrollTop+s.clientHeight,g=this.offsetLeft-s.offsetLeft<s.scrollLeft,y=this.offsetLeft-s.offsetLeft+this.clientWidth-c>s.scrollLeft+s.clientWidth,h=d&&!f;(d||f)&&o&&(s.scrollTop=this.offsetTop-s.offsetTop-s.clientHeight/2-u+this.clientHeight/2),(g||y)&&o&&(s.scrollLeft=this.offsetLeft-s.offsetLeft-s.clientWidth/2-c+this.clientWidth/2),(d||f||g||y)&&!o&&this.scrollIntoView(h)})})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(20),e(21),e(2),e(3),e(14),e(7),e(60),e(151),e(81)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y,h){"use strict";var p=e(8),m=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=m(s),l=m(l),u=m(u),c=m(c),d=m(d),f=p(f),g=m(g),h=m(h);var b=e(375),v=[];b.keys().forEach(function(S){S.match(/^\.\/[^_][\w/]*\.([tj])s$/)&&v.push(b(S))});var k=function(){function S(L){var T,x,w=this;(0,u.default)(this,S),this.moduleInstances={},this.eventsDispatcher=new h.default,this.isReady=new Promise(function(I,B){T=I,x=B}),Promise.resolve().then((0,l.default)(s.default.mark(function I(){return s.default.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return w.configuration=L,B.next=3,w.validate();case 3:return B.next=5,w.init();case 5:return B.next=7,w.start();case 7:f.logLabeled("I'm ready! (\uFF89\u25D5\u30EE\u25D5)\uFF89*:\uFF65\uFF9F\u2727","log","","color: #E24A75"),setTimeout((0,l.default)(s.default.mark(function E(){var _,C,A;return s.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,w.render();case 2:w.configuration.autofocus&&(_=w.moduleInstances,C=_.BlockManager,(A=_.Caret).setToBlock(C.blocks[0],A.positions.START),C.highlightCurrentNode()),w.moduleInstances.UI.removeLoader(),T();case 5:case"end":return D.stop()}},E)})),500);case 9:case"end":return B.stop()}},I)}))).catch(function(I){f.log("Editor.js is not ready because of ".concat(I),"error"),x(I)})}var O,R;return(0,c.default)(S,[{key:"validate",value:(R=(0,l.default)(s.default.mark(function L(){var T,x,w;return s.default.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(T=this.config,x=T.holderId,w=T.holder,!x||!w){I.next=3;break}throw Error("\xABholderId\xBB and \xABholder\xBB param can't assign at the same time.");case 3:if(!f.isString(w)||d.default.get(w)){I.next=5;break}throw Error("element with ID \xAB".concat(w,"\xBB is missing. Pass correct holder's ID."));case 5:if(!w||!f.isObject(w)||d.default.isElement(w)){I.next=7;break}throw Error("\xABholder\xBB value must be an Element node");case 7:case"end":return I.stop()}},L,this)})),function(){return R.apply(this,arguments)})},{key:"init",value:function(){this.constructModules(),this.configureModules()}},{key:"start",value:(O=(0,l.default)(s.default.mark(function L(){var T,x=this;return s.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return T=["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"],w.next=3,T.reduce(function(I,B){return I.then((0,l.default)(s.default.mark(function E(){return s.default.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.prev=0,_.next=3,x.moduleInstances[B].prepare();case 3:_.next=10;break;case 5:if(_.prev=5,_.t0=_.catch(0),!(_.t0 instanceof y.CriticalError)){_.next=9;break}throw new Error(_.t0.message);case 9:f.log("Module ".concat(B," was skipped because of %o"),"warn",_.t0);case 10:case"end":return _.stop()}},E,null,[[0,5]])})))},Promise.resolve());case 3:case"end":return w.stop()}},L)})),function(){return O.apply(this,arguments)})},{key:"render",value:function(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}},{key:"constructModules",value:function(){var L=this;v.forEach(function(T){var x=f.isFunction(T)?T:T.default;try{L.moduleInstances[x.displayName]=new x({config:L.configuration,eventsDispatcher:L.eventsDispatcher})}catch(w){f.log("Module ".concat(x.displayName," skipped because"),"error",w)}})}},{key:"configureModules",value:function(){for(var L in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,L)&&(this.moduleInstances[L].state=this.getModulesDiff(L))}},{key:"getModulesDiff",value:function(L){var T={};for(var x in this.moduleInstances)x!==L&&(T[x]=this.moduleInstances[x]);return T}},{key:"configuration",set:function(L){var T,x;f.isObject(L)?this.config=Object.assign({},L):this.config={holder:L},f.deprecationAssert(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=f.LogLevels.VERBOSE),f.setLogLevel(this.config.logLevel),f.deprecationAssert(Boolean(this.config.initialBlock),"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;var w={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=!!this.config.hideToolbar&&this.config.hideToolbar,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||function(){},this.config.onChange=this.config.onChange||function(){},this.config.inlineToolbar=this.config.inlineToolbar===void 0||this.config.inlineToolbar,!f.isEmpty(this.config.data)&&this.config.data.blocks&&this.config.data.blocks.length!==0||(this.config.data={blocks:[w]}),this.config.readOnly=this.config.readOnly||!1,!((T=this.config.i18n)===null||T===void 0)&&T.messages&&g.default.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((x=this.config.i18n)===null||x===void 0?void 0:x.direction)||"ltr"},get:function(){return this.config}}]),S}();o.default=k,k.displayName="Core",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n=e(149);t.exports=function(i){if(Array.isArray(i))return n(i)}},function(t,r){t.exports=function(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}},function(t,r){t.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(t,r){t.exports=function(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}},function(t,r){t.exports=function(e){return Function.toString.call(e).indexOf("[native code]")!==-1}},function(t,r,e){var n=e(110),i=e(374);function a(o,s,l){return i()?t.exports=a=Reflect.construct:t.exports=a=function(u,c,d){var f=[null];f.push.apply(f,c);var g=new(Function.bind.apply(u,f));return d&&n(g,d.prototype),g},a.apply(null,arguments)}t.exports=a},function(t,r){t.exports=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}},function(t,r,e){var n={"./api":82,"./api/":82,"./api/blocks":154,"./api/blocks.ts":154,"./api/caret":155,"./api/caret.ts":155,"./api/events":156,"./api/events.ts":156,"./api/i18n":157,"./api/i18n.ts":157,"./api/index":82,"./api/index.ts":82,"./api/inlineToolbar":158,"./api/inlineToolbar.ts":158,"./api/listeners":159,"./api/listeners.ts":159,"./api/notifier":160,"./api/notifier.ts":160,"./api/readonly":161,"./api/readonly.ts":161,"./api/sanitizer":162,"./api/sanitizer.ts":162,"./api/saver":163,"./api/saver.ts":163,"./api/selection":164,"./api/selection.ts":164,"./api/styles":165,"./api/styles.ts":165,"./api/toolbar":166,"./api/toolbar.ts":166,"./api/tooltip":167,"./api/tooltip.ts":167,"./api/ui":168,"./api/ui.ts":168,"./blockEvents":169,"./blockEvents.ts":169,"./blockManager":170,"./blockManager.ts":170,"./blockSelection":171,"./blockSelection.ts":171,"./caret":172,"./caret.ts":172,"./crossBlockSelection":173,"./crossBlockSelection.ts":173,"./dragNDrop":174,"./dragNDrop.ts":174,"./modificationsObserver":175,"./modificationsObserver.ts":175,"./paste":176,"./paste.ts":176,"./readonly":177,"./readonly.ts":177,"./rectangleSelection":178,"./rectangleSelection.ts":178,"./renderer":179,"./renderer.ts":179,"./saver":180,"./saver.ts":180,"./toolbar":83,"./toolbar/":83,"./toolbar/blockSettings":181,"./toolbar/blockSettings.ts":181,"./toolbar/conversion":182,"./toolbar/conversion.ts":182,"./toolbar/index":83,"./toolbar/index.ts":83,"./toolbar/inline":183,"./toolbar/inline.ts":183,"./tools":184,"./tools.ts":184,"./ui":186,"./ui.ts":186};function i(o){var s=a(o);return e(s)}function a(o){if(!e.o(n,o)){var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}return n[o]}i.keys=function(){return Object.keys(n)},i.resolve=a,t.exports=i,i.id=375},function(t,r,e){var n=e(4);t.exports=function(i,a){for(;!Object.prototype.hasOwnProperty.call(i,a)&&(i=n(i))!==null;);return i}},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(378)],(a=typeof(n=function(o,s,l,u){"use strict";var c=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=c(s),l=c(l),u=c(u);var d=function(){function f(){(0,s.default)(this,f)}return(0,l.default)(f,[{key:"show",value:function(g){u.default.show(g)}}]),f}();o.default=d,d.displayName="Notifier",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){t.exports=function(n){var i={};function a(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=i,a.d=function(o,s,l){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(1&s&&(o=a(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var u in o)a.d(l,u,function(c){return o[c]}.bind(null,u));return l},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="/",a(a.s=0)}([function(n,i,a){"use strict";a(1),n.exports=function(){var o=a(6),s=null;return{show:function(l){if(l.message){(function(){if(s)return!0;s=o.getWrapper(),document.body.appendChild(s)})();var u=null,c=l.time||8e3;switch(l.type){case"confirm":u=o.confirm(l);break;case"prompt":u=o.prompt(l);break;default:u=o.alert(l),window.setTimeout(function(){u.remove()},c)}s.appendChild(u),u.classList.add("cdx-notify--bounce-in")}}}}()},function(n,i,a){var o=a(2);typeof o=="string"&&(o=[[n.i,o,""]]),a(4)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(n.exports=o.locals)},function(n,i,a){(n.exports=a(3)(!1)).push([n.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(n,i){n.exports=function(a){var o=[];return o.toString=function(){return this.map(function(s){var l=function(u,c){var d,f=u[1]||"",g=u[3];if(!g)return f;if(c&&typeof btoa=="function"){var y=(d=g,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(d))))+" */"),h=g.sources.map(function(p){return"/*# sourceURL="+g.sourceRoot+p+" */"});return[f].concat(h).concat([y]).join(`
`)}return[f].join(`
`)}(s,a);return s[2]?"@media "+s[2]+"{"+l+"}":l}).join("")},o.i=function(s,l){typeof s=="string"&&(s=[[null,s,""]]);for(var u={},c=0;c<this.length;c++){var d=this[c][0];typeof d=="number"&&(u[d]=!0)}for(c=0;c<s.length;c++){var f=s[c];typeof f[0]=="number"&&u[f[0]]||(l&&!f[2]?f[2]=l:l&&(f[2]="("+f[2]+") and ("+l+")"),o.push(f))}},o}},function(n,i,a){var o,s,l={},u=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),c=function(T){var x={};return function(w){if(typeof w=="function")return w();if(x[w]===void 0){var I=function(B){return document.querySelector(B)}.call(this,w);if(window.HTMLIFrameElement&&I instanceof window.HTMLIFrameElement)try{I=I.contentDocument.head}catch{I=null}x[w]=I}return x[w]}}(),d=null,f=0,g=[],y=a(5);function h(T,x){for(var w=0;w<T.length;w++){var I=T[w],B=l[I.id];if(B){B.refs++;for(var E=0;E<B.parts.length;E++)B.parts[E](I.parts[E]);for(;E<I.parts.length;E++)B.parts.push(S(I.parts[E],x))}else{var _=[];for(E=0;E<I.parts.length;E++)_.push(S(I.parts[E],x));l[I.id]={id:I.id,refs:1,parts:_}}}}function p(T,x){for(var w=[],I={},B=0;B<T.length;B++){var E=T[B],_=x.base?E[0]+x.base:E[0],C={css:E[1],media:E[2],sourceMap:E[3]};I[_]?I[_].parts.push(C):w.push(I[_]={id:_,parts:[C]})}return w}function m(T,x){var w=c(T.insertInto);if(!w)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var I=g[g.length-1];if(T.insertAt==="top")I?I.nextSibling?w.insertBefore(x,I.nextSibling):w.appendChild(x):w.insertBefore(x,w.firstChild),g.push(x);else if(T.insertAt==="bottom")w.appendChild(x);else{if(typeof T.insertAt!="object"||!T.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var B=c(T.insertInto+" "+T.insertAt.before);w.insertBefore(x,B)}}function b(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T);var x=g.indexOf(T);x>=0&&g.splice(x,1)}function v(T){var x=document.createElement("style");return T.attrs.type===void 0&&(T.attrs.type="text/css"),k(x,T.attrs),m(T,x),x}function k(T,x){Object.keys(x).forEach(function(w){T.setAttribute(w,x[w])})}function S(T,x){var w,I,B,E;if(x.transform&&T.css){if(!(E=x.transform(T.css)))return function(){};T.css=E}if(x.singleton){var _=f++;w=d||(d=v(x)),I=L.bind(null,w,_,!1),B=L.bind(null,w,_,!0)}else T.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(w=function(C){var A=document.createElement("link");return C.attrs.type===void 0&&(C.attrs.type="text/css"),C.attrs.rel="stylesheet",k(A,C.attrs),m(C,A),A}(x),I=function(C,A,D){var P=D.css,M=D.sourceMap,N=A.convertToAbsoluteUrls===void 0&&M;(A.convertToAbsoluteUrls||N)&&(P=y(P)),M&&(P+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(M))))+" */");var F=new Blob([P],{type:"text/css"}),j=C.href;C.href=URL.createObjectURL(F),j&&URL.revokeObjectURL(j)}.bind(null,w,x),B=function(){b(w),w.href&&URL.revokeObjectURL(w.href)}):(w=v(x),I=function(C,A){var D=A.css,P=A.media;if(P&&C.setAttribute("media",P),C.styleSheet)C.styleSheet.cssText=D;else{for(;C.firstChild;)C.removeChild(C.firstChild);C.appendChild(document.createTextNode(D))}}.bind(null,w),B=function(){b(w)});return I(T),function(C){if(C){if(C.css===T.css&&C.media===T.media&&C.sourceMap===T.sourceMap)return;I(T=C)}else B()}}n.exports=function(T,x){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(x=x||{}).attrs=typeof x.attrs=="object"?x.attrs:{},x.singleton||typeof x.singleton=="boolean"||(x.singleton=u()),x.insertInto||(x.insertInto="head"),x.insertAt||(x.insertAt="bottom");var w=p(T,x);return h(w,x),function(I){for(var B=[],E=0;E<w.length;E++){var _=w[E];(C=l[_.id]).refs--,B.push(C)}for(I&&h(p(I,x),x),E=0;E<B.length;E++){var C;if((C=B[E]).refs===0){for(var A=0;A<C.parts.length;A++)C.parts[A]();delete l[C.id]}}}};var O,R=(O=[],function(T,x){return O[T]=x,O.filter(Boolean).join(`
`)});function L(T,x,w,I){var B=w?"":I.css;if(T.styleSheet)T.styleSheet.cssText=R(x,B);else{var E=document.createTextNode(B),_=T.childNodes;_[x]&&T.removeChild(_[x]),_.length?T.insertBefore(E,_[x]):T.appendChild(E)}}},function(n,i){n.exports=function(a){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!a||typeof a!="string")return a;var s=o.protocol+"//"+o.host,l=s+o.pathname.replace(/\/[^\/]*$/,"/");return a.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(u,c){var d,f=c.trim().replace(/^"(.*)"$/,function(g,y){return y}).replace(/^'(.*)'$/,function(g,y){return y});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(f)?u:(d=f.indexOf("//")===0?f:f.indexOf("/")===0?s+f:l+f.replace(/^\.\//,""),"url("+JSON.stringify(d)+")")})}},function(n,i,a){"use strict";var o,s,l,u,c,d;n.exports=(o="cdx-notify",s="cdx-notify__cross",l="cdx-notify__button--confirm",u="cdx-notify__button",c="cdx-notify__btns-wrapper",{alert:d=function(f){var g=document.createElement("DIV"),y=document.createElement("DIV"),h=f.message,p=f.style;return g.classList.add(o),p&&g.classList.add(o+"--"+p),g.innerHTML=h,y.classList.add(s),y.addEventListener("click",g.remove.bind(g)),g.appendChild(y),g},confirm:function(f){var g=d(f),y=document.createElement("div"),h=document.createElement("button"),p=document.createElement("button"),m=g.querySelector("."+s),b=f.cancelHandler,v=f.okHandler;return y.classList.add(c),h.innerHTML=f.okText||"Confirm",p.innerHTML=f.cancelText||"Cancel",h.classList.add(u),p.classList.add(u),h.classList.add(l),p.classList.add("cdx-notify__button--cancel"),b&&typeof b=="function"&&(p.addEventListener("click",b),m.addEventListener("click",b)),v&&typeof v=="function"&&h.addEventListener("click",v),h.addEventListener("click",g.remove.bind(g)),p.addEventListener("click",g.remove.bind(g)),y.appendChild(h),y.appendChild(p),g.appendChild(y),g},prompt:function(f){var g=d(f),y=document.createElement("div"),h=document.createElement("button"),p=document.createElement("input"),m=g.querySelector("."+s),b=f.cancelHandler,v=f.okHandler;return y.classList.add(c),h.innerHTML=f.okText||"Ok",h.classList.add(u),h.classList.add(l),p.classList.add("cdx-notify__input"),f.placeholder&&p.setAttribute("placeholder",f.placeholder),f.default&&(p.value=f.default),f.inputType&&(p.type=f.inputType),b&&typeof b=="function"&&m.addEventListener("click",b),v&&typeof v=="function"&&h.addEventListener("click",function(){v(p.value)}),h.addEventListener("click",g.remove.bind(g)),y.appendChild(p),y.appendChild(h),g.appendChild(y),g},getWrapper:function(){var f=document.createElement("DIV");return f.classList.add("cdx-notifies"),f}})}])},function(t,r,e){var n,i;(i=typeof(n=function(){function a(g){var y=g.tags;if(!Object.keys(y).map(function(h){return typeof y[h]}).every(function(h){return h==="object"||h==="boolean"||h==="function"}))throw new Error("The configuration was invalid");this.config=g}var o=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function s(g){return o.indexOf(g.nodeName)!==-1}var l=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function u(g){return l.indexOf(g.nodeName)!==-1}function c(g,y,h){return typeof g.tags[y]=="function"?g.tags[y](h):g.tags[y]}function d(g,y){return y===void 0||typeof y=="boolean"&&!y}function f(g,y,h){var p=g.name.toLowerCase();return y!==!0&&(typeof y[p]=="function"?!y[p](g.value,h):y[p]===void 0||y[p]===!1||typeof y[p]=="string"&&y[p]!==g.value)}return a.prototype.clean=function(g){let y=document.implementation.createHTMLDocument(),h=y.createElement("div");return h.innerHTML=g,this._sanitize(y,h),h.innerHTML},a.prototype._sanitize=function(g,y){var h=function(T,x){return T.createTreeWalker(x,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}(g,y),p=h.firstChild();if(p)do if(p.nodeType!==Node.TEXT_NODE){if(p.nodeType===Node.COMMENT_NODE){y.removeChild(p),this._sanitize(g,y);break}var m,b=u(p);b&&(m=Array.prototype.some.call(p.childNodes,s));var v=!!y.parentNode,k=s(y)&&s(p)&&v,S=p.nodeName.toLowerCase(),O=c(this.config,S,p);if(b&&m||d(0,O)||!this.config.keepNestedBlockElements&&k){if(p.nodeName!=="SCRIPT"&&p.nodeName!=="STYLE")for(;p.childNodes.length>0;)y.insertBefore(p.childNodes[0],p);y.removeChild(p),this._sanitize(g,y);break}for(var R=0;R<p.attributes.length;R+=1){var L=p.attributes[R];f(L,O,p)&&(p.removeAttribute(L.name),R-=1)}this._sanitize(g,p)}else if(p.data.trim()===""&&(p.previousElementSibling&&s(p.previousElementSibling)||p.nextElementSibling&&s(p.nextElementSibling))){y.removeChild(p),this._sanitize(g,y);break}while(p=h.nextSibling())},a})=="function"?n.call(r,e,r,t):n)===void 0||(t.exports=i)},function(t,r,e){t.exports=function(n){var i={};function a(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=i,a.d=function(o,s,l){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(1&s&&(o=a(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var u in o)a.d(l,u,function(c){return o[c]}.bind(null,u));return l},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="",a(a.s=0)}([function(n,i,a){n.exports=a(1)},function(n,i,a){"use strict";a.r(i),a.d(i,"default",function(){return o});class o{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(l,u,c){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);let d=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},c);if(d.hidingDelay&&(this.hidingDelay=d.hidingDelay),this.nodes.content.innerHTML="",typeof u=="string")this.nodes.content.appendChild(document.createTextNode(u));else{if(!(u instanceof Node))throw Error("[CodeX Tooltip] Wrong type of \xABcontent\xBB passed. It should be an instance of Node or String. But "+typeof u+" given.");this.nodes.content.appendChild(u)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),d.placement){case"top":this.placeTop(l,d);break;case"left":this.placeLeft(l,d);break;case"right":this.placeRight(l,d);break;case"bottom":default:this.placeBottom(l,d)}d&&d.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},d.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(l=!1){if(this.hidingDelay&&!l)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(l,u,c){l.addEventListener("mouseenter",()=>{this.show(l,u,c)}),l.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){let l="codex-tooltips-style";if(document.getElementById(l))return;let u=a(2),c=this.make("style",null,{textContent:u.toString(),id:l});this.prepend(document.head,c)}placeBottom(l,u){let c=l.getBoundingClientRect(),d=c.left+l.clientWidth/2-this.nodes.wrapper.offsetWidth/2,f=c.bottom+window.pageYOffset+this.offsetTop+u.marginTop;this.applyPlacement("bottom",d,f)}placeTop(l,u){let c=l.getBoundingClientRect(),d=c.left+l.clientWidth/2-this.nodes.wrapper.offsetWidth/2,f=c.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",d,f)}placeLeft(l,u){let c=l.getBoundingClientRect(),d=c.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-u.marginLeft,f=c.top+window.pageYOffset+l.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",d,f)}placeRight(l,u){let c=l.getBoundingClientRect(),d=c.right+this.offsetRight+u.marginRight,f=c.top+window.pageYOffset+l.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",d,f)}applyPlacement(l,u,c){this.nodes.wrapper.classList.add(this.CSS.placement[l]),this.nodes.wrapper.style.left=u+"px",this.nodes.wrapper.style.top=c+"px"}make(l,u=null,c={}){let d=document.createElement(l);Array.isArray(u)?d.classList.add(...u):u&&d.classList.add(u);for(let f in c)c.hasOwnProperty(f)&&(d[f]=c[f]);return d}append(l,u){Array.isArray(u)?u.forEach(c=>l.appendChild(c)):l.appendChild(u)}prepend(l,u){Array.isArray(u)?(u=u.reverse()).forEach(c=>l.prepend(c)):l.prepend(u)}}},function(n,i){n.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(14),e(7),e(25)],(a=typeof(n=function(o,s,l,u,c,d){"use strict";var f=e(8),g=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=g(s),l=g(l),u=g(u),c=f(c),d=g(d);var y=function(){function h(p,m){(0,s.default)(this,h),this.cursor=-1,this.items=[],this.items=p||[],this.focusedCssClass=m}return(0,l.default)(h,[{key:"setItems",value:function(p){this.items=p}},{key:"next",value:function(){this.cursor=this.leafNodesAndReturnIndex(h.directions.RIGHT)}},{key:"previous",value:function(){this.cursor=this.leafNodesAndReturnIndex(h.directions.LEFT)}},{key:"dropCursor",value:function(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}},{key:"leafNodesAndReturnIndex",value:function(p){var m=this;if(this.items.length===0)return this.cursor;var b=this.cursor;return b===-1?b=p===h.directions.RIGHT?-1:0:this.items[b].classList.remove(this.focusedCssClass),b=p===h.directions.RIGHT?(b+1)%this.items.length:(this.items.length+b-1)%this.items.length,u.default.canSetCaret(this.items[b])&&c.delay(function(){return d.default.setCursor(m.items[b])},50)(),this.items[b].classList.add(this.focusedCssClass),b}},{key:"currentItem",get:function(){return this.cursor===-1?null:this.items[this.cursor]}}]),h}();o.default=y,y.displayName="DomIterator",y.directions={RIGHT:"right",LEFT:"left"},t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(7),e(14),e(61)],(a=typeof(n=function(o,s,l,u,c,d){"use strict";var f=e(8),g=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=g(s),l=g(l),u=f(u),c=g(c);var y=function(){function h(p){(0,s.default)(this,h),this.blocks=[],this.workingArea=p}return(0,l.default)(h,[{key:"push",value:function(p){this.blocks.push(p),this.insertToDOM(p)}},{key:"swap",value:function(p,m){var b=this.blocks[m];c.default.swap(this.blocks[p].holder,b.holder),this.blocks[m]=this.blocks[p],this.blocks[p]=b}},{key:"move",value:function(p,m){var b=this.blocks.splice(m,1)[0],v=p-1,k=Math.max(0,v),S=this.blocks[k];p>0?this.insertToDOM(b,"afterend",S):this.insertToDOM(b,"beforebegin",S),this.blocks.splice(p,0,b);var O=this.composeBlockEvent("move",{fromIndex:m,toIndex:p});b.call(d.BlockToolAPI.MOVED,O)}},{key:"insert",value:function(p,m){var b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(this.length){p>this.length&&(p=this.length),b&&(this.blocks[p].holder.remove(),this.blocks[p].call(d.BlockToolAPI.REMOVED));var v=b?1:0;if(this.blocks.splice(p,v,m),p>0){var k=this.blocks[p-1];this.insertToDOM(m,"afterend",k)}else{var S=this.blocks[p+1];S?this.insertToDOM(m,"beforebegin",S):this.insertToDOM(m)}}else this.push(m)}},{key:"remove",value:function(p){isNaN(p)&&(p=this.length-1),this.blocks[p].holder.remove(),this.blocks[p].call(d.BlockToolAPI.REMOVED),this.blocks.splice(p,1)}},{key:"removeAll",value:function(){this.workingArea.innerHTML="",this.blocks.forEach(function(p){return p.call(d.BlockToolAPI.REMOVED)}),this.blocks.length=0}},{key:"insertAfter",value:function(p,m){var b=this.blocks.indexOf(p);this.insert(b+1,m)}},{key:"get",value:function(p){return this.blocks[p]}},{key:"indexOf",value:function(p){return this.blocks.indexOf(p)}},{key:"insertToDOM",value:function(p,m,b){m?b.holder.insertAdjacentElement(m,p.holder):this.workingArea.appendChild(p.holder),p.call(d.BlockToolAPI.RENDERED)}},{key:"composeBlockEvent",value:function(p,m){return new CustomEvent(p,{detail:m})}},{key:"length",get:function(){return this.blocks.length}},{key:"array",get:function(){return this.blocks}},{key:"nodes",get:function(){return u.array(this.workingArea.children)}}],[{key:"set",value:function(p,m,b){return isNaN(Number(m))?(Reflect.set(p,m,b),!0):(p.insert(+m,b),!0)}},{key:"get",value:function(p,m){return isNaN(Number(m))?Reflect.get(p,m):p.get(+m)}}]),h}();o.default=y,y.displayName="Blocks",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r],(a=typeof(n=function(o){"use strict";var s;Object.defineProperty(o,"__esModule",{value:!0}),o.BlockMutationType=void 0,o.BlockMutationType=s,function(l){l.Added="block-added",l.Removed="block-removed",l.Moved="block-moved",l.Changed="block-changed"}(s||(o.BlockMutationType=s={}))})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){t.exports=function(n){var i={};function a(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=i,a.d=function(o,s,l){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(1&s&&(o=a(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var u in o)a.d(l,u,function(c){return o[c]}.bind(null,u));return l},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="",a(a.s=0)}([function(n,i,a){"use strict";function o(u,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}function s(u,c,d){return c&&o(u.prototype,c),d&&o(u,d),u}a.r(i);var l=function(){function u(c){var d=this;(function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,u),this.commands={},this.keys={},this.name=c.name,this.parseShortcutName(c.name),this.element=c.on,this.callback=c.callback,this.executeShortcut=function(f){d.execute(f)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return s(u,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46}}}]),s(u,[{key:"parseShortcutName",value:function(c){c=c.split("+");for(var d=0;d<c.length;d++){c[d]=c[d].toUpperCase();var f=!1;for(var g in u.supportedCommands)if(u.supportedCommands[g].includes(c[d])){f=this.commands[g]=!0;break}f||(this.keys[c[d]]=!0)}for(var y in u.supportedCommands)this.commands[y]||(this.commands[y]=!1)}},{key:"execute",value:function(c){var d,f={CMD:c.ctrlKey||c.metaKey,SHIFT:c.shiftKey,ALT:c.altKey},g=!0;for(d in this.commands)this.commands[d]!==f[d]&&(g=!1);var y,h=!0;for(y in this.keys)h=h&&c.keyCode===u.keyCodes[y];g&&h&&this.callback(c)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),u}();i.default=l}]).default},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(20),e(21),e(2),e(3),e(113),e(5),e(6),e(4),e(59),e(7),e(61),e(115),e(81),e(386),e(60),e(84)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y,h,p,m,b,v,k,S,O){"use strict";var R=e(8),L=e(1);function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.ToolboxEvent=void 0,s=L(s),l=L(l),u=L(u),c=L(c),d=L(d),f=L(f),g=L(g),y=L(y),h=L(h),p=R(p),b=L(b),v=L(v),k=R(k),S=L(S);var x,w=function(B,E,_,C){var A,D=arguments.length,P=D<3?E:C===null?C=Object.getOwnPropertyDescriptor(E,_):C;if((typeof Reflect>"u"?"undefined":(0,h.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(B,E,_,C);else for(var M=B.length-1;M>=0;M--)(A=B[M])&&(P=(D<3?A(P):D>3?A(E,_,P):A(E,_))||P);return D>3&&P&&Object.defineProperty(E,_,P),P};o.ToolboxEvent=x,function(B){B.Opened="toolbox-opened",B.Closed="toolbox-closed",B.BlockAdded="toolbox-block-added"}(x||(o.ToolboxEvent=x={}));var I=function(B){(0,f.default)(A,B);var E,_,C=(E=A,function(){var D,P=(0,y.default)(E);if(T()){var M=(0,y.default)(this).constructor;D=Reflect.construct(P,arguments,M)}else D=P.apply(this,arguments);return(0,g.default)(this,D)});function A(D){var P,M=D.api,N=D.tools,F=D.i18nLabels;return(0,u.default)(this,A),(P=C.call(this)).opened=!1,P.nodes={toolbox:null},P.clickListenerId=null,P.onOverlayClicked=function(){P.close()},P.api=M,P.tools=N,P.i18nLabels=F,P}return(0,c.default)(A,[{key:"make",value:function(){return this.popover=new k.default({className:A.CSS.toolbox,searchable:!0,filterLabel:this.i18nLabels.filter,nothingFoundLabel:this.i18nLabels.nothingFound,items:this.toolboxItemsToBeDisplayed}),this.popover.on(k.PopoverEvent.OverlayClicked,this.onOverlayClicked),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox}},{key:"hasFocus",value:function(){return this.popover.hasFocus()}},{key:"destroy",value:function(){(0,d.default)((0,y.default)(A.prototype),"destroy",this).call(this),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.api.listeners.offById(this.clickListenerId),this.removeAllShortcuts(),this.popover.off(k.PopoverEvent.OverlayClicked,this.onOverlayClicked)}},{key:"toolButtonActivated",value:function(D,P){this.insertNewBlock(D,P)}},{key:"open",value:function(){this.isEmpty||(this.shouldOpenPopoverBottom||(this.nodes.toolbox.style.setProperty("--popover-height",this.popover.calculateHeight()+"px"),this.nodes.toolbox.classList.add(A.CSS.toolboxOpenedTop)),this.popover.show(),this.opened=!0,this.emit(x.Opened))}},{key:"close",value:function(){this.popover.hide(),this.opened=!1,this.nodes.toolbox.classList.remove(A.CSS.toolboxOpenedTop),this.emit(x.Closed)}},{key:"toggle",value:function(){this.opened?this.close():this.open()}},{key:"areToolboxSettingsValid",value:function(D,P){return!(!D||D&&!D.icon&&(p.log("Toolbar icon is missed. Tool %o skipped","warn",P),1))}},{key:"enableShortcuts",value:function(){var D=this;this.toolsToBeDisplayed.forEach(function(P){var M=P.shortcut;M&&D.enableShortcutForTool(P.name,M)})}},{key:"enableShortcutForTool",value:function(D,P){var M=this;b.default.add({name:P,on:this.api.ui.nodes.redactor,handler:function(N){N.preventDefault(),M.insertNewBlock(D)}})}},{key:"removeAllShortcuts",value:function(){var D=this;this.toolsToBeDisplayed.forEach(function(P){var M=P.shortcut;M&&b.default.remove(D.api.ui.nodes.redactor,M)})}},{key:"insertNewBlock",value:(_=(0,l.default)(s.default.mark(function D(P,M){var N,F,j,H,U,z;return s.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(N=this.api.blocks.getCurrentBlockIndex(),F=this.api.blocks.getBlockByIndex(N)){V.next=4;break}return V.abrupt("return");case 4:if(j=F.isEmpty?N:N+1,!M){V.next=10;break}return V.next=8,this.api.blocks.composeBlockData(P);case 8:U=V.sent,H=Object.assign(U,M);case 10:(z=this.api.blocks.insert(P,H,void 0,j,void 0,F.isEmpty)).call(m.BlockToolAPI.APPEND_CALLBACK),this.api.caret.setToBlock(j),this.emit(x.BlockAdded,{block:z}),this.api.toolbar.close();case 15:case"end":return V.stop()}},D,this)})),function(D,P){return _.apply(this,arguments)})},{key:"isEmpty",get:function(){return this.toolsToBeDisplayed.length===0}},{key:"shouldOpenPopoverBottom",get:function(){var D=this.nodes.toolbox.getBoundingClientRect(),P=this.api.ui.nodes.redactor.getBoundingClientRect(),M=this.popover.calculateHeight(),N=D.top+M,F=D.top-M,j=Math.min(window.innerHeight,P.bottom);return F<P.top||N<=j}},{key:"toolsToBeDisplayed",get:function(){var D=this;return Array.from(this.tools.values()).reduce(function(P,M){var N=M.toolbox;if(N){var F=N.filter(function(j){return D.areToolboxSettingsValid(j,M.name)});P.push(Object.assign(Object.assign({},M),{toolbox:F}))}return P},[])}},{key:"toolboxItemsToBeDisplayed",get:function(){var D=this,P=function(M,N){return{icon:M.icon,label:S.default.t(O.I18nInternalNS.toolNames,M.title||p.capitalize(N.name)),name:N.name,onClick:function(F){D.toolButtonActivated(N.name,M.data)},secondaryLabel:N.shortcut?p.beautifyShortcut(N.shortcut):""}};return this.toolsToBeDisplayed.reduce(function(M,N){return Array.isArray(N.toolbox)?N.toolbox.forEach(function(F){M.push(P(F,N))}):M.push(P(N.toolbox,N)),M},[])}}],[{key:"CSS",get:function(){return{toolbox:"ce-toolbox",toolboxOpenedTop:"ce-toolbox--opened-top"}}}]),A}(v.default);o.default=I,I.displayName="Toolbox",w([p.cacheable],I.prototype,"toolsToBeDisplayed",null),w([p.cacheable],I.prototype,"toolboxItemsToBeDisplayed",null)})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(59),e(14),e(111),e(62),e(387),e(81),e(7),e(388)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y,h,p,m,b,v){"use strict";var k=e(1);function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.PopoverEvent=void 0,s=k(s),l=k(l),u=k(u),c=k(c),d=k(d),f=k(f),g=k(g),y=k(y),h=k(h),p=k(p),m=k(m),v=k(v);var O,R=function(T,x,w,I){var B,E=arguments.length,_=E<3?x:I===null?I=Object.getOwnPropertyDescriptor(x,w):I;if((typeof Reflect>"u"?"undefined":(0,f.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(T,x,w,I);else for(var C=T.length-1;C>=0;C--)(B=T[C])&&(_=(E<3?B(_):E>3?B(x,w,_):B(x,w))||_);return E>3&&_&&Object.defineProperty(x,w,_),_};o.PopoverEvent=O,function(T){T.OverlayClicked="overlay-clicked"}(O||(o.PopoverEvent=O={}));var L=function(T){(0,u.default)(I,T);var x,w=(x=I,function(){var B,E=(0,d.default)(x);if(S()){var _=(0,d.default)(this).constructor;B=Reflect.construct(E,arguments,_)}else B=E.apply(this,arguments);return(0,c.default)(this,B)});function I(B){var E,_=B.items,C=B.className,A=B.searchable,D=B.filterLabel,P=B.nothingFoundLabel;return(0,s.default)(this,I),(E=w.call(this)).isShown=!1,E.nodes={wrapper:null,popover:null,items:null,nothingFound:null,overlay:null},E.scrollLocker=new v.default,E.items=_,E.className=C||"",E.searchable=A,E.listeners=new y.default,E.filterLabel=D,E.nothingFoundLabel=P,E.render(),E.enableFlipper(),E}return(0,l.default)(I,[{key:"getElement",value:function(){return this.nodes.wrapper}},{key:"show",value:function(){var B=this;this.search.clear(),this.nodes.items.scrollTop=0,this.nodes.popover.classList.add(I.CSS.popoverOpened),this.nodes.overlay.classList.remove(I.CSS.popoverOverlayHidden),this.flipper.activate(),this.searchable&&window.requestAnimationFrame(function(){B.search.focus()}),(0,b.isMobileScreen)()&&this.scrollLocker.lock(),this.isShown=!0}},{key:"hide",value:function(){this.isShown&&(this.nodes.popover.classList.remove(I.CSS.popoverOpened),this.nodes.overlay.classList.add(I.CSS.popoverOverlayHidden),this.flipper.deactivate(),(0,b.isMobileScreen)()&&this.scrollLocker.unlock(),this.isShown=!1)}},{key:"destroy",value:function(){this.listeners.removeAll()}},{key:"hasFocus",value:function(){return this.flipper.hasFocus()}},{key:"calculateHeight",value:function(){var B,E=this.nodes.popover.cloneNode(!0);return E.style.visibility="hidden",E.style.position="absolute",E.style.top="-1000px",E.classList.add(I.CSS.popoverOpened),document.body.appendChild(E),B=E.offsetHeight,E.remove(),B}},{key:"render",value:function(){var B=this;this.nodes.wrapper=g.default.make("div",this.className),this.nodes.popover=g.default.make("div",I.CSS.popover),this.nodes.wrapper.appendChild(this.nodes.popover),this.nodes.overlay=g.default.make("div",[I.CSS.popoverOverlay,I.CSS.popoverOverlayHidden]),this.nodes.wrapper.appendChild(this.nodes.overlay),this.searchable&&this.addSearch(this.nodes.popover),this.nodes.items=g.default.make("div",I.CSS.itemsWrapper),this.items.forEach(function(E){B.nodes.items.appendChild(B.createItem(E))}),this.nodes.popover.appendChild(this.nodes.items),this.nodes.nothingFound=g.default.make("div",[I.CSS.noFoundMessage],{textContent:this.nothingFoundLabel}),this.nodes.popover.appendChild(this.nodes.nothingFound),this.listeners.on(this.nodes.popover,"click",function(E){var _=E.target.closest(".".concat(I.CSS.item));_&&B.itemClicked(_)}),this.listeners.on(this.nodes.overlay,"click",function(){B.emit(O.OverlayClicked)})}},{key:"addSearch",value:function(B){var E=this;this.search=new p.default({items:this.items,placeholder:this.filterLabel,onSearch:function(C){var A=[];E.items.forEach(function(D,P){var M=E.nodes.items.children[P];C.includes(D)?(A.push(M),M.classList.remove(I.CSS.itemHidden)):M.classList.add(I.CSS.itemHidden)}),E.nodes.nothingFound.classList.toggle(I.CSS.noFoundMessageShown,A.length===0),E.flipper.deactivate(),E.flipper.activate(A),E.flipper.focusFirst()}});var _=this.search.getElement();B.appendChild(_)}},{key:"createItem",value:function(B){var E=g.default.make("div",I.CSS.item);E.dataset.itemName=B.name;var _=g.default.make("div",I.CSS.itemLabel,{innerHTML:B.label});return B.icon&&E.appendChild(g.default.make("div",I.CSS.itemIcon,{innerHTML:B.icon})),E.appendChild(_),B.secondaryLabel&&E.appendChild(g.default.make("div",I.CSS.itemSecondaryLabel,{textContent:B.secondaryLabel})),E}},{key:"itemClicked",value:function(B){var E=this.nodes.wrapper.querySelectorAll(".".concat(I.CSS.item)),_=Array.from(E).indexOf(B),C=this.items[_];C.onClick(C)}},{key:"enableFlipper",value:function(){var B=Array.from(this.nodes.wrapper.querySelectorAll(".".concat(I.CSS.item)));this.flipper=new h.default({items:B,focusedItemClass:I.CSS.itemFocused,allowedKeys:[b.keyCodes.TAB,b.keyCodes.UP,b.keyCodes.DOWN,b.keyCodes.ENTER]})}}],[{key:"CSS",get:function(){return{popover:"ce-popover",popoverOpened:"ce-popover--opened",itemsWrapper:"ce-popover__items",item:"ce-popover__item",itemHidden:"ce-popover__item--hidden",itemFocused:"ce-popover__item--focused",itemLabel:"ce-popover__item-label",itemIcon:"ce-popover__item-icon",itemSecondaryLabel:"ce-popover__item-secondary-label",noFoundMessage:"ce-popover__no-found",noFoundMessageShown:"ce-popover__no-found--shown",popoverOverlay:"ce-popover__overlay",popoverOverlayHidden:"ce-popover__overlay--hidden"}}}]),I}(m.default);o.default=L,L.displayName="Popover",R([b.cacheable],L.prototype,"calculateHeight",null)})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(14),e(111)],(a=typeof(n=function(o,s,l,u,c){"use strict";var d=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=d(s),l=d(l),u=d(u),c=d(c);var f=function(){function g(y){var h=y.items,p=y.onSearch,m=y.placeholder;(0,s.default)(this,g),this.listeners=new c.default,this.items=h,this.onSearch=p,this.render(m)}return(0,l.default)(g,[{key:"getElement",value:function(){return this.wrapper}},{key:"focus",value:function(){this.input.focus()}},{key:"clear",value:function(){this.input.value="",this.searchQuery="",this.onSearch(this.foundItems)}},{key:"destroy",value:function(){this.listeners.removeAll()}},{key:"render",value:function(y){var h=this;this.wrapper=u.default.make("div",g.CSS.wrapper);var p=u.default.make("div",g.CSS.icon),m=u.default.svg("search",16,16);this.input=u.default.make("input",g.CSS.input,{placeholder:y}),p.appendChild(m),this.wrapper.appendChild(p),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",function(){h.searchQuery=h.input.value,h.onSearch(h.foundItems)})}},{key:"checkItem",value:function(y){var h=y.label.toLowerCase(),p=this.searchQuery.toLowerCase();return h.includes(p)}},{key:"foundItems",get:function(){var y=this;return this.items.filter(function(h){return y.checkItem(h)})}}],[{key:"CSS",get:function(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}}]),g}();o.default=f,f.displayName="SearchInput",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(7)],(a=typeof(n=function(o,s,l,u){"use strict";var c=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=c(s),l=c(l);var d=function(){function f(){(0,s.default)(this,f)}return(0,l.default)(f,[{key:"lock",value:function(){u.isIosDevice?this.lockHard():document.body.classList.add(f.CSS.scrollLocked)}},{key:"unlock",value:function(){u.isIosDevice?this.unlockHard():document.body.classList.remove(f.CSS.scrollLocked)}},{key:"lockHard",value:function(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset","".concat(this.scrollPosition,"px")),document.body.classList.add(f.CSS.scrollLockedHard)}},{key:"unlockHard",value:function(){document.body.classList.remove(f.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}}]),f}();o.default=d,d.displayName="ScrollLocker",d.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"},t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){t.exports=function(n){var i={};function a(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=i,a.d=function(o,s,l){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(1&s&&(o=a(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var u in o)a.d(l,u,function(c){return o[c]}.bind(null,u));return l},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="/",a(a.s=0)}([function(n,i,a){function o(u,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}function s(u,c,d){return c&&o(u.prototype,c),d&&o(u,d),u}a(1).toString();var l=function(){function u(c){var d=c.data,f=c.config,g=c.api,y=c.readOnly;(function(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u),this.api=g,this.readOnly=y,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=f.placeholder?f.placeholder:u.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=f.preserveBlank!==void 0&&f.preserveBlank,this.data=d}return s(u,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),s(u,[{key:"onKeyUp",value:function(c){c.code!=="Backspace"&&c.code!=="Delete"||this._element.textContent===""&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var c=document.createElement("DIV");return c.classList.add(this._CSS.wrapper,this._CSS.block),c.contentEditable=!1,c.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(c.contentEditable=!0,c.addEventListener("keyup",this.onKeyUp)),c}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(c){var d={text:this.data.text+c.text};this.data=d}},{key:"validate",value:function(c){return!(c.text.trim()===""&&!this._preserveBlank)}},{key:"save",value:function(c){return{text:c.innerHTML}}},{key:"onPaste",value:function(c){var d={text:c.detail.data.innerHTML};this.data=d}},{key:"data",get:function(){var c=this._element.innerHTML;return this._data.text=c,this._data},set:function(c){this._data=c||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:a(5).default,title:"Text"}}}]),u}();n.exports=l},function(n,i,a){var o=a(2),s=a(3);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]),o(s,{insert:"head",singleton:!1}),n.exports=s.locals||{}},function(n,i,a){"use strict";var o,s=function(){var v={};return function(k){if(v[k]===void 0){var S=document.querySelector(k);if(window.HTMLIFrameElement&&S instanceof window.HTMLIFrameElement)try{S=S.contentDocument.head}catch{S=null}v[k]=S}return v[k]}}(),l=[];function u(v){for(var k=-1,S=0;S<l.length;S++)if(l[S].identifier===v){k=S;break}return k}function c(v,k){for(var S={},O=[],R=0;R<v.length;R++){var L=v[R],T=k.base?L[0]+k.base:L[0],x=S[T]||0,w="".concat(T," ").concat(x);S[T]=x+1;var I=u(w),B={css:L[1],media:L[2],sourceMap:L[3]};I!==-1?(l[I].references++,l[I].updater(B)):l.push({identifier:w,updater:b(B,k),references:1}),O.push(w)}return O}function d(v){var k=document.createElement("style"),S=v.attributes||{};if(S.nonce===void 0){var O=a.nc;O&&(S.nonce=O)}if(Object.keys(S).forEach(function(L){k.setAttribute(L,S[L])}),typeof v.insert=="function")v.insert(k);else{var R=s(v.insert||"head");if(!R)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");R.appendChild(k)}return k}var f,g=(f=[],function(v,k){return f[v]=k,f.filter(Boolean).join(`
`)});function y(v,k,S,O){var R=S?"":O.media?"@media ".concat(O.media," {").concat(O.css,"}"):O.css;if(v.styleSheet)v.styleSheet.cssText=g(k,R);else{var L=document.createTextNode(R),T=v.childNodes;T[k]&&v.removeChild(T[k]),T.length?v.insertBefore(L,T[k]):v.appendChild(L)}}function h(v,k,S){var O=S.css,R=S.media,L=S.sourceMap;if(R?v.setAttribute("media",R):v.removeAttribute("media"),L&&btoa&&(O+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),v.styleSheet)v.styleSheet.cssText=O;else{for(;v.firstChild;)v.removeChild(v.firstChild);v.appendChild(document.createTextNode(O))}}var p=null,m=0;function b(v,k){var S,O,R;if(k.singleton){var L=m++;S=p||(p=d(k)),O=y.bind(null,S,L,!1),R=y.bind(null,S,L,!0)}else S=d(k),O=h.bind(null,S,k),R=function(){(function(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T)})(S)};return O(v),function(T){if(T){if(T.css===v.css&&T.media===v.media&&T.sourceMap===v.sourceMap)return;O(v=T)}else R()}}n.exports=function(v,k){(k=k||{}).singleton||typeof k.singleton=="boolean"||(k.singleton=(o===void 0&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var S=c(v=v||[],k);return function(O){if(O=O||[],Object.prototype.toString.call(O)==="[object Array]"){for(var R=0;R<S.length;R++){var L=u(S[R]);l[L].references--}for(var T=c(O,k),x=0;x<S.length;x++){var w=u(S[x]);l[w].references===0&&(l[w].updater(),l.splice(w,1))}S=T}}}},function(n,i,a){(i=a(4)(!1)).push([n.i,`.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`,""]),n.exports=i},function(n,i,a){"use strict";n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(l){var u=function(c,d){var f,g,y,h=c[1]||"",p=c[3];if(!p)return h;if(d&&typeof btoa=="function"){var m=(f=p,g=btoa(unescape(encodeURIComponent(JSON.stringify(f)))),y="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(g),"/*# ".concat(y," */")),b=p.sources.map(function(v){return"/*# sourceURL=".concat(p.sourceRoot||"").concat(v," */")});return[h].concat(b).concat([m]).join(`
`)}return[h].join(`
`)}(l,o);return l[2]?"@media ".concat(l[2]," {").concat(u,"}"):u}).join("")},s.i=function(l,u,c){typeof l=="string"&&(l=[[null,l,""]]);var d={};if(c)for(var f=0;f<this.length;f++){var g=this[f][0];g!=null&&(d[g]=!0)}for(var y=0;y<l.length;y++){var h=[].concat(l[y]);c&&d[h[0]]||(u&&(h[2]?h[2]="".concat(u," and ").concat(h[2]):h[2]=u),s.push(h))}},s}},function(n,i,a){"use strict";a.r(i),i.default=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0.2 -0.3 9 11.4" width="12" height="14">
  <path d="M0 2.77V.92A1 1 0 01.2.28C.35.1.56 0 .83 0h7.66c.28.01.48.1.63.28.14.17.21.38.21.64v1.85c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26a1 1 0 01-.21-.66V1.69H5.6v7.58h.5c.25 0 .45.08.6.23.17.16.25.35.25.6s-.08.45-.24.6a.87.87 0 01-.62.22H3.21a.87.87 0 01-.61-.22.78.78 0 01-.24-.6c0-.25.08-.44.24-.6a.85.85 0 01.61-.23h.5V1.7H1.73v1.08c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26A1 1 0 010 2.77z"/>
</svg>
`}])},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(14)],(a=typeof(n=function(o,s,l,u){"use strict";var c=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=c(s),l=c(l),u=c(u);var d=function(){function f(){(0,s.default)(this,f),this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}return(0,l.default)(f,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(u.default.svg("bold",12,14)),this.nodes.button}},{key:"surround",value:function(g){document.execCommand(this.commandName)}},{key:"checkState",value:function(g){var y=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,y),y}},{key:"shortcut",get:function(){return"CMD+B"}}],[{key:"sanitize",get:function(){return{b:{}}}}]),f}();o.default=d,d.displayName="BoldInlineTool",d.isInline=!0,d.title="Bold",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(14)],(a=typeof(n=function(o,s,l,u){"use strict";var c=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=c(s),l=c(l),u=c(u);var d=function(){function f(){(0,s.default)(this,f),this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}return(0,l.default)(f,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(u.default.svg("italic",4,11)),this.nodes.button}},{key:"surround",value:function(g){document.execCommand(this.commandName)}},{key:"checkState",value:function(g){var y=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,y),y}},{key:"shortcut",get:function(){return"CMD+I"}}],[{key:"sanitize",get:function(){return{i:{}}}}]),f}();o.default=d,d.displayName="ItalicInlineTool",d.isInline=!0,d.title="Italic",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(25),e(14),e(7)],(a=typeof(n=function(o,s,l,u,c,d){"use strict";var f=e(8),g=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=g(s),l=g(l),u=g(u),c=g(c),d=f(d);var y=function(){function h(p){var m=p.api;(0,s.default)(this,h),this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=m.toolbar,this.inlineToolbar=m.inlineToolbar,this.notifier=m.notifier,this.i18n=m.i18n,this.selection=new u.default}return(0,l.default)(h,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(c.default.svg("link",14,10)),this.nodes.button.appendChild(c.default.svg("unlink",15,11)),this.nodes.button}},{key:"renderActions",value:function(){var p=this;return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",function(m){m.keyCode===p.ENTER_KEY&&p.enterPressed(m)}),this.nodes.input}},{key:"surround",value:function(p){if(p){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());var m=this.selection.findParentTag("A");if(m)return this.selection.expandToTag(m),this.unlink(),this.closeActions(),this.checkState(),void this.toolbar.close()}this.toggleActions()}},{key:"checkState",value:function(p){var m=this.selection.findParentTag("A");if(m){this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();var b=m.getAttribute("href");this.nodes.input.value=b!=="null"?b:"",this.selection.save()}else this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!m}},{key:"clear",value:function(){this.closeActions()}},{key:"toggleActions",value:function(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}},{key:"openActions",value:function(){var p=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.nodes.input.classList.add(this.CSS.inputShowed),p&&this.nodes.input.focus(),this.inputOpened=!0}},{key:"closeActions",value:function(){var p=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(this.selection.isFakeBackgroundEnabled){var m=new u.default;m.save(),this.selection.restore(),this.selection.removeFakeBackground(),m.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",p&&this.selection.clearSaved(),this.inputOpened=!1}},{key:"enterPressed",value:function(p){var m=this.nodes.input.value||"";return m.trim()?this.validateURL(m)?(m=this.prepareLink(m),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(m),p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation(),this.selection.collapseToEnd(),void this.inlineToolbar.close()):(this.notifier.show({message:"Pasted link is not valid.",style:"error"}),void d.log("Incorrect Link pasted","warn",m)):(this.selection.restore(),this.unlink(),p.preventDefault(),void this.closeActions())}},{key:"validateURL",value:function(p){return!/\s/.test(p)}},{key:"prepareLink",value:function(p){return p=p.trim(),p=this.addProtocol(p)}},{key:"addProtocol",value:function(p){if(/^(\w+):(\/\/)?/.test(p))return p;var m=/^\/[^/\s]/.test(p),b=p.substring(0,1)==="#",v=/^\/\/[^/\s]/.test(p);return m||b||v||(p="http://"+p),p}},{key:"insertLink",value:function(p){var m=this.selection.findParentTag("A");m&&this.selection.expandToTag(m),document.execCommand(this.commandLink,!1,p)}},{key:"unlink",value:function(){document.execCommand(this.commandUnlink)}},{key:"shortcut",get:function(){return"CMD+K"}}],[{key:"sanitize",get:function(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}}]),h}();o.default=y,y.displayName="LinkInlineTool",y.isInline=!0,y.title="Link",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(14)],(a=typeof(n=function(o,s,l,u){"use strict";var c=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=c(s),l=c(l),u=c(u);var d=function(){function f(g){var y=g.data,h=g.api;(0,s.default)(this,f),this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=h,this.title=y.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=y.savedData,this.wrapper=this.make()}return(0,l.default)(f,[{key:"render",value:function(){return this.wrapper}},{key:"save",value:function(){return this.savedData}},{key:"make",value:function(){var g=u.default.make("div",this.CSS.wrapper),y=u.default.svg("sad-face",52,52),h=u.default.make("div",this.CSS.info),p=u.default.make("div",this.CSS.title,{textContent:this.title}),m=u.default.make("div",this.CSS.subtitle,{textContent:this.subtitle});return g.appendChild(y),h.appendChild(p),h.appendChild(m),g.appendChild(h),g}}]),f}();o.default=d,d.displayName="Stub",d.isReadOnlySupported=!0,t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(68),e(395),e(396),e(397)],(a=typeof(n=function(o,s,l,u,c,d,f){"use strict";var g=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=g(s),l=g(l),c=g(c),d=g(d),f=g(f);var y=function(p,m){var b={};for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&m.indexOf(v)<0&&(b[v]=p[v]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function"){var k=0;for(v=Object.getOwnPropertySymbols(p);k<v.length;k++)m.indexOf(v[k])<0&&Object.prototype.propertyIsEnumerable.call(p,v[k])&&(b[v[k]]=p[v[k]])}return b},h=function(){function p(m,b,v){(0,s.default)(this,p),this.api=v,this.config=m,this.editorConfig=b}return(0,l.default)(p,[{key:"get",value:function(m){var b=this.config[m],v=b.class,k=b.isInternal,S=k!==void 0&&k,O=y(b,["class","isInternal"]);return new(this.getConstructor(v))({name:m,constructable:v,config:O,api:this.api,isDefault:m===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:S})}},{key:"getConstructor",value:function(m){switch(!0){case m[u.InternalInlineToolSettings.IsInline]:return c.default;case m[u.InternalTuneSettings.IsTune]:return d.default;default:return f.default}}}]),p}();o.default=h,h.displayName="ToolsFactory",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(68)],(a=typeof(n=function(o,s,l,u,c,d,f){"use strict";var g=e(8),y=e(1);function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=y(s),l=y(l),u=y(u),c=y(c),d=y(d);var p=function(m){(0,u.default)(k,m);var b,v=(b=k,function(){var S,O=(0,d.default)(b);if(h()){var R=(0,d.default)(this).constructor;S=Reflect.construct(O,arguments,R)}else S=O.apply(this,arguments);return(0,c.default)(this,S)});function k(){var S;return(0,s.default)(this,k),(S=v.apply(this,arguments)).type=f.ToolType.Inline,S}return(0,l.default)(k,[{key:"create",value:function(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}},{key:"title",get:function(){return this.constructable[f.InternalInlineToolSettings.Title]}}]),k}((f=g(f)).default);o.default=p,p.displayName="InlineTool",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(5),e(6),e(4),e(68)],(a=typeof(n=function(o,s,l,u,c,d,f){"use strict";var g=e(8),y=e(1);function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=y(s),l=y(l),u=y(u),c=y(c),d=y(d);var p=function(m){(0,u.default)(k,m);var b,v=(b=k,function(){var S,O=(0,d.default)(b);if(h()){var R=(0,d.default)(this).constructor;S=Reflect.construct(O,arguments,R)}else S=O.apply(this,arguments);return(0,c.default)(this,S)});function k(){var S;return(0,s.default)(this,k),(S=v.apply(this,arguments)).type=f.ToolType.Tune,S}return(0,l.default)(k,[{key:"create",value:function(S,O){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:O,data:S})}}]),k}((f=g(f)).default);o.default=p,p.displayName="BlockTune",t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(113),e(5),e(6),e(4),e(59),e(68),e(7),e(185)],(a=typeof(n=function(o,s,l,u,c,d,f,g,y,h,p){"use strict";var m=e(8),b=e(1);function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=b(s),l=b(l),u=b(u),c=b(c),d=b(d),f=b(f),g=b(g),y=m(y),h=m(h),p=b(p);var k=function(O,R,L,T){var x,w=arguments.length,I=w<3?R:T===null?T=Object.getOwnPropertyDescriptor(R,L):T;if((typeof Reflect>"u"?"undefined":(0,g.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(O,R,L,T);else for(var B=O.length-1;B>=0;B--)(x=O[B])&&(I=(w<3?x(I):w>3?x(R,L,I):x(R,L))||I);return w>3&&I&&Object.defineProperty(R,L,I),I},S=function(O){(0,c.default)(T,O);var R,L=(R=T,function(){var x,w=(0,f.default)(R);if(v()){var I=(0,f.default)(this).constructor;x=Reflect.construct(w,arguments,I)}else x=w.apply(this,arguments);return(0,d.default)(this,x)});function T(){var x;return(0,s.default)(this,T),(x=L.apply(this,arguments)).type=y.ToolType.Block,x.inlineTools=new p.default,x.tunes=new p.default,x}return(0,l.default)(T,[{key:"create",value:function(x,w,I){return new this.constructable({data:x,block:w,readOnly:I,api:this.api.getMethodsForTool(this),config:this.settings})}},{key:"isReadOnlySupported",get:function(){return this.constructable[y.InternalBlockToolSettings.IsReadOnlySupported]===!0}},{key:"isLineBreaksEnabled",get:function(){return this.constructable[y.InternalBlockToolSettings.IsEnabledLineBreaks]}},{key:"toolbox",get:function(){var x=this.constructable[y.InternalBlockToolSettings.Toolbox],w=this.config[y.UserSettings.Toolbox];if(!h.isEmpty(x)&&w!==!1)return w?Array.isArray(x)?Array.isArray(w)?w.map(function(I,B){var E=x[B];return E?Object.assign(Object.assign({},E),I):I}):[w]:Array.isArray(w)?w:[Object.assign(Object.assign({},x),w)]:Array.isArray(x)?x:[x]}},{key:"conversionConfig",get:function(){return this.constructable[y.InternalBlockToolSettings.ConversionConfig]}},{key:"enabledInlineTools",get:function(){return this.config[y.UserSettings.EnabledInlineTools]||!1}},{key:"enabledBlockTunes",get:function(){return this.config[y.UserSettings.EnabledBlockTunes]}},{key:"pasteConfig",get:function(){return this.constructable[y.InternalBlockToolSettings.PasteConfig]||{}}},{key:"sanitizeConfig",get:function(){var x=(0,u.default)((0,f.default)(T.prototype),"sanitizeConfig",this),w=this.baseSanitizeConfig;if(h.isEmpty(x))return w;var I={};for(var B in x)if(Object.prototype.hasOwnProperty.call(x,B)){var E=x[B];h.isObject(E)?I[B]=Object.assign({},w,E):I[B]=E}return I}},{key:"baseSanitizeConfig",get:function(){var x={};return Array.from(this.inlineTools.values()).forEach(function(w){return Object.assign(x,w.sanitizeConfig)}),Array.from(this.tunes.values()).forEach(function(w){return Object.assign(x,w.sanitizeConfig)}),x}}]),T}(y.default);o.default=S,S.displayName="BlockTool",k([h.cacheable],S.prototype,"sanitizeConfig",null),k([h.cacheable],S.prototype,"baseSanitizeConfig",null),t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(14)],(a=typeof(n=function(o,s,l,u){"use strict";var c=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=c(s),l=c(l),u=c(u);var d=function(){function f(g){var y=g.api;(0,s.default)(this,f),this.CSS={button:"ce-settings__button",wrapper:"ce-tune-move-down",animation:"wobble"},this.api=y}return(0,l.default)(f,[{key:"render",value:function(){var g=this,y=u.default.make("div",[this.CSS.button,this.CSS.wrapper],{});return y.appendChild(u.default.svg("arrow-down",14,14)),this.api.listeners.on(y,"click",function(h){return g.handleClick(h,y)},!1),this.api.tooltip.onHover(y,this.api.i18n.t("Move down"),{hidingDelay:300}),y}},{key:"handleClick",value:function(g,y){var h=this,p=this.api.blocks.getCurrentBlockIndex(),m=this.api.blocks.getBlockByIndex(p+1);if(!m)return y.classList.add(this.CSS.animation),void window.setTimeout(function(){y.classList.remove(h.CSS.animation)},500);var b=m.holder,v=b.getBoundingClientRect(),k=Math.abs(window.innerHeight-b.offsetHeight);v.top<window.innerHeight&&(k=window.scrollY+b.offsetHeight),window.scrollTo(0,k),this.api.blocks.move(p+1),this.api.toolbar.toggleBlockSettings(!0),this.api.tooltip.hide()}}]),f}();o.default=d,d.displayName="MoveDownTune",d.isTune=!0,t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(14)],(a=typeof(n=function(o,s,l,u){"use strict";var c=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=c(s),l=c(l),u=c(u);var d=function(){function f(g){var y=this,h=g.api;(0,s.default)(this,f),this.CSS={button:"ce-settings__button",buttonDelete:"ce-settings__button--delete",buttonConfirm:"ce-settings__button--confirm"},this.nodes={button:null},this.api=h,this.resetConfirmation=function(){y.setConfirmation(!1)}}return(0,l.default)(f,[{key:"render",value:function(){var g=this;return this.nodes.button=u.default.make("div",[this.CSS.button,this.CSS.buttonDelete],{}),this.nodes.button.appendChild(u.default.svg("cross",12,12)),this.api.listeners.on(this.nodes.button,"click",function(y){return g.handleClick(y)},!1),this.api.tooltip.onHover(this.nodes.button,this.api.i18n.t("Delete"),{hidingDelay:300}),this.nodes.button}},{key:"handleClick",value:function(g){this.needConfirmation?(this.api.events.off("block-settings-closed",this.resetConfirmation),this.api.blocks.delete(),this.api.toolbar.close(),this.api.tooltip.hide(),g.stopPropagation()):(this.setConfirmation(!0),this.api.events.on("block-settings-closed",this.resetConfirmation))}},{key:"setConfirmation",value:function(g){this.needConfirmation=g,this.nodes.button.classList.add(this.CSS.buttonConfirm)}}]),f}();o.default=d,d.displayName="DeleteTune",d.isTune=!0,t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){var n,i,a;typeof globalThis<"u"||typeof self<"u",i=[r,e(2),e(3),e(14)],(a=typeof(n=function(o,s,l,u){"use strict";var c=e(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,s=c(s),l=c(l),u=c(u);var d=function(){function f(g){var y=g.api;(0,s.default)(this,f),this.CSS={button:"ce-settings__button",wrapper:"ce-tune-move-up",animation:"wobble"},this.api=y}return(0,l.default)(f,[{key:"render",value:function(){var g=this,y=u.default.make("div",[this.CSS.button,this.CSS.wrapper],{});return y.appendChild(u.default.svg("arrow-up",14,14)),this.api.listeners.on(y,"click",function(h){return g.handleClick(h,y)},!1),this.api.tooltip.onHover(y,this.api.i18n.t("Move up"),{hidingDelay:300}),y}},{key:"handleClick",value:function(g,y){var h=this,p=this.api.blocks.getCurrentBlockIndex(),m=this.api.blocks.getBlockByIndex(p),b=this.api.blocks.getBlockByIndex(p-1);if(p===0||!m||!b)return y.classList.add(this.CSS.animation),void window.setTimeout(function(){y.classList.remove(h.CSS.animation)},500);var v,k=m.holder,S=b.holder,O=k.getBoundingClientRect(),R=S.getBoundingClientRect();v=R.top>0?Math.abs(O.top)-Math.abs(R.top):window.innerHeight-Math.abs(O.top)+Math.abs(R.top),window.scrollBy(0,-1*v),this.api.blocks.move(p-1),this.api.toolbar.toggleBlockSettings(!0),this.api.tooltip.hide()}}]),f}();o.default=d,d.displayName="MoveUpTune",d.isTune=!0,t.exports=r.default})=="function"?n.apply(r,i):n)===void 0||(t.exports=a)},function(t,r,e){"use strict";e.r(r),r.default=`<?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg">
<symbol id="arrow-down" viewBox="0 0 14 14">
  <path transform="matrix(1 0 0 -1 0 14)" d="M8.024 4.1v8.6a1.125 1.125 0 0 1-2.25 0V4.1L2.18 7.695A1.125 1.125 0 1 1 .59 6.104L6.103.588c.44-.439 1.151-.439 1.59 0l5.516 5.516a1.125 1.125 0 0 1-1.59 1.59L8.023 4.1z"/>

</symbol>
<symbol id="arrow-up" viewBox="0 0 14 14">
    <path d="M8.024 4.1v8.6a1.125 1.125 0 0 1-2.25 0V4.1L2.18 7.695A1.125 1.125 0 1 1 .59 6.104L6.103.588c.44-.439 1.151-.439 1.59 0l5.516 5.516a1.125 1.125 0 0 1-1.59 1.59L8.023 4.1z"/>

</symbol>
<symbol id="bold" viewBox="0 0 12 14"><path d="M5.997 14H1.72c-.618 0-1.058-.138-1.323-.415C.132 13.308 0 12.867 0 12.262V1.738C0 1.121.135.676.406.406.676.136 1.114 0 1.719 0h4.536c.669 0 1.248.041 1.738.124.49.083.93.242 1.318.478a3.458 3.458 0 0 1 1.461 1.752c.134.366.2.753.2 1.16 0 1.401-.7 2.426-2.1 3.075 1.84.586 2.76 1.726 2.76 3.42 0 .782-.2 1.487-.602 2.114a3.61 3.61 0 0 1-1.623 1.39 5.772 5.772 0 0 1-1.471.377c-.554.073-1.2.11-1.939.11zm-.21-6.217h-2.95v4.087h3.046c1.916 0 2.874-.69 2.874-2.072 0-.707-.248-1.22-.745-1.537-.496-.319-1.238-.478-2.225-.478zM2.837 2.13v3.619h2.597c.707 0 1.252-.067 1.638-.2.385-.134.68-.389.883-.765.16-.267.239-.566.239-.897 0-.707-.252-1.176-.755-1.409-.503-.232-1.27-.348-2.301-.348H2.836z"/>
</symbol>
<symbol id="cross" viewBox="0 0 237 237">
  <path transform="rotate(45 280.675 51.325)" d="M191 191V73c0-5.523 4.477-10 10-10h25c5.523 0 10 4.477 10 10v118h118c5.523 0 10 4.477 10 10v25c0 5.523-4.477 10-10 10H236v118c0 5.523-4.477 10-10 10h-25c-5.523 0-10-4.477-10-10V236H73c-5.523 0-10-4.477-10-10v-25c0-5.523 4.477-10 10-10h118z"/>

</symbol>
<symbol id="dots" viewBox="0 0 16 16">
  <g transform="translate(4 1.5)" fill-rule="evenodd">
    <circle cx="1.3" cy="1.3" r="1.3"/>
    <circle cx="6.5" cy="1.3" r="1.3"/>
    <circle cx="6.5" cy="6.5" r="1.3"/>
    <circle cx="1.3" cy="6.5" r="1.3"/>
    <circle cx="6.5" cy="11.7" r="1.3"/>
    <circle cx="1.3" cy="11.7" r="1.3"/>
  </g>

</symbol>
<symbol id="italic" viewBox="0 0 4 11">
    <path d="M3.289 4.17L2.164 9.713c-.078.384-.238.674-.48.87-.243.198-.52.296-.831.296-.312 0-.545-.1-.699-.302-.153-.202-.192-.49-.116-.864L1.15 4.225c.077-.38.232-.665.466-.857a1.25 1.25 0 01.818-.288c.312 0 .55.096.713.288.163.192.21.46.141.801zm-.667-2.09c-.295 0-.53-.09-.706-.273-.176-.181-.233-.439-.173-.77.055-.302.207-.55.457-.745C2.45.097 2.716 0 3 0c.273 0 .5.088.68.265.179.176.238.434.177.771-.06.327-.21.583-.45.767-.24.185-.502.277-.785.277z"/>

</symbol>
<symbol id="link" viewBox="0 0 14 10">
  <path d="M6 0v2H5a3 3 0 000 6h1v2H5A5 5 0 115 0h1zm2 0h1a5 5 0 110 10H8V8h1a3 3 0 000-6H8V0zM5 4h4a1 1 0 110 2H5a1 1 0 110-2z"/>

</symbol>
<symbol id="plus" viewBox="0 0 16 16">
  <g transform="translate(1 1.5)" fill-rule="evenodd">
    <rect x="6" width="2" height="13" rx="1"/>
    <rect x=".5" y="5.5" width="13" height="2" rx="1"/>
  </g>

</symbol>
<symbol id="sad-face" viewBox="0 0 52 52">
    <path fill="#D76B6B" fill-rule="nonzero" d="M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z"/>

</symbol>
<symbol id="search" viewBox="0 0 16 16">
  <path d="M12.711 2.18a7.448 7.448 0 0 1 .79 9.603l2.143 2.144a1.214 1.214 0 1 1-1.717 1.717L11.783 13.5a7.446 7.446 0 1 1 .928-11.32ZM11.39 3.61a5.5 5.5 0 1 0-7.778 7.78 5.5 5.5 0 0 0 7.778-7.78Z" fill-rule="evenodd"/>

</symbol>
<symbol id="toggler-down">
  <path d="M6.5 9.294a.792.792 0 01-.562-.232L2.233 5.356a.794.794 0 011.123-1.123L6.5 7.377l3.144-3.144a.794.794 0 011.123 1.123L7.062 9.062a.792.792 0 01-.562.232z"/>

</symbol>
<symbol id="unlink" viewBox="0 0 15 11">
  <path d="M13.073 2.099l-1.448 1.448A3 3 0 009 2H8V0h1c1.68 0 3.166.828 4.073 2.099zM6.929 4l-.879.879L7.172 6H5a1 1 0 110-2h1.929zM6 0v2H5a3 3 0 100 6h1v2H5A5 5 0 115 0h1zm6.414 7l2.122 2.121-1.415 1.415L11 8.414l-2.121 2.122L7.464 9.12 9.586 7 7.464 4.879 8.88 3.464 11 5.586l2.121-2.122 1.415 1.415L12.414 7z"/>

</symbol></svg>`},function(t,r){t.exports='.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff "}@media (min-width:651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width:651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:"";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s linear infinite;animation:editor-loader-spin .8s linear infinite;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:rgba(46,170,220,.2);border:1px solid transparent}.codex-editor svg{fill:currentColor;vertical-align:middle;max-height:100%}::-moz-selection{background-color:#d4ecff}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1*var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width:650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover:hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus{-ms-flex-negative:0;flex-shrink:0}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width:650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}}@media (max-width:650px) and (max-width:650px){.ce-toolbar__plus{-webkit-box-shadow:0 8px 6px -6px rgba(33,48,73,.19);box-shadow:0 8px 6px -6px rgba(33,48,73,.19);border-bottom-color:#c7c7c7}}@media (max-width:650px){.ce-toolbar__plus{position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width:650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}@media (max-width:650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover:hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn{margin-left:5px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width:651px){.ce-toolbar__settings-btn{width:18px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width:650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}}@media (max-width:650px) and (max-width:650px){.ce-toolbar__settings-btn{-webkit-box-shadow:0 8px 6px -6px rgba(33,48,73,.19);box-shadow:0 8px 6px -6px rgba(33,48,73,.19);border-bottom-color:#c7c7c7}}@media (max-width:650px){.ce-toolbar__settings-btn{position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}@media (min-width:651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}.ce-toolbox{--gap:8px}@media (min-width:651px){.ce-toolbox{position:absolute;top:calc(26px + var(--gap));left:0}.ce-toolbox--opened-top{top:calc(-1*(var(--gap) + var(--popover-height)))}}@media (min-width:651px){.codex-editor--narrow .ce-toolbox{left:auto;right:0}.codex-editor--narrow .ce-toolbox .ce-popover{right:0}}.ce-inline-toolbar{position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}@media (max-width:650px){.ce-inline-toolbar{-webkit-box-shadow:0 8px 6px -6px rgba(33,48,73,.19);box-shadow:0 8px 6px -6px rgba(33,48,73,.19);border-bottom-color:#c7c7c7}}.ce-inline-toolbar{-webkit-transform:translateX(-50%) translateY(8px) scale(.9);transform:translateX(-50%) translateY(8px) scale(.9);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.9);transform:translateX(-23px) translateY(8px) scale(.9)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translateX(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.9);transform:translateX(-100%) translateY(8px) scale(.9);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{width:100%;padding:0 6px}.ce-inline-toolbar__buttons,.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;height:34px;padding:0 9px 0 10px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48)}.ce-inline-toolbar__dropdown:hover{background:#eff2f5}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content{display:-webkit-box;display:-ms-flexbox;display:flex;font-weight:500;font-size:14px}.ce-inline-toolbar__dropdown-content svg{height:12px}.ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:4px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.ce-inline-tool:hover{background-color:#eff2f5}.ce-inline-tool{border-radius:0;line-height:normal;width:auto;padding:0 5px!important;min-width:24px}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool:not(:last-of-type){margin-right:2px}.ce-inline-tool .icon{height:12px}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48)}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}@media (max-width:650px){.ce-conversion-toolbar{-webkit-box-shadow:0 8px 6px -6px rgba(33,48,73,.19);box-shadow:0 8px 6px -6px rgba(33,48,73,.19);border-bottom-color:#c7c7c7}}.ce-conversion-toolbar{opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:150px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:20px;height:20px;border:1px solid rgba(201,201,204,.48);border-radius:3px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px;background:#fff}.ce-conversion-tool__icon svg{width:11px;height:11px}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings{position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}@media (max-width:650px){.ce-settings{-webkit-box-shadow:0 8px 6px -6px rgba(33,48,73,.19);box-shadow:0 8px 6px -6px rgba(33,48,73,.19);border-bottom-color:#c7c7c7}}.ce-settings{top:34px;left:0;min-width:114px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-settings--left-oriented:before{left:15px;margin-left:0}.ce-settings--right-oriented:before{left:auto;right:15px;margin-left:0}@media (max-width:650px){.ce-settings{bottom:40px;right:auto;top:auto}}.ce-settings:before{left:auto;right:12px}@media (max-width:650px){.ce-settings:before{bottom:-5px;top:auto}}.ce-settings{display:none}.ce-settings--opened{display:block;-webkit-animation-duration:.1s;animation-duration:.1s;-webkit-animation-name:panelShowing;animation-name:panelShowing}.ce-settings__plugin-zone:not(:empty){padding:3px 3px 0}.ce-settings__default-zone:not(:empty){padding:3px}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.ce-settings__button:hover{background-color:#eff2f5}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button{line-height:32px}.ce-settings__button--disabled{cursor:not-allowed!important;opacity:.3}.ce-settings__button--selected{color:#388ae5}.ce-settings__button--delete{-webkit-transition:background-color .3s ease;transition:background-color .3s ease;will-change:background-color}.ce-settings__button--delete .icon{-webkit-transition:-webkit-transform .2s ease-out;transition:-webkit-transform .2s ease-out;transition:transform .2s ease-out;transition:transform .2s ease-out,-webkit-transform .2s ease-out;will-change:transform}.ce-settings__button--confirm{background-color:#e24a4a!important;color:#fff}.ce-settings__button--confirm:hover{background-color:#d54a4a!important}.ce-settings__button--confirm .icon{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:none}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content .ce-stub,.ce-block--selected .ce-block__content img{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388ae5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388ae5,#388ae5 1px,#fff 0,#fff 6px)}.ce-block a{cursor:pointer;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width:651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important;display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.cdx-settings-button:hover{background-color:#eff2f5}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button:not(:nth-child(3n+3)){margin-right:3px}.cdx-settings-button:nth-child(n+4){margin-top:3px}.cdx-settings-button--active{color:#388ae5}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s linear infinite;animation:cdxRotation 1.2s linear infinite}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px 0 rgba(18,30,57,.04);color:#707684;text-align:center;cursor:pointer}.cdx-button:hover{background:#fbfcfe;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px 0 rgba(18,30,57,.08)}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width:650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0 solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.ce-popover{opacity:0;will-change:opacity,transform;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:6px;min-width:200px;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-negative:0;flex-shrink:0;max-height:0;pointer-events:none;position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}@media (max-width:650px){.ce-popover{-webkit-box-shadow:0 8px 6px -6px rgba(33,48,73,.19);box-shadow:0 8px 6px -6px rgba(33,48,73,.19);border-bottom-color:#c7c7c7}}.ce-popover{z-index:4;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.ce-popover--left-oriented:before{left:15px;margin-left:0}.ce-popover--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-popover--opened{opacity:1;max-height:270px;pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease}@media (max-width:650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover::-webkit-scrollbar{width:7px}.ce-popover::-webkit-scrollbar-thumb{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:inset 0 0 2px 2px #eff2f5;box-shadow:inset 0 0 2px 2px #eff2f5;border-color:transparent;border-style:solid;border-width:4px 3px 4px 0}@media (max-width:650px){.ce-popover{position:fixed;max-width:none;min-width:auto;left:5px;right:5px;bottom:calc(5px + env(safe-area-inset-bottom));top:auto;border-radius:10px}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (min-width:651px){.ce-popover__items{margin-top:5px}}.ce-popover__item{display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:start;white-space:nowrap;padding:3px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:6px}.ce-popover__item:not(:last-of-type){margin-bottom:1px}@media (hover:hover){.ce-popover__item:hover{background-color:#eff2f5}}@media (max-width:650px){.ce-popover__item{font-size:16px;padding:4px}}.ce-popover__item--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-popover__item--hidden{display:none}.ce-popover__item-icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;border:1px solid rgba(201,201,204,.48);border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}@media (max-width:650px){.ce-popover__item-icon{width:36px;height:36px;border-radius:8px}}.ce-popover__item-icon svg{width:12px;height:12px}.ce-popover__item-label:after{content:"";width:25px;display:inline-block}.ce-popover__item-secondary-label{color:#707684;font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width:650px){.ce-popover__item-secondary-label{display:none}}.ce-popover__no-found{display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:start;white-space:nowrap;padding:3px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:6px}.ce-popover__no-found:not(:last-of-type){margin-bottom:1px}@media (hover:hover){.ce-popover__no-found:hover{background-color:#eff2f5}}@media (max-width:650px){.ce-popover__no-found{font-size:16px;padding:4px}}.ce-popover__no-found{color:#707684;display:none;cursor:default}.ce-popover__no-found--shown{display:block}.ce-popover__no-found:hover{background-color:transparent}@media (max-width:650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1d202b;opacity:.5;z-index:3;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}.ce-popover .cdx-search-field{display:none}}.ce-popover__overlay--hidden{z-index:0;opacity:0;visibility:hidden}.cdx-search-field{--icon-margin-right:10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon .icon{width:14px;height:14px;color:#707684;-ms-flex-negative:0;flex-shrink:0}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}'},function(t,r,e){"use strict";e.r(r),e.d(r,"nanoid",function(){return s}),e.d(r,"customAlphabet",function(){return o}),e.d(r,"customRandom",function(){return a}),e.d(r,"urlAlphabet",function(){return n}),e.d(r,"random",function(){return i});let n="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",i=l=>crypto.getRandomValues(new Uint8Array(l)),a=(l,u,c)=>{let d=(2<<Math.log(l.length-1)/Math.LN2)-1,f=-~(1.6*d*u/l.length);return()=>{let g="";for(;;){let y=c(f),h=f;for(;h--;)if(g+=l[y[h]&d]||"",g.length===u)return g}}},o=(l,u)=>a(l,u,i),s=(l=21)=>{let u="",c=crypto.getRandomValues(new Uint8Array(l));for(;l--;){let d=63&c[l];u+=d<36?d.toString(36):d<62?(d-26).toString(36).toUpperCase():d<63?"_":"-"}return u}}])})});var dr=rt((Ft,pn)=>{(function(t,r){typeof Ft=="object"&&typeof pn=="object"?pn.exports=r():typeof define=="function"&&define.amd?define([],r):typeof Ft=="object"?Ft.Header=r():t.Header=r()})(window,function(){return function(t){var r={};function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=r,e.d=function(n,i,a){e.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:a})},e.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,i){if(1&i&&(n=e(n)),8&i||4&i&&typeof n=="object"&&n&&n.__esModule)return n;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),2&i&&typeof n!="string")for(var o in n)e.d(a,o,function(s){return n[s]}.bind(null,o));return a},e.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(i,"a",i),i},e.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},e.p="/",e(e.s=0)}([function(t,r,e){function n(o){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(o)}function i(o,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}e(1).toString();var a=function(){function o(c){var d=c.data,f=c.config,g=c.api,y=c.readOnly;(function(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,o),this.api=g,this.readOnly=y,this._CSS={block:this.api.styles.block,settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive,wrapper:"ce-header"},this._settings=f,this._data=this.normalizeData(d),this.settingsButtons=[],this._element=this.getTag()}var s,l,u;return s=o,u=[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{level:!1,text:{}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["H1","H2","H3","H4","H5","H6"]}}},{key:"toolbox",get:function(){return{icon:e(6).default,title:"Heading"}}}],(l=[{key:"normalizeData",value:function(c){var d={};return n(c)!=="object"&&(c={}),d.text=c.text||"",d.level=parseInt(c.level)||this.defaultLevel.number,d}},{key:"render",value:function(){return this._element}},{key:"renderSettings",value:function(){var c=this,d=document.createElement("DIV");return this.levels.length<=1||this.levels.forEach(function(f){var g=document.createElement("SPAN");g.classList.add(c._CSS.settingsButton),c.currentLevel.number===f.number&&g.classList.add(c._CSS.settingsButtonActive),g.innerHTML=f.svg,g.dataset.level=f.number,g.addEventListener("click",function(){c.setLevel(f.number)}),d.appendChild(g),c.settingsButtons.push(g)}),d}},{key:"setLevel",value:function(c){var d=this;this.data={level:c,text:this.data.text},this.settingsButtons.forEach(function(f){f.classList.toggle(d._CSS.settingsButtonActive,parseInt(f.dataset.level)===c)})}},{key:"merge",value:function(c){var d={text:this.data.text+c.text,level:this.data.level};this.data=d}},{key:"validate",value:function(c){return c.text.trim()!==""}},{key:"save",value:function(c){return{text:c.innerHTML,level:this.currentLevel.number}}},{key:"getTag",value:function(){var c=document.createElement(this.currentLevel.tag);return c.innerHTML=this._data.text||"",c.classList.add(this._CSS.wrapper),c.contentEditable=this.readOnly?"false":"true",c.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),c}},{key:"onPaste",value:function(c){var d=c.detail.data,f=this.defaultLevel.number;switch(d.tagName){case"H1":f=1;break;case"H2":f=2;break;case"H3":f=3;break;case"H4":f=4;break;case"H5":f=5;break;case"H6":f=6}this._settings.levels&&(f=this._settings.levels.reduce(function(g,y){return Math.abs(y-f)<Math.abs(g-f)?y:g})),this.data={level:f,text:d.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data},set:function(c){if(this._data=this.normalizeData(c),c.level!==void 0&&this._element.parentNode){var d=this.getTag();d.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(d,this._element),this._element=d}c.text!==void 0&&(this._element.innerHTML=this._data.text||"")}},{key:"currentLevel",get:function(){var c=this,d=this.levels.find(function(f){return f.number===c._data.level});return d||(d=this.defaultLevel),d}},{key:"defaultLevel",get:function(){var c=this;if(this._settings.defaultLevel){var d=this.levels.find(function(f){return f.number===c._settings.defaultLevel});if(d)return d;console.warn("(\u0E07'\u0300-'\u0301)\u0E07 Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}},{key:"levels",get:function(){var c=this,d=[{number:1,tag:"H1",svg:'<svg width="16" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.14 1.494V4.98h4.62V1.494c0-.498.098-.871.293-1.12A.927.927 0 0 1 7.82 0c.322 0 .583.123.782.37.2.246.3.62.3 1.124v9.588c0 .503-.101.88-.303 1.128a.957.957 0 0 1-.779.374.921.921 0 0 1-.77-.378c-.193-.251-.29-.626-.29-1.124V6.989H2.14v4.093c0 .503-.1.88-.302 1.128a.957.957 0 0 1-.778.374.921.921 0 0 1-.772-.378C.096 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.285.374A.922.922 0 0 1 1.06 0c.321 0 .582.123.782.37.199.246.299.62.299 1.124zm11.653 9.985V5.27c-1.279.887-2.14 1.33-2.583 1.33a.802.802 0 0 1-.563-.228.703.703 0 0 1-.245-.529c0-.232.08-.402.241-.511.161-.11.446-.25.854-.424.61-.259 1.096-.532 1.462-.818a5.84 5.84 0 0 0 .97-.962c.282-.355.466-.573.552-.655.085-.082.246-.123.483-.123.267 0 .481.093.642.28.161.186.242.443.242.77v7.813c0 .914-.345 1.371-1.035 1.371-.307 0-.554-.093-.74-.28-.187-.186-.28-.461-.28-.825z"/></svg>'},{number:2,tag:"H2",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm10.99 9.288h3.527c.351 0 .62.072.804.216.185.144.277.34.277.588 0 .22-.073.408-.22.56-.146.154-.368.23-.665.23h-4.972c-.338 0-.601-.093-.79-.28a.896.896 0 0 1-.284-.659c0-.162.06-.377.182-.645s.255-.478.399-.631a38.617 38.617 0 0 1 1.621-1.598c.482-.444.827-.735 1.034-.875.369-.261.676-.523.922-.787.245-.263.432-.534.56-.81.129-.278.193-.549.193-.815 0-.288-.069-.546-.206-.773a1.428 1.428 0 0 0-.56-.53 1.618 1.618 0 0 0-.774-.19c-.59 0-1.054.26-1.392.777-.045.068-.12.252-.226.554-.106.302-.225.534-.358.696-.133.162-.328.243-.585.243a.76.76 0 0 1-.56-.223c-.149-.148-.223-.351-.223-.608 0-.31.07-.635.21-.972.139-.338.347-.645.624-.92a3.093 3.093 0 0 1 1.054-.665c.426-.169.924-.253 1.496-.253.69 0 1.277.108 1.764.324.315.144.592.343.83.595.24.252.425.544.558.875.133.33.2.674.2 1.03 0 .558-.14 1.066-.416 1.523-.277.457-.56.815-.848 1.074-.288.26-.771.666-1.45 1.22-.677.554-1.142.984-1.394 1.29a3.836 3.836 0 0 0-.331.44z"/></svg>'},{number:3,tag:"H3",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm11.61 4.919c.418 0 .778-.123 1.08-.368.301-.245.452-.597.452-1.055 0-.35-.12-.65-.36-.902-.241-.252-.566-.378-.974-.378-.277 0-.505.038-.684.116a1.1 1.1 0 0 0-.426.306 2.31 2.31 0 0 0-.296.49c-.093.2-.178.388-.255.565a.479.479 0 0 1-.245.225.965.965 0 0 1-.409.081.706.706 0 0 1-.5-.22c-.152-.148-.228-.345-.228-.59 0-.236.071-.484.214-.745a2.72 2.72 0 0 1 .627-.746 3.149 3.149 0 0 1 1.024-.568 4.122 4.122 0 0 1 1.368-.214c.44 0 .842.06 1.205.18.364.12.679.294.947.52.267.228.47.49.606.79.136.3.204.622.204.967 0 .454-.099.843-.296 1.168-.198.324-.48.64-.848.95.354.19.653.408.895.653.243.245.426.516.548.813.123.298.184.619.184.964 0 .413-.083.812-.248 1.198-.166.386-.41.73-.732 1.031a3.49 3.49 0 0 1-1.147.708c-.443.17-.932.256-1.467.256a3.512 3.512 0 0 1-1.464-.293 3.332 3.332 0 0 1-1.699-1.64c-.142-.314-.214-.573-.214-.777 0-.263.085-.475.255-.636a.89.89 0 0 1 .637-.242c.127 0 .25.037.367.112a.53.53 0 0 1 .232.27c.236.63.489 1.099.759 1.405.27.306.65.46 1.14.46a1.714 1.714 0 0 0 1.46-.824c.17-.273.256-.588.256-.947 0-.53-.145-.947-.436-1.249-.29-.302-.694-.453-1.212-.453-.09 0-.231.01-.422.028-.19.018-.313.027-.367.027-.25 0-.443-.062-.579-.187-.136-.125-.204-.299-.204-.521 0-.218.081-.394.245-.528.163-.134.406-.2.728-.2h.28z"/></svg>'},{number:4,tag:"H4",svg:'<svg width="20" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm13.003 10.09v-1.252h-3.38c-.427 0-.746-.097-.96-.29-.213-.193-.32-.456-.32-.788 0-.085.016-.171.048-.259.031-.088.078-.18.141-.276.063-.097.128-.19.195-.28.068-.09.15-.2.25-.33l3.568-4.774a5.44 5.44 0 0 1 .576-.683.763.763 0 0 1 .542-.212c.682 0 1.023.39 1.023 1.171v5.212h.29c.346 0 .623.047.832.142.208.094.313.3.313.62 0 .26-.086.45-.256.568-.17.12-.427.179-.768.179h-.41v1.252c0 .346-.077.603-.23.771-.152.168-.356.253-.612.253a.78.78 0 0 1-.61-.26c-.154-.173-.232-.427-.232-.764zm-2.895-2.76h2.895V4.91L12.26 8.823z"/></svg>'},{number:5,tag:"H5",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm14.16 2.645h-3.234l-.388 2.205c.644-.344 1.239-.517 1.783-.517.436 0 .843.082 1.222.245.38.164.712.39.998.677.286.289.51.63.674 1.025.163.395.245.82.245 1.273 0 .658-.148 1.257-.443 1.797-.295.54-.72.97-1.276 1.287-.556.318-1.197.477-1.923.477-.813 0-1.472-.15-1.978-.45-.506-.3-.865-.643-1.076-1.031-.21-.388-.316-.727-.316-1.018 0-.177.073-.345.22-.504a.725.725 0 0 1 .556-.238c.381 0 .665.22.85.66.182.404.427.719.736.943.309.225.654.337 1.035.337.35 0 .656-.09.919-.272.263-.182.466-.431.61-.749.142-.318.214-.678.214-1.082 0-.436-.078-.808-.232-1.117a1.607 1.607 0 0 0-.62-.69 1.674 1.674 0 0 0-.864-.229c-.39 0-.67.048-.837.143-.168.095-.41.262-.725.5-.316.239-.576.358-.78.358a.843.843 0 0 1-.592-.242c-.173-.16-.259-.344-.259-.548 0-.022.025-.177.075-.463l.572-3.26c.063-.39.181-.675.354-.852.172-.177.454-.265.844-.265h3.595c.708 0 1.062.27 1.062.81a.711.711 0 0 1-.26.572c-.172.145-.426.218-.762.218z"/></svg>'},{number:6,tag:"H6",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zM12.53 7.058a3.093 3.093 0 0 1 1.004-.814 2.734 2.734 0 0 1 1.214-.264c.43 0 .827.08 1.19.24.365.161.684.39.957.686.274.296.485.645.635 1.048a3.6 3.6 0 0 1 .223 1.262c0 .637-.145 1.216-.437 1.736-.292.52-.699.926-1.221 1.218-.522.292-1.114.438-1.774.438-.76 0-1.416-.186-1.967-.557-.552-.37-.974-.919-1.265-1.645-.292-.726-.438-1.613-.438-2.662 0-.855.088-1.62.265-2.293.176-.674.43-1.233.76-1.676.33-.443.73-.778 1.2-1.004.47-.226 1.006-.339 1.608-.339.579 0 1.089.113 1.53.34.44.225.773.506.997.84.224.335.335.656.335.964 0 .185-.07.354-.21.505a.698.698 0 0 1-.536.227.874.874 0 0 1-.529-.18 1.039 1.039 0 0 1-.36-.498 1.42 1.42 0 0 0-.495-.655 1.3 1.3 0 0 0-.786-.247c-.24 0-.479.069-.716.207a1.863 1.863 0 0 0-.6.56c-.33.479-.525 1.333-.584 2.563zm1.832 4.213c.456 0 .834-.186 1.133-.56.298-.373.447-.862.447-1.468 0-.412-.07-.766-.21-1.062a1.584 1.584 0 0 0-.577-.678 1.47 1.47 0 0 0-.807-.234c-.28 0-.548.074-.804.224-.255.149-.461.365-.617.647a2.024 2.024 0 0 0-.234.994c0 .61.158 1.12.475 1.527.316.407.714.61 1.194.61z"/></svg>'}];return this._settings.levels?d.filter(function(f){return c._settings.levels.includes(f.number)}):d}}])&&i(s.prototype,l),u&&i(s,u),o}();t.exports=a},function(t,r,e){var n=e(2);typeof n=="string"&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};e(4)(n,i),n.locals&&(t.exports=n.locals)},function(t,r,e){(t.exports=e(3)(!1)).push([t.i,`/**
 * Plugin styles
 */
.ce-header {
  padding: 0.6em 0 3px;
  margin: 0;
  line-height: 1.25em;
  outline: none;
}

.ce-header p,
.ce-header div{
  padding: 0 !important;
  margin: 0 !important;
}

/**
 * Styles for Plugin icon in Toolbar
 */
.ce-header__icon {}

.ce-header[contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  display: none;
  cursor: text;
}

.ce-header[contentEditable=true][data-placeholder]:empty::before {
  display: block;
}

.ce-header[contentEditable=true][data-placeholder]:empty:focus::before {
  display: none;
}
`,""])},function(t,r){t.exports=function(e){var n=[];return n.toString=function(){return this.map(function(i){var a=function(o,s){var l=o[1]||"",u=o[3];if(!u)return l;if(s&&typeof btoa=="function"){var c=(f=u,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(f))))+" */"),d=u.sources.map(function(g){return"/*# sourceURL="+u.sourceRoot+g+" */"});return[l].concat(d).concat([c]).join(`
`)}var f;return[l].join(`
`)}(i,e);return i[2]?"@media "+i[2]+"{"+a+"}":a}).join("")},n.i=function(i,a){typeof i=="string"&&(i=[[null,i,""]]);for(var o={},s=0;s<this.length;s++){var l=this[s][0];typeof l=="number"&&(o[l]=!0)}for(s=0;s<i.length;s++){var u=i[s];typeof u[0]=="number"&&o[u[0]]||(a&&!u[2]?u[2]=a:a&&(u[2]="("+u[2]+") and ("+a+")"),n.push(u))}},n}},function(t,r,e){var n,i,a={},o=(n=function(){return window&&document&&document.all&&!window.atob},function(){return i===void 0&&(i=n.apply(this,arguments)),i}),s=function(T){return document.querySelector(T)},l=function(T){var x={};return function(w){if(typeof w=="function")return w();if(x[w]===void 0){var I=s.call(this,w);if(window.HTMLIFrameElement&&I instanceof window.HTMLIFrameElement)try{I=I.contentDocument.head}catch{I=null}x[w]=I}return x[w]}}(),u=null,c=0,d=[],f=e(5);function g(T,x){for(var w=0;w<T.length;w++){var I=T[w],B=a[I.id];if(B){B.refs++;for(var E=0;E<B.parts.length;E++)B.parts[E](I.parts[E]);for(;E<I.parts.length;E++)B.parts.push(v(I.parts[E],x))}else{var _=[];for(E=0;E<I.parts.length;E++)_.push(v(I.parts[E],x));a[I.id]={id:I.id,refs:1,parts:_}}}}function y(T,x){for(var w=[],I={},B=0;B<T.length;B++){var E=T[B],_=x.base?E[0]+x.base:E[0],C={css:E[1],media:E[2],sourceMap:E[3]};I[_]?I[_].parts.push(C):w.push(I[_]={id:_,parts:[C]})}return w}function h(T,x){var w=l(T.insertInto);if(!w)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var I=d[d.length-1];if(T.insertAt==="top")I?I.nextSibling?w.insertBefore(x,I.nextSibling):w.appendChild(x):w.insertBefore(x,w.firstChild),d.push(x);else if(T.insertAt==="bottom")w.appendChild(x);else{if(typeof T.insertAt!="object"||!T.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var B=l(T.insertInto+" "+T.insertAt.before);w.insertBefore(x,B)}}function p(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T);var x=d.indexOf(T);x>=0&&d.splice(x,1)}function m(T){var x=document.createElement("style");return T.attrs.type===void 0&&(T.attrs.type="text/css"),b(x,T.attrs),h(T,x),x}function b(T,x){Object.keys(x).forEach(function(w){T.setAttribute(w,x[w])})}function v(T,x){var w,I,B,E;if(x.transform&&T.css){if(!(E=x.transform(T.css)))return function(){};T.css=E}if(x.singleton){var _=c++;w=u||(u=m(x)),I=O.bind(null,w,_,!1),B=O.bind(null,w,_,!0)}else T.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(w=function(C){var A=document.createElement("link");return C.attrs.type===void 0&&(C.attrs.type="text/css"),C.attrs.rel="stylesheet",b(A,C.attrs),h(C,A),A}(x),I=L.bind(null,w,x),B=function(){p(w),w.href&&URL.revokeObjectURL(w.href)}):(w=m(x),I=R.bind(null,w),B=function(){p(w)});return I(T),function(C){if(C){if(C.css===T.css&&C.media===T.media&&C.sourceMap===T.sourceMap)return;I(T=C)}else B()}}t.exports=function(T,x){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(x=x||{}).attrs=typeof x.attrs=="object"?x.attrs:{},x.singleton||typeof x.singleton=="boolean"||(x.singleton=o()),x.insertInto||(x.insertInto="head"),x.insertAt||(x.insertAt="bottom");var w=y(T,x);return g(w,x),function(I){for(var B=[],E=0;E<w.length;E++){var _=w[E];(C=a[_.id]).refs--,B.push(C)}for(I&&g(y(I,x),x),E=0;E<B.length;E++){var C;if((C=B[E]).refs===0){for(var A=0;A<C.parts.length;A++)C.parts[A]();delete a[C.id]}}}};var k,S=(k=[],function(T,x){return k[T]=x,k.filter(Boolean).join(`
`)});function O(T,x,w,I){var B=w?"":I.css;if(T.styleSheet)T.styleSheet.cssText=S(x,B);else{var E=document.createTextNode(B),_=T.childNodes;_[x]&&T.removeChild(_[x]),_.length?T.insertBefore(E,_[x]):T.appendChild(E)}}function R(T,x){var w=x.css,I=x.media;if(I&&T.setAttribute("media",I),T.styleSheet)T.styleSheet.cssText=w;else{for(;T.firstChild;)T.removeChild(T.firstChild);T.appendChild(document.createTextNode(w))}}function L(T,x,w){var I=w.css,B=w.sourceMap,E=x.convertToAbsoluteUrls===void 0&&B;(x.convertToAbsoluteUrls||E)&&(I=f(I)),B&&(I+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(B))))+" */");var _=new Blob([I],{type:"text/css"}),C=T.href;T.href=URL.createObjectURL(_),C&&URL.revokeObjectURL(C)}},function(t,r){t.exports=function(e){var n=typeof window<"u"&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!e||typeof e!="string")return e;var i=n.protocol+"//"+n.host,a=i+n.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(o,s){var l,u=s.trim().replace(/^"(.*)"$/,function(c,d){return d}).replace(/^'(.*)'$/,function(c,d){return d});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(u)?o:(l=u.indexOf("//")===0?u:u.indexOf("/")===0?i+u:a+u.replace(/^\.\//,""),"url("+JSON.stringify(l)+")")})}},function(t,r,e){"use strict";e.r(r),r.default=`<svg width="10" height="14" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 14">
  <path d="M7.6 8.15H2.25v4.525a1.125 1.125 0 0 1-2.25 0V1.125a1.125 1.125 0 1 1 2.25 0V5.9H7.6V1.125a1.125 1.125 0 0 1 2.25 0v11.55a1.125 1.125 0 0 1-2.25 0V8.15z"/>
</svg>
`}])})});var fr=rt((Ht,gn)=>{(function(t,r){typeof Ht=="object"&&typeof gn=="object"?gn.exports=r():typeof define=="function"&&define.amd?define([],r):typeof Ht=="object"?Ht.ImageTool=r():t.ImageTool=r()})(window,function(){return function(t){var r={};function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=r,e.d=function(n,i,a){e.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:a})},e.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,i){if(1&i&&(n=e(n)),8&i||4&i&&typeof n=="object"&&n&&n.__esModule)return n;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),2&i&&typeof n!="string")for(var o in n)e.d(a,o,function(s){return n[s]}.bind(null,o));return a},e.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(i,"a",i),i},e.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},e.p="/",e(e.s=25)}([function(t,r){function e(n,i){for(var a=0;a<i.length;a++){var o=i[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}t.exports=function(n,i,a){return i&&e(n.prototype,i),a&&e(n,a),n}},function(t,r){t.exports=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t,r,e){t.exports=function(n){var i={};function a(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=i,a.d=function(o,s,l){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(1&s&&(o=a(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var u in o)a.d(l,u,function(c){return o[c]}.bind(null,u));return l},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="",a(a.s=3)}([function(n,i){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}n.exports=a},function(n,i,a){"use strict";(function(o){var s=a(2),l=setTimeout;function u(){}function c(m){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if(typeof m!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(m,this)}function d(m,b){for(;m._state===3;)m=m._value;m._state!==0?(m._handled=!0,c._immediateFn(function(){var v=m._state===1?b.onFulfilled:b.onRejected;if(v!==null){var k;try{k=v(m._value)}catch(S){return void g(b.promise,S)}f(b.promise,k)}else(m._state===1?f:g)(b.promise,m._value)})):m._deferreds.push(b)}function f(m,b){try{if(b===m)throw new TypeError("A promise cannot be resolved with itself.");if(b&&(typeof b=="object"||typeof b=="function")){var v=b.then;if(b instanceof c)return m._state=3,m._value=b,void y(m);if(typeof v=="function")return void p((k=v,S=b,function(){k.apply(S,arguments)}),m)}m._state=1,m._value=b,y(m)}catch(O){g(m,O)}var k,S}function g(m,b){m._state=2,m._value=b,y(m)}function y(m){m._state===2&&m._deferreds.length===0&&c._immediateFn(function(){m._handled||c._unhandledRejectionFn(m._value)});for(var b=0,v=m._deferreds.length;b<v;b++)d(m,m._deferreds[b]);m._deferreds=null}function h(m,b,v){this.onFulfilled=typeof m=="function"?m:null,this.onRejected=typeof b=="function"?b:null,this.promise=v}function p(m,b){var v=!1;try{m(function(k){v||(v=!0,f(b,k))},function(k){v||(v=!0,g(b,k))})}catch(k){if(v)return;v=!0,g(b,k)}}c.prototype.catch=function(m){return this.then(null,m)},c.prototype.then=function(m,b){var v=new this.constructor(u);return d(this,new h(m,b,v)),v},c.prototype.finally=s.a,c.all=function(m){return new c(function(b,v){if(!m||m.length===void 0)throw new TypeError("Promise.all accepts an array");var k=Array.prototype.slice.call(m);if(k.length===0)return b([]);var S=k.length;function O(L,T){try{if(T&&(typeof T=="object"||typeof T=="function")){var x=T.then;if(typeof x=="function")return void x.call(T,function(w){O(L,w)},v)}k[L]=T,--S==0&&b(k)}catch(w){v(w)}}for(var R=0;R<k.length;R++)O(R,k[R])})},c.resolve=function(m){return m&&typeof m=="object"&&m.constructor===c?m:new c(function(b){b(m)})},c.reject=function(m){return new c(function(b,v){v(m)})},c.race=function(m){return new c(function(b,v){for(var k=0,S=m.length;k<S;k++)m[k].then(b,v)})},c._immediateFn=typeof o=="function"&&function(m){o(m)}||function(m){l(m,0)},c._unhandledRejectionFn=function(m){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",m)},i.a=c}).call(this,a(5).setImmediate)},function(n,i,a){"use strict";i.a=function(o){var s=this.constructor;return this.then(function(l){return s.resolve(o()).then(function(){return l})},function(l){return s.resolve(o()).then(function(){return s.reject(l)})})}},function(n,i,a){"use strict";function o(p){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}a(4);var s,l,u,c,d,f,g,y=a(8),h=(l=function(p){return new Promise(function(m,b){p=c(p),(p=d(p)).beforeSend&&p.beforeSend();var v=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");v.open(p.method,p.url),v.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(p.headers).forEach(function(S){var O=p.headers[S];v.setRequestHeader(S,O)});var k=p.ratio;v.upload.addEventListener("progress",function(S){var O=Math.round(S.loaded/S.total*100),R=Math.ceil(O*k/100);p.progress(Math.min(R,100))},!1),v.addEventListener("progress",function(S){var O=Math.round(S.loaded/S.total*100),R=Math.ceil(O*(100-k)/100)+k;p.progress(Math.min(R,100))},!1),v.onreadystatechange=function(){if(v.readyState===4){var S=v.response;try{S=JSON.parse(S)}catch{}var O=y.parseHeaders(v.getAllResponseHeaders()),R={body:S,code:v.status,headers:O};g(v.status)?m(R):b(R)}},v.send(p.data)})},u=function(p){return p.method="POST",l(p)},c=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(p.url&&typeof p.url!="string")throw new Error("Url must be a string");if(p.url=p.url||"",p.method&&typeof p.method!="string")throw new Error("`method` must be a string or null");if(p.method=p.method?p.method.toUpperCase():"GET",p.headers&&o(p.headers)!=="object")throw new Error("`headers` must be an object or null");if(p.headers=p.headers||{},p.type&&(typeof p.type!="string"||!Object.values(s).includes(p.type)))throw new Error("`type` must be taken from module's \xABcontentType\xBB library");if(p.progress&&typeof p.progress!="function")throw new Error("`progress` must be a function or null");if(p.progress=p.progress||function(m){},p.beforeSend=p.beforeSend||function(m){},p.ratio&&typeof p.ratio!="number")throw new Error("`ratio` must be a number");if(p.ratio<0||p.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(p.ratio=p.ratio||90,p.accept&&typeof p.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(p.accept=p.accept||"*/*",p.multiple&&typeof p.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(p.multiple=p.multiple||!1,p.fieldName&&typeof p.fieldName!="string")throw new Error("`fieldName` must be a string");return p.fieldName=p.fieldName||"files",p},d=function(p){switch(p.method){case"GET":var m=f(p.data,s.URLENCODED);delete p.data,p.url=/\?/.test(p.url)?p.url+"&"+m:p.url+"?"+m;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var b=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||s.JSON}(p);(y.isFormData(p.data)||y.isFormElement(p.data))&&(b=s.FORM),p.data=f(p.data,b),b!==h.contentType.FORM&&(p.headers["content-type"]=b)}return p},f=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case s.URLENCODED:return y.urlEncode(p);case s.JSON:return y.jsonEncode(p);case s.FORM:return y.formEncode(p);default:return p}},g=function(p){return p>=200&&p<300},{contentType:s={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:l,get:function(p){return p.method="GET",l(p)},post:u,transport:function(p){return p=c(p),y.selectFiles(p).then(function(m){for(var b=new FormData,v=0;v<m.length;v++)b.append(p.fieldName,m[v],m[v].name);y.isObject(p.data)&&Object.keys(p.data).forEach(function(S){var O=p.data[S];b.append(S,O)});var k=p.beforeSend;return p.beforeSend=function(){return k(m)},p.data=b,u(p)})},selectFiles:function(p){return delete(p=c(p)).beforeSend,y.selectFiles(p)}});n.exports=h},function(n,i,a){"use strict";a.r(i);var o=a(1);window.Promise=window.Promise||o.a},function(n,i,a){(function(o){var s=o!==void 0&&o||typeof self<"u"&&self||window,l=Function.prototype.apply;function u(c,d){this._id=c,this._clearFn=d}i.setTimeout=function(){return new u(l.call(setTimeout,s,arguments),clearTimeout)},i.setInterval=function(){return new u(l.call(setInterval,s,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(c){c&&c.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(s,this._id)},i.enroll=function(c,d){clearTimeout(c._idleTimeoutId),c._idleTimeout=d},i.unenroll=function(c){clearTimeout(c._idleTimeoutId),c._idleTimeout=-1},i._unrefActive=i.active=function(c){clearTimeout(c._idleTimeoutId);var d=c._idleTimeout;d>=0&&(c._idleTimeoutId=setTimeout(function(){c._onTimeout&&c._onTimeout()},d))},a(6),i.setImmediate=typeof self<"u"&&self.setImmediate||o!==void 0&&o.setImmediate||this&&this.setImmediate,i.clearImmediate=typeof self<"u"&&self.clearImmediate||o!==void 0&&o.clearImmediate||this&&this.clearImmediate}).call(this,a(0))},function(n,i,a){(function(o,s){(function(l,u){"use strict";if(!l.setImmediate){var c,d,f,g,y,h=1,p={},m=!1,b=l.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(l);v=v&&v.setTimeout?v:l,{}.toString.call(l.process)==="[object process]"?c=function(O){s.nextTick(function(){S(O)})}:function(){if(l.postMessage&&!l.importScripts){var O=!0,R=l.onmessage;return l.onmessage=function(){O=!1},l.postMessage("","*"),l.onmessage=R,O}}()?(g="setImmediate$"+Math.random()+"$",y=function(O){O.source===l&&typeof O.data=="string"&&O.data.indexOf(g)===0&&S(+O.data.slice(g.length))},l.addEventListener?l.addEventListener("message",y,!1):l.attachEvent("onmessage",y),c=function(O){l.postMessage(g+O,"*")}):l.MessageChannel?((f=new MessageChannel).port1.onmessage=function(O){S(O.data)},c=function(O){f.port2.postMessage(O)}):b&&"onreadystatechange"in b.createElement("script")?(d=b.documentElement,c=function(O){var R=b.createElement("script");R.onreadystatechange=function(){S(O),R.onreadystatechange=null,d.removeChild(R),R=null},d.appendChild(R)}):c=function(O){setTimeout(S,0,O)},v.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var R=new Array(arguments.length-1),L=0;L<R.length;L++)R[L]=arguments[L+1];var T={callback:O,args:R};return p[h]=T,c(h),h++},v.clearImmediate=k}function k(O){delete p[O]}function S(O){if(m)setTimeout(S,0,O);else{var R=p[O];if(R){m=!0;try{(function(L){var T=L.callback,x=L.args;switch(x.length){case 0:T();break;case 1:T(x[0]);break;case 2:T(x[0],x[1]);break;case 3:T(x[0],x[1],x[2]);break;default:T.apply(void 0,x)}})(R)}finally{k(O),m=!1}}}}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,a(0),a(7))},function(n,i){var a,o,s=n.exports={};function l(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(v){if(a===setTimeout)return setTimeout(v,0);if((a===l||!a)&&setTimeout)return a=setTimeout,setTimeout(v,0);try{return a(v,0)}catch{try{return a.call(null,v,0)}catch{return a.call(this,v,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:l}catch{a=l}try{o=typeof clearTimeout=="function"?clearTimeout:u}catch{o=u}})();var d,f=[],g=!1,y=-1;function h(){g&&d&&(g=!1,d.length?f=d.concat(f):y=-1,f.length&&p())}function p(){if(!g){var v=c(h);g=!0;for(var k=f.length;k;){for(d=f,f=[];++y<k;)d&&d[y].run();y=-1,k=f.length}d=null,g=!1,function(S){if(o===clearTimeout)return clearTimeout(S);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(S);try{o(S)}catch{try{return o.call(null,S)}catch{return o.call(this,S)}}}(v)}}function m(v,k){this.fun=v,this.array=k}function b(){}s.nextTick=function(v){var k=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)k[S-1]=arguments[S];f.push(new m(v,k)),f.length!==1||g||c(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=b,s.addListener=b,s.once=b,s.off=b,s.removeListener=b,s.removeAllListeners=b,s.emit=b,s.prependListener=b,s.prependOnceListener=b,s.listeners=function(v){return[]},s.binding=function(v){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(v){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(n,i,a){function o(l,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}var s=a(9);n.exports=function(){function l(){(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,l)}var u,c;return u=l,(c=[{key:"urlEncode",value:function(d){return s(d)}},{key:"jsonEncode",value:function(d){return JSON.stringify(d)}},{key:"formEncode",value:function(d){if(this.isFormData(d))return d;if(this.isFormElement(d))return new FormData(d);if(this.isObject(d)){var f=new FormData;return Object.keys(d).forEach(function(g){var y=d[g];f.append(g,y)}),f}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(d){return Object.prototype.toString.call(d)==="[object Object]"}},{key:"isFormData",value:function(d){return d instanceof FormData}},{key:"isFormElement",value:function(d){return d instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(f,g){var y=document.createElement("INPUT");y.type="file",d.multiple&&y.setAttribute("multiple","multiple"),d.accept&&y.setAttribute("accept",d.accept),y.style.display="none",document.body.appendChild(y),y.addEventListener("change",function(h){var p=h.target.files;f(p),document.body.removeChild(y)},!1),y.click()})}},{key:"parseHeaders",value:function(d){var f=d.trim().split(/[\r\n]+/),g={};return f.forEach(function(y){var h=y.split(": "),p=h.shift(),m=h.join(": ");p&&(g[p]=m)}),g}}])&&o(u,c),l}()},function(n,i){var a=function(s){return encodeURIComponent(s).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},o=function(s,l,u,c){return l=l||null,u=u||"&",c=c||null,s?function(d){for(var f=new Array,g=0;g<d.length;g++)d[g]&&f.push(d[g]);return f}(Object.keys(s).map(function(d){var f,g,y=d;if(c&&(y=c+"["+y+"]"),typeof s[d]=="object"&&s[d]!==null)f=o(s[d],null,u,y);else{l&&(g=y,y=!isNaN(parseFloat(g))&&isFinite(g)?l+Number(y):y);var h=s[d];h=(h=(h=(h=h===!0?"1":h)===!1?"0":h)===0?"0":h)||"",f=a(y)+"="+a(h)}return f})).join(u).replace(/[!'()*]/g,""):""};n.exports=o}])},function(t,r,e){t.exports=e(14)},function(t,r){t.exports=function(e,n){(n==null||n>e.length)&&(n=e.length);for(var i=0,a=new Array(n);i<n;i++)a[i]=e[i];return a}},function(t,r,e){var n=e(4);t.exports=function(i,a){if(i){if(typeof i=="string")return n(i,a);var o=Object.prototype.toString.call(i).slice(8,-1);return o==="Object"&&i.constructor&&(o=i.constructor.name),o==="Map"||o==="Set"?Array.from(o):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(i,a):void 0}}},function(t,r){function e(n,i,a,o,s,l,u){try{var c=n[l](u),d=c.value}catch(f){return void a(f)}c.done?i(d):Promise.resolve(d).then(o,s)}t.exports=function(n){return function(){var i=this,a=arguments;return new Promise(function(o,s){var l=n.apply(i,a);function u(d){e(l,o,s,u,c,"next",d)}function c(d){e(l,o,s,u,c,"throw",d)}u(void 0)})}}},function(t,r,e){var n=e(19),i=e(20),a=e(5),o=e(21);t.exports=function(s){return n(s)||i(s)||a(s)||o()}},function(t,r){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.15 13.628A7.749 7.749 0 0 0 10 17.75a7.74 7.74 0 0 0 6.305-3.242l-2.387-2.127-2.765 2.244-4.389-4.496-3.614 3.5zm-.787-2.303l4.446-4.371 4.52 4.63 2.534-2.057 3.533 2.797c.23-.734.354-1.514.354-2.324a7.75 7.75 0 1 0-15.387 1.325zM10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10z"></path></svg>'},function(t,r){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.043 8.265l3.183-3.183h-2.924L4.75 10.636v2.923l4.15-4.15v2.351l-2.158 2.159H8.9v2.137H4.7c-1.215 0-2.2-.936-2.2-2.09v-8.93c0-1.154.985-2.09 2.2-2.09h10.663l.033-.033.034.034c1.178.04 2.12.96 2.12 2.089v3.23H15.3V5.359l-2.906 2.906h-2.35zM7.951 5.082H4.75v3.201l3.201-3.2zm5.099 7.078v3.04h4.15v-3.04h-4.15zm-1.1-2.137h6.35c.635 0 1.15.489 1.15 1.092v5.13c0 .603-.515 1.092-1.15 1.092h-6.35c-.635 0-1.15-.489-1.15-1.092v-5.13c0-.603.515-1.092 1.15-1.092z"></path></svg>'},function(t,r){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.8 10.592v2.043h2.35v2.138H15.8v2.232h-2.25v-2.232h-2.4v-2.138h2.4v-2.28h2.25v.237h1.15-1.15zM1.9 8.455v-3.42c0-1.154.985-2.09 2.2-2.09h4.2v2.137H4.15v3.373H1.9zm0 2.137h2.25v3.325H8.3v2.138H4.1c-1.215 0-2.2-.936-2.2-2.09v-3.373zm15.05-2.137H14.7V5.082h-4.15V2.945h4.2c1.215 0 2.2.936 2.2 2.09v3.42z"></path></svg>'},function(t,r){t.exports='<svg width="17" height="10" viewBox="0 0 17 10" xmlns="http://www.w3.org/2000/svg"><path d="M13.568 5.925H4.056l1.703 1.703a1.125 1.125 0 0 1-1.59 1.591L.962 6.014A1.069 1.069 0 0 1 .588 4.26L4.38.469a1.069 1.069 0 0 1 1.512 1.511L4.084 3.787h9.606l-1.85-1.85a1.069 1.069 0 1 1 1.512-1.51l3.792 3.791a1.069 1.069 0 0 1-.475 1.788L13.514 9.16a1.125 1.125 0 0 1-1.59-1.591l1.644-1.644z"></path></svg>'},function(t,r){t.exports='<svg width="17" height="15" viewBox="0 0 336 276" xmlns="http://www.w3.org/2000/svg"><path d="M291 150.242V79c0-18.778-15.222-34-34-34H79c-18.778 0-34 15.222-34 34v42.264l67.179-44.192 80.398 71.614 56.686-29.14L291 150.242zm-.345 51.622l-42.3-30.246-56.3 29.884-80.773-66.925L45 174.187V197c0 18.778 15.222 34 34 34h178c17.126 0 31.295-12.663 33.655-29.136zM79 0h178c43.63 0 79 35.37 79 79v118c0 43.63-35.37 79-79 79H79c-43.63 0-79-35.37-79-79V79C0 35.37 35.37 0 79 0z"></path></svg>'},function(t,r,e){var n=e(22),i=e(23),a=e(5),o=e(24);t.exports=function(s,l){return n(s)||i(s,l)||a(s,l)||o()}},function(t,r,e){var n=function(i){"use strict";var a=Object.prototype,o=a.hasOwnProperty,s=typeof Symbol=="function"?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(B,E,_,C){var A=E&&E.prototype instanceof y?E:y,D=Object.create(A.prototype),P=new x(C||[]);return D._invoke=function(M,N,F){var j="suspendedStart";return function(H,U){if(j==="executing")throw new Error("Generator is already running");if(j==="completed"){if(H==="throw")throw U;return I()}for(F.method=H,F.arg=U;;){var z=F.delegate;if(z){var V=R(z,F);if(V){if(V===g)continue;return V}}if(F.method==="next")F.sent=F._sent=F.arg;else if(F.method==="throw"){if(j==="suspendedStart")throw j="completed",F.arg;F.dispatchException(F.arg)}else F.method==="return"&&F.abrupt("return",F.arg);j="executing";var X=f(M,N,F);if(X.type==="normal"){if(j=F.done?"completed":"suspendedYield",X.arg===g)continue;return{value:X.arg,done:F.done}}X.type==="throw"&&(j="completed",F.method="throw",F.arg=X.arg)}}}(B,_,P),D}function f(B,E,_){try{return{type:"normal",arg:B.call(E,_)}}catch(C){return{type:"throw",arg:C}}}i.wrap=d;var g={};function y(){}function h(){}function p(){}var m={};m[l]=function(){return this};var b=Object.getPrototypeOf,v=b&&b(b(w([])));v&&v!==a&&o.call(v,l)&&(m=v);var k=p.prototype=y.prototype=Object.create(m);function S(B){["next","throw","return"].forEach(function(E){B[E]=function(_){return this._invoke(E,_)}})}function O(B,E){var _;this._invoke=function(C,A){function D(){return new E(function(P,M){(function N(F,j,H,U){var z=f(B[F],B,j);if(z.type!=="throw"){var V=z.arg,X=V.value;return X&&typeof X=="object"&&o.call(X,"__await")?E.resolve(X.__await).then(function(q){N("next",q,H,U)},function(q){N("throw",q,H,U)}):E.resolve(X).then(function(q){V.value=q,H(V)},function(q){return N("throw",q,H,U)})}U(z.arg)})(C,A,P,M)})}return _=_?_.then(D,D):D()}}function R(B,E){var _=B.iterator[E.method];if(_===void 0){if(E.delegate=null,E.method==="throw"){if(B.iterator.return&&(E.method="return",E.arg=void 0,R(B,E),E.method==="throw"))return g;E.method="throw",E.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var C=f(_,B.iterator,E.arg);if(C.type==="throw")return E.method="throw",E.arg=C.arg,E.delegate=null,g;var A=C.arg;return A?A.done?(E[B.resultName]=A.value,E.next=B.nextLoc,E.method!=="return"&&(E.method="next",E.arg=void 0),E.delegate=null,g):A:(E.method="throw",E.arg=new TypeError("iterator result is not an object"),E.delegate=null,g)}function L(B){var E={tryLoc:B[0]};1 in B&&(E.catchLoc=B[1]),2 in B&&(E.finallyLoc=B[2],E.afterLoc=B[3]),this.tryEntries.push(E)}function T(B){var E=B.completion||{};E.type="normal",delete E.arg,B.completion=E}function x(B){this.tryEntries=[{tryLoc:"root"}],B.forEach(L,this),this.reset(!0)}function w(B){if(B){var E=B[l];if(E)return E.call(B);if(typeof B.next=="function")return B;if(!isNaN(B.length)){var _=-1,C=function A(){for(;++_<B.length;)if(o.call(B,_))return A.value=B[_],A.done=!1,A;return A.value=void 0,A.done=!0,A};return C.next=C}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=k.constructor=p,p.constructor=h,p[c]=h.displayName="GeneratorFunction",i.isGeneratorFunction=function(B){var E=typeof B=="function"&&B.constructor;return!!E&&(E===h||(E.displayName||E.name)==="GeneratorFunction")},i.mark=function(B){return Object.setPrototypeOf?Object.setPrototypeOf(B,p):(B.__proto__=p,c in B||(B[c]="GeneratorFunction")),B.prototype=Object.create(k),B},i.awrap=function(B){return{__await:B}},S(O.prototype),O.prototype[u]=function(){return this},i.AsyncIterator=O,i.async=function(B,E,_,C,A){A===void 0&&(A=Promise);var D=new O(d(B,E,_,C),A);return i.isGeneratorFunction(E)?D:D.next().then(function(P){return P.done?P.value:D.next()})},S(k),k[c]="Generator",k[l]=function(){return this},k.toString=function(){return"[object Generator]"},i.keys=function(B){var E=[];for(var _ in B)E.push(_);return E.reverse(),function C(){for(;E.length;){var A=E.pop();if(A in B)return C.value=A,C.done=!1,C}return C.done=!0,C}},i.values=w,x.prototype={constructor:x,reset:function(B){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!B)for(var E in this)E.charAt(0)==="t"&&o.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=void 0)},stop:function(){this.done=!0;var B=this.tryEntries[0].completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var E=this;function _(N,F){return D.type="throw",D.arg=B,E.next=N,F&&(E.method="next",E.arg=void 0),!!F}for(var C=this.tryEntries.length-1;C>=0;--C){var A=this.tryEntries[C],D=A.completion;if(A.tryLoc==="root")return _("end");if(A.tryLoc<=this.prev){var P=o.call(A,"catchLoc"),M=o.call(A,"finallyLoc");if(P&&M){if(this.prev<A.catchLoc)return _(A.catchLoc,!0);if(this.prev<A.finallyLoc)return _(A.finallyLoc)}else if(P){if(this.prev<A.catchLoc)return _(A.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<A.finallyLoc)return _(A.finallyLoc)}}}},abrupt:function(B,E){for(var _=this.tryEntries.length-1;_>=0;--_){var C=this.tryEntries[_];if(C.tryLoc<=this.prev&&o.call(C,"finallyLoc")&&this.prev<C.finallyLoc){var A=C;break}}A&&(B==="break"||B==="continue")&&A.tryLoc<=E&&E<=A.finallyLoc&&(A=null);var D=A?A.completion:{};return D.type=B,D.arg=E,A?(this.method="next",this.next=A.finallyLoc,g):this.complete(D)},complete:function(B,E){if(B.type==="throw")throw B.arg;return B.type==="break"||B.type==="continue"?this.next=B.arg:B.type==="return"?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):B.type==="normal"&&E&&(this.next=E),g},finish:function(B){for(var E=this.tryEntries.length-1;E>=0;--E){var _=this.tryEntries[E];if(_.finallyLoc===B)return this.complete(_.completion,_.afterLoc),T(_),g}},catch:function(B){for(var E=this.tryEntries.length-1;E>=0;--E){var _=this.tryEntries[E];if(_.tryLoc===B){var C=_.completion;if(C.type==="throw"){var A=C.arg;T(_)}return A}}throw new Error("illegal catch attempt")},delegateYield:function(B,E,_){return this.delegate={iterator:w(B),resultName:E,nextLoc:_},this.method==="next"&&(this.arg=void 0),g}},i}(t.exports);try{regeneratorRuntime=n}catch{Function("r","regeneratorRuntime = r")(n)}},function(t,r,e){var n=e(16),i=e(17);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[t.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});t.exports=o},function(t,r,e){"use strict";var n,i=function(){return n===void 0&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},a=function(){var m={};return function(b){if(m[b]===void 0){var v=document.querySelector(b);if(window.HTMLIFrameElement&&v instanceof window.HTMLIFrameElement)try{v=v.contentDocument.head}catch{v=null}m[b]=v}return m[b]}}(),o=[];function s(m){for(var b=-1,v=0;v<o.length;v++)if(o[v].identifier===m){b=v;break}return b}function l(m,b){for(var v={},k=[],S=0;S<m.length;S++){var O=m[S],R=b.base?O[0]+b.base:O[0],L=v[R]||0,T="".concat(R," ").concat(L);v[R]=L+1;var x=s(T),w={css:O[1],media:O[2],sourceMap:O[3]};x!==-1?(o[x].references++,o[x].updater(w)):o.push({identifier:T,updater:p(w,b),references:1}),k.push(T)}return k}function u(m){var b=document.createElement("style"),v=m.attributes||{};if(v.nonce===void 0){var k=e.nc;k&&(v.nonce=k)}if(Object.keys(v).forEach(function(O){b.setAttribute(O,v[O])}),typeof m.insert=="function")m.insert(b);else{var S=a(m.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(b)}return b}var c,d=(c=[],function(m,b){return c[m]=b,c.filter(Boolean).join(`
`)});function f(m,b,v,k){var S=v?"":k.media?"@media ".concat(k.media," {").concat(k.css,"}"):k.css;if(m.styleSheet)m.styleSheet.cssText=d(b,S);else{var O=document.createTextNode(S),R=m.childNodes;R[b]&&m.removeChild(R[b]),R.length?m.insertBefore(O,R[b]):m.appendChild(O)}}function g(m,b,v){var k=v.css,S=v.media,O=v.sourceMap;if(S?m.setAttribute("media",S):m.removeAttribute("media"),O&&btoa&&(k+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(O))))," */")),m.styleSheet)m.styleSheet.cssText=k;else{for(;m.firstChild;)m.removeChild(m.firstChild);m.appendChild(document.createTextNode(k))}}var y=null,h=0;function p(m,b){var v,k,S;if(b.singleton){var O=h++;v=y||(y=u(b)),k=f.bind(null,v,O,!1),S=f.bind(null,v,O,!0)}else v=u(b),k=g.bind(null,v,b),S=function(){(function(R){if(R.parentNode===null)return!1;R.parentNode.removeChild(R)})(v)};return k(m),function(R){if(R){if(R.css===m.css&&R.media===m.media&&R.sourceMap===m.sourceMap)return;k(m=R)}else S()}}t.exports=function(m,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=i());var v=l(m=m||[],b);return function(k){if(k=k||[],Object.prototype.toString.call(k)==="[object Array]"){for(var S=0;S<v.length;S++){var O=s(v[S]);o[O].references--}for(var R=l(k,b),L=0;L<v.length;L++){var T=s(v[L]);o[T].references===0&&(o[T].updater(),o.splice(T,1))}v=R}}}},function(t,r,e){(r=e(18)(!1)).push([t.i,`.image-tool {
  --bg-color: #cdd1e0;
  --front-color: #388ae5;
  --border-color: #e8e8eb;
}

  .image-tool__image {
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 10px;
  }

  .image-tool__image-picture {
      max-width: 100%;
      vertical-align: bottom;
      display: block;
    }

  .image-tool__image-preloader {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-size: cover;
      margin: auto;
      position: relative;
      background-color: var(--bg-color);
      background-position: center center;
    }

  .image-tool__image-preloader::after {
        content: "";
        position: absolute;
        z-index: 3;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        border: 2px solid var(--bg-color);
        border-top-color: var(--front-color);
        left: 50%;
        top: 50%;
        margin-top: -30px;
        margin-left: -30px;
        animation: image-preloader-spin 2s infinite linear;
        box-sizing: border-box;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]::before {
      position: absolute !important;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      display: none;
    }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty::before {
        display: block;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty:focus::before {
        display: none;
      }

  .image-tool--empty .image-tool__image {
      display: none;
    }

  .image-tool--empty .image-tool__caption, .image-tool--loading .image-tool__caption {
      display: none;
    }

  .image-tool--filled .cdx-button {
      display: none;
    }

  .image-tool--filled .image-tool__image-preloader {
        display: none;
      }

  .image-tool--loading .image-tool__image {
      min-height: 200px;
      display: flex;
      border: 1px solid var(--border-color);
      background-color: #fff;
    }

  .image-tool--loading .image-tool__image-picture {
        display: none;
      }

  .image-tool--loading .cdx-button {
      display: none;
    }

  /**
   * Tunes
   * ----------------
   */

  .image-tool--withBorder .image-tool__image {
      border: 1px solid var(--border-color);
    }

  .image-tool--withBackground .image-tool__image {
      padding: 15px;
      background: var(--bg-color);
    }

  .image-tool--withBackground .image-tool__image-picture {
        max-width: 60%;
        margin: 0 auto;
      }

  .image-tool--stretched .image-tool__image-picture {
        width: 100%;
      }

@keyframes image-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),t.exports=r},function(t,r,e){"use strict";t.exports=function(n){var i=[];return i.toString=function(){return this.map(function(a){var o=function(s,l){var u=s[1]||"",c=s[3];if(!c)return u;if(l&&typeof btoa=="function"){var d=(g=c,y=btoa(unescape(encodeURIComponent(JSON.stringify(g)))),h="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(y),"/*# ".concat(h," */")),f=c.sources.map(function(p){return"/*# sourceURL=".concat(c.sourceRoot||"").concat(p," */")});return[u].concat(f).concat([d]).join(`
`)}var g,y,h;return[u].join(`
`)}(a,n);return a[2]?"@media ".concat(a[2]," {").concat(o,"}"):o}).join("")},i.i=function(a,o,s){typeof a=="string"&&(a=[[null,a,""]]);var l={};if(s)for(var u=0;u<this.length;u++){var c=this[u][0];c!=null&&(l[c]=!0)}for(var d=0;d<a.length;d++){var f=[].concat(a[d]);s&&l[f[0]]||(o&&(f[2]?f[2]="".concat(o," and ").concat(f[2]):f[2]=o),i.push(f))}},i}},function(t,r,e){var n=e(4);t.exports=function(i){if(Array.isArray(i))return n(i)}},function(t,r){t.exports=function(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}},function(t,r){t.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(t,r){t.exports=function(e){if(Array.isArray(e))return e}},function(t,r){t.exports=function(e,n){if(typeof Symbol<"u"&&Symbol.iterator in Object(e)){var i=[],a=!0,o=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(a=(l=u.next()).done)&&(i.push(l.value),!n||i.length!==n);a=!0);}catch(c){o=!0,s=c}finally{try{a||u.return==null||u.return()}finally{if(o)throw s}}return i}}},function(t,r){t.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(t,r,e){"use strict";e.r(r),e.d(r,"default",function(){return C});var n=e(3),i=e.n(n),a=e(6),o=e.n(a),s=e(1),l=e.n(s),u=e(0),c=e.n(u),d=(e(15),e(7)),f=e.n(d),g=e(8),y=e.n(g),h=function(){function A(D){var P=D.api,M=D.config,N=D.onSelectFile,F=D.readOnly;l()(this,A),this.api=P,this.config=M,this.onSelectFile=N,this.readOnly=F,this.nodes={wrapper:p("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:p("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:p("div",this.CSS.imagePreloader),caption:p("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}return c()(A,[{key:"render",value:function(D){return D.file&&Object.keys(D.file).length!==0?this.toggleStatus(A.status.UPLOADING):this.toggleStatus(A.status.EMPTY),this.nodes.wrapper}},{key:"createFileButton",value:function(){var D=this,P=p("div",[this.CSS.button]);return P.innerHTML=this.config.buttonContent||"".concat(y.a," ").concat(this.api.i18n.t("Select an Image")),P.addEventListener("click",function(){D.onSelectFile()}),P}},{key:"showPreloader",value:function(D){this.nodes.imagePreloader.style.backgroundImage="url(".concat(D,")"),this.toggleStatus(A.status.UPLOADING)}},{key:"hidePreloader",value:function(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(A.status.EMPTY)}},{key:"fillImage",value:function(D){var P=this,M=/\.mp4$/.test(D)?"VIDEO":"IMG",N={src:D},F="load";M==="VIDEO"&&(N.autoplay=!0,N.loop=!0,N.muted=!0,N.playsinline=!0,F="loadeddata"),this.nodes.imageEl=p(M,this.CSS.imageEl,N),this.nodes.imageEl.addEventListener(F,function(){P.toggleStatus(A.status.FILLED),P.nodes.imagePreloader&&(P.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}},{key:"fillCaption",value:function(D){this.nodes.caption&&(this.nodes.caption.innerHTML=D)}},{key:"toggleStatus",value:function(D){for(var P in A.status)Object.prototype.hasOwnProperty.call(A.status,P)&&this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(A.status[P]),D===A.status[P])}},{key:"applyTune",value:function(D,P){this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(D),P)}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}}],[{key:"status",get:function(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}}]),A}(),p=function(A){var D,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},N=document.createElement(A);Array.isArray(P)?(D=N.classList).add.apply(D,f()(P)):P&&N.classList.add(P);for(var F in M)N[F]=M[F];return N},m=e(9),b=e.n(m),v=e(10),k=e.n(v),S=e(11),O=e.n(S),R=function(){function A(D){var P=D.api,M=D.actions,N=D.onChange;l()(this,A),this.api=P,this.actions=M,this.onChange=N,this.buttons=[]}return c()(A,[{key:"render",value:function(D){var P=this,M=p("div",this.CSS.wrapper);return this.buttons=[],A.tunes.concat(this.actions).forEach(function(N){var F=P.api.i18n.t(N.title),j=p("div",[P.CSS.buttonBase,P.CSS.button],{innerHTML:N.icon,title:F});j.addEventListener("click",function(){P.tuneClicked(N.name,N.action)}),j.dataset.tune=N.name,j.classList.toggle(P.CSS.buttonActive,D[N.name]),P.buttons.push(j),P.api.tooltip.onHover(j,F,{placement:"top"}),M.appendChild(j)}),M}},{key:"tuneClicked",value:function(D,P){if(typeof P=="function"&&!P(D))return!1;var M=this.buttons.find(function(N){return N.dataset.tune===D});M.classList.toggle(this.CSS.buttonActive,!M.classList.contains(this.CSS.buttonActive)),this.onChange(D)}},{key:"CSS",get:function(){return{wrapper:"",buttonBase:this.api.styles.settingsButton,button:"image-tool__tune",buttonActive:this.api.styles.settingsButtonActive}}}],[{key:"tunes",get:function(){return[{name:"withBorder",icon:k.a,title:"With border"},{name:"stretched",icon:O.a,title:"Stretch image"},{name:"withBackground",icon:b.a,title:"With background"}]}}]),A}(),L=e(12),T=e.n(L),x=e(13),w=e.n(x),I=e(2),B=e.n(I),E=function(){function A(D){var P=D.config,M=D.onUpload,N=D.onError;l()(this,A),this.config=P,this.onUpload=M,this.onError=N}return c()(A,[{key:"uploadSelectedFile",value:function(D){var P=this,M=D.onPreview,N=function(F){var j=new FileReader;j.readAsDataURL(F),j.onload=function(H){M(H.target.result)}};(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?B.a.selectFiles({accept:this.config.types}).then(function(F){N(F[0]);var j=P.config.uploader.uploadByFile(F[0]);return _(j)||console.warn("Custom uploader method uploadByFile should return a Promise"),j}):B.a.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:function(F){N(F[0])},fieldName:this.config.field}).then(function(F){return F.body})).then(function(F){P.onUpload(F)}).catch(function(F){P.onError(F)})}},{key:"uploadByUrl",value:function(D){var P,M=this;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?_(P=this.config.uploader.uploadByUrl(D))||console.warn("Custom uploader method uploadByUrl should return a Promise"):P=B.a.post({url:this.config.endpoints.byUrl,data:Object.assign({url:D},this.config.additionalRequestData),type:B.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(N){return N.body}),P.then(function(N){M.onUpload(N)}).catch(function(N){M.onError(N)})}},{key:"uploadByFile",value:function(D,P){var M,N=this,F=P.onPreview,j=new FileReader;if(j.readAsDataURL(D),j.onload=function(U){F(U.target.result)},this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")_(M=this.config.uploader.uploadByFile(D))||console.warn("Custom uploader method uploadByFile should return a Promise");else{var H=new FormData;H.append(this.config.field,D),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(function(U){var z=w()(U,2),V=z[0],X=z[1];H.append(V,X)}),M=B.a.post({url:this.config.endpoints.byFile,data:H,type:B.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(U){return U.body})}M.then(function(U){N.onUpload(U)}).catch(function(U){N.onError(U)})}}]),A}();function _(A){return A&&typeof A.then=="function"}var C=function(){function A(P){var M=this,N=P.data,F=P.config,j=P.api,H=P.readOnly;l()(this,A),this.api=j,this.readOnly=H,this.config={endpoints:F.endpoints||"",additionalRequestData:F.additionalRequestData||{},additionalRequestHeaders:F.additionalRequestHeaders||{},field:F.field||"image",types:F.types||"image/*",captionPlaceholder:this.api.i18n.t(F.captionPlaceholder||"Caption"),buttonContent:F.buttonContent||"",uploader:F.uploader||void 0,actions:F.actions||[]},this.uploader=new E({config:this.config,onUpload:function(U){return M.onUpload(U)},onError:function(U){return M.uploadingFailed(U)}}),this.ui=new h({api:j,config:this.config,onSelectFile:function(){M.uploader.uploadSelectedFile({onPreview:function(U){M.ui.showPreloader(U)}})},readOnly:H}),this.tunes=new R({api:j,actions:this.config.actions,onChange:function(U){return M.tuneToggled(U)}}),this._data={},this.data=N}var D;return c()(A,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:T.a,title:"Image"}}}]),c()(A,[{key:"render",value:function(){return this.ui.render(this.data)}},{key:"validate",value:function(P){return P.file&&P.file.url}},{key:"save",value:function(){var P=this.ui.nodes.caption;return this._data.caption=P.innerHTML,this.data}},{key:"renderSettings",value:function(){return this.tunes.render(this.data)}},{key:"appendCallback",value:function(){this.ui.nodes.fileButton.click()}},{key:"onPaste",value:(D=o()(i.a.mark(function P(M){var N,F,j,H,U;return i.a.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:z.t0=M.type,z.next=z.t0==="tag"?3:z.t0==="pattern"?15:z.t0==="file"?18:21;break;case 3:if(N=M.detail.data,!/^blob:/.test(N.src)){z.next=13;break}return z.next=7,fetch(N.src);case 7:return F=z.sent,z.next=10,F.blob();case 10:return j=z.sent,this.uploadFile(j),z.abrupt("break",21);case 13:return this.uploadUrl(N.src),z.abrupt("break",21);case 15:return H=M.detail.data,this.uploadUrl(H),z.abrupt("break",21);case 18:return U=M.detail.file,this.uploadFile(U),z.abrupt("break",21);case 21:case"end":return z.stop()}},P,this)})),function(P){return D.apply(this,arguments)})},{key:"onUpload",value:function(P){P.success&&P.file?this.image=P.file:this.uploadingFailed("incorrect response: "+JSON.stringify(P))}},{key:"uploadingFailed",value:function(P){console.log("Image Tool: uploading failed because of",P),this.api.notifier.show({message:this.api.i18n.t("Couldn\u2019t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}},{key:"tuneToggled",value:function(P){this.setTune(P,!this._data[P])}},{key:"setTune",value:function(P,M){var N=this;this._data[P]=M,this.ui.applyTune(P,M),P==="stretched"&&Promise.resolve().then(function(){var F=N.api.blocks.getCurrentBlockIndex();N.api.blocks.stretchBlock(F,M)}).catch(function(F){console.error(F)})}},{key:"uploadFile",value:function(P){var M=this;this.uploader.uploadByFile(P,{onPreview:function(N){M.ui.showPreloader(N)}})}},{key:"uploadUrl",value:function(P){this.ui.showPreloader(P),this.uploader.uploadByUrl(P)}},{key:"data",set:function(P){var M=this;this.image=P.file,this._data.caption=P.caption||"",this.ui.fillCaption(this._data.caption),R.tunes.forEach(function(N){var F=N.name,j=P[F]!==void 0&&(P[F]===!0||P[F]==="true");M.setTune(F,j)})},get:function(){return this._data}},{key:"image",set:function(P){this._data.file=P||{},P&&P.url&&this.ui.fillImage(P.url)}}],[{key:"pasteConfig",get:function(){return{tags:["img"],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png)$/i},files:{mimeTypes:["image/*"]}}}}]),A}()}]).default})});var hr=rt((Ut,vn)=>{(function(t,r){typeof Ut=="object"&&typeof vn=="object"?vn.exports=r():typeof define=="function"&&define.amd?define([],r):typeof Ut=="object"?Ut.List=r():t.List=r()})(window,function(){return function(t){var r={};function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=r,e.d=function(n,i,a){e.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:a})},e.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,i){if(1&i&&(n=e(n)),8&i||4&i&&typeof n=="object"&&n&&n.__esModule)return n;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),2&i&&typeof n!="string")for(var o in n)e.d(a,o,function(s){return n[s]}.bind(null,o));return a},e.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(i,"a",i),i},e.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},e.p="/",e(e.s=0)}([function(t,r,e){function n(l){return function(u){if(Array.isArray(u))return i(u)}(l)||function(u){if(typeof Symbol<"u"&&Symbol.iterator in Object(u))return Array.from(u)}(l)||function(u,c){if(!!u){if(typeof u=="string")return i(u,c);var d=Object.prototype.toString.call(u).slice(8,-1);if(d==="Object"&&u.constructor&&(d=u.constructor.name),d==="Map"||d==="Set")return Array.from(u);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return i(u,c)}}(l)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function i(l,u){(u==null||u>l.length)&&(u=l.length);for(var c=0,d=new Array(u);c<u;c++)d[c]=l[c];return d}function a(l,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function o(l,u,c){return u&&a(l.prototype,u),c&&a(l,c),l}e(1).toString();var s=function(){function l(u){var c=u.data,d=u.config,f=u.api,g=u.readOnly;(function(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this._elements={wrapper:null},this.api=f,this.readOnly=g,this.settings=[{name:"unordered",title:this.api.i18n.t("Unordered"),icon:'<svg width="17" height="13" viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg"> <path d="M5.625 4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0-4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0 9.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm-4.5-5a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0-4.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0 9.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25z"/></svg>',default:d.defaultStyle==="unordered"||!1},{name:"ordered",title:this.api.i18n.t("Ordered"),icon:'<svg width="17" height="13" viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg"><path d="M5.819 4.607h9.362a1.069 1.069 0 0 1 0 2.138H5.82a1.069 1.069 0 1 1 0-2.138zm0-4.607h9.362a1.069 1.069 0 0 1 0 2.138H5.82a1.069 1.069 0 1 1 0-2.138zm0 9.357h9.362a1.069 1.069 0 0 1 0 2.138H5.82a1.069 1.069 0 0 1 0-2.137zM1.468 4.155V1.33c-.554.404-.926.606-1.118.606a.338.338 0 0 1-.244-.104A.327.327 0 0 1 0 1.59c0-.107.035-.184.105-.234.07-.05.192-.114.369-.192.264-.118.475-.243.633-.373.158-.13.298-.276.42-.438a3.94 3.94 0 0 1 .238-.298C1.802.019 1.872 0 1.975 0c.115 0 .208.042.277.127.07.085.105.202.105.351v3.556c0 .416-.15.624-.448.624a.421.421 0 0 1-.32-.127c-.08-.085-.121-.21-.121-.376zm-.283 6.664h1.572c.156 0 .275.03.358.091a.294.294 0 0 1 .123.25.323.323 0 0 1-.098.238c-.065.065-.164.097-.296.097H.629a.494.494 0 0 1-.353-.119.372.372 0 0 1-.126-.28c0-.068.027-.16.081-.273a.977.977 0 0 1 .178-.268c.267-.264.507-.49.722-.678.215-.188.368-.312.46-.371.165-.11.302-.222.412-.334.109-.112.192-.226.25-.344a.786.786 0 0 0 .085-.345.6.6 0 0 0-.341-.553.75.75 0 0 0-.345-.08c-.263 0-.47.11-.62.329-.02.029-.054.107-.101.235a.966.966 0 0 1-.16.295c-.059.069-.145.103-.26.103a.348.348 0 0 1-.25-.094.34.34 0 0 1-.099-.258c0-.132.031-.27.093-.413.063-.143.155-.273.279-.39.123-.116.28-.21.47-.282.189-.072.411-.107.666-.107.307 0 .569.045.786.137a1.182 1.182 0 0 1 .618.623 1.18 1.18 0 0 1-.096 1.083 2.03 2.03 0 0 1-.378.457c-.128.11-.344.282-.646.517-.302.235-.509.417-.621.547a1.637 1.637 0 0 0-.148.187z"/></svg>',default:d.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(function(y){return y.default===!0}).name,items:[]},this.data=c}return o(l,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg width="17" height="13" viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg"> <path d="M5.625 4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0-4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0 9.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm-4.5-5a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0-4.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0 9.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25z"/></svg>',title:"List"}}}]),o(l,[{key:"render",value:function(){var u=this;return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(function(c){u._elements.wrapper.appendChild(u._make("li",u.CSS.item,{innerHTML:c}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",function(c){switch(c.keyCode){case 13:u.getOutofList(c);break;case 8:u.backspace(c)}},!1),this._elements.wrapper}},{key:"save",value:function(){return this.data}},{key:"renderSettings",value:function(){var u=this,c=this._make("div",[this.CSS.settingsWrapper],{});return this.settings.forEach(function(d){var f=u._make("div",u.CSS.settingsButton,{innerHTML:d.icon});f.addEventListener("click",function(){u.toggleTune(d.name);var g=f.parentNode.querySelectorAll("."+u.CSS.settingsButton);Array.from(g).forEach(function(y){return y.classList.remove(u.CSS.settingsButtonActive)}),f.classList.toggle(u.CSS.settingsButtonActive)}),u.api.tooltip.onHover(f,d.title,{placement:"top",hidingDelay:500}),u._data.style===d.name&&f.classList.add(u.CSS.settingsButtonActive),c.appendChild(f)}),c}},{key:"onPaste",value:function(u){var c=u.detail.data;this.data=this.pasteHandler(c)}},{key:"makeMainTag",value:function(u){var c=u==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,d=u==="ordered"?"ol":"ul";return this._make(d,[this.CSS.baseBlock,this.CSS.wrapper,c],{contentEditable:!this.readOnly})}},{key:"toggleTune",value:function(u){for(var c=this.makeMainTag(u);this._elements.wrapper.hasChildNodes();)c.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(c),this._elements.wrapper=c,this._data.style=u}},{key:"_make",value:function(u){var c,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=document.createElement(u);Array.isArray(d)?(c=g.classList).add.apply(c,n(d)):d&&g.classList.add(d);for(var y in f)g[y]=f[y];return g}},{key:"getOutofList",value:function(u){var c=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(!(c.length<2)){var d=c[c.length-1],f=this.currentItem;f!==d||d.textContent.trim().length||(f.parentElement.removeChild(f),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),u.preventDefault(),u.stopPropagation())}}},{key:"backspace",value:function(u){var c=this._elements.wrapper.querySelectorAll("."+this.CSS.item),d=c[0];d&&c.length<2&&!d.innerHTML.replace("<br>"," ").trim()&&u.preventDefault()}},{key:"selectItem",value:function(u){u.preventDefault();var c=window.getSelection(),d=c.anchorNode.parentNode.closest("."+this.CSS.item),f=new Range;f.selectNodeContents(d),c.removeAllRanges(),c.addRange(f)}},{key:"pasteHandler",value:function(u){var c,d=u.tagName;switch(d){case"OL":c="ordered";break;case"UL":case"LI":c="unordered"}var f={style:c,items:[]};if(d==="LI")f.items=[u.innerHTML];else{var g=Array.from(u.querySelectorAll("LI"));f.items=g.map(function(y){return y.innerHTML}).filter(function(y){return!!y.trim()})}return f}},{key:"CSS",get:function(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item",settingsWrapper:"cdx-list-settings",settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive}}},{key:"data",set:function(u){u||(u={}),this._data.style=u.style||this.settings.find(function(d){return d.default===!0}).name,this._data.items=u.items||[];var c=this._elements.wrapper;c&&c.parentNode.replaceChild(this.render(),c)},get:function(){this._data.items=[];for(var u=this._elements.wrapper.querySelectorAll(".".concat(this.CSS.item)),c=0;c<u.length;c++)u[c].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(u[c].innerHTML);return this._data}},{key:"currentItem",get:function(){var u=window.getSelection().anchorNode;return u.nodeType!==Node.ELEMENT_NODE&&(u=u.parentNode),u.closest(".".concat(this.CSS.item))}}],[{key:"conversionConfig",get:function(){return{export:function(u){return u.items.join(". ")},import:function(u){return{items:[u],style:"unordered"}}}}},{key:"sanitize",get:function(){return{style:{},items:{br:!0}}}},{key:"pasteConfig",get:function(){return{tags:["OL","UL","LI"]}}}]),l}();t.exports=s},function(t,r,e){var n=e(2),i=e(3);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[t.i,i,""]]);var a={insert:"head",singleton:!1};n(i,a),t.exports=i.locals||{}},function(t,r,e){"use strict";var n,i=function(){return n===void 0&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},a=function(){var m={};return function(b){if(m[b]===void 0){var v=document.querySelector(b);if(window.HTMLIFrameElement&&v instanceof window.HTMLIFrameElement)try{v=v.contentDocument.head}catch{v=null}m[b]=v}return m[b]}}(),o=[];function s(m){for(var b=-1,v=0;v<o.length;v++)if(o[v].identifier===m){b=v;break}return b}function l(m,b){for(var v={},k=[],S=0;S<m.length;S++){var O=m[S],R=b.base?O[0]+b.base:O[0],L=v[R]||0,T="".concat(R," ").concat(L);v[R]=L+1;var x=s(T),w={css:O[1],media:O[2],sourceMap:O[3]};x!==-1?(o[x].references++,o[x].updater(w)):o.push({identifier:T,updater:p(w,b),references:1}),k.push(T)}return k}function u(m){var b=document.createElement("style"),v=m.attributes||{};if(v.nonce===void 0){var k=e.nc;k&&(v.nonce=k)}if(Object.keys(v).forEach(function(O){b.setAttribute(O,v[O])}),typeof m.insert=="function")m.insert(b);else{var S=a(m.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(b)}return b}var c,d=(c=[],function(m,b){return c[m]=b,c.filter(Boolean).join(`
`)});function f(m,b,v,k){var S=v?"":k.media?"@media ".concat(k.media," {").concat(k.css,"}"):k.css;if(m.styleSheet)m.styleSheet.cssText=d(b,S);else{var O=document.createTextNode(S),R=m.childNodes;R[b]&&m.removeChild(R[b]),R.length?m.insertBefore(O,R[b]):m.appendChild(O)}}function g(m,b,v){var k=v.css,S=v.media,O=v.sourceMap;if(S?m.setAttribute("media",S):m.removeAttribute("media"),O&&btoa&&(k+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(O))))," */")),m.styleSheet)m.styleSheet.cssText=k;else{for(;m.firstChild;)m.removeChild(m.firstChild);m.appendChild(document.createTextNode(k))}}var y=null,h=0;function p(m,b){var v,k,S;if(b.singleton){var O=h++;v=y||(y=u(b)),k=f.bind(null,v,O,!1),S=f.bind(null,v,O,!0)}else v=u(b),k=g.bind(null,v,b),S=function(){(function(R){if(R.parentNode===null)return!1;R.parentNode.removeChild(R)})(v)};return k(m),function(R){if(R){if(R.css===m.css&&R.media===m.media&&R.sourceMap===m.sourceMap)return;k(m=R)}else S()}}t.exports=function(m,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=i());var v=l(m=m||[],b);return function(k){if(k=k||[],Object.prototype.toString.call(k)==="[object Array]"){for(var S=0;S<v.length;S++){var O=s(v[S]);o[O].references--}for(var R=l(k,b),L=0;L<v.length;L++){var T=s(v[L]);o[T].references===0&&(o[T].updater(),o.splice(T,1))}v=R}}}},function(t,r,e){(r=e(4)(!1)).push([t.i,`.cdx-list {
    margin: 0;
    padding-left: 40px;
    outline: none;
}

    .cdx-list__item {
        padding: 5.5px 0 5.5px 3px;
        line-height: 1.6em;
    }

    .cdx-list--unordered {
        list-style: disc;
    }

    .cdx-list--ordered {
        list-style: decimal;
    }

    .cdx-list-settings {
        display: flex;
    }

    .cdx-list-settings .cdx-settings-button {
            width: 50%;
        }
`,""]),t.exports=r},function(t,r,e){"use strict";t.exports=function(n){var i=[];return i.toString=function(){return this.map(function(a){var o=function(s,l){var u=s[1]||"",c=s[3];if(!c)return u;if(l&&typeof btoa=="function"){var d=(g=c,y=btoa(unescape(encodeURIComponent(JSON.stringify(g)))),h="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(y),"/*# ".concat(h," */")),f=c.sources.map(function(p){return"/*# sourceURL=".concat(c.sourceRoot||"").concat(p," */")});return[u].concat(f).concat([d]).join(`
`)}var g,y,h;return[u].join(`
`)}(a,n);return a[2]?"@media ".concat(a[2]," {").concat(o,"}"):o}).join("")},i.i=function(a,o,s){typeof a=="string"&&(a=[[null,a,""]]);var l={};if(s)for(var u=0;u<this.length;u++){var c=this[u][0];c!=null&&(l[c]=!0)}for(var d=0;d<a.length;d++){var f=[].concat(a[d]);s&&l[f[0]]||(o&&(f[2]?f[2]="".concat(o," and ").concat(f[2]):f[2]=o),i.push(f))}},i}}])})});var vr=rt((eo,gr)=>{"use strict";var Li={delimiter:function(){return"<br/>"},header:function(t){var r=t.data;return"<h"+r.level+">"+r.text+"</h"+r.level+">"},paragraph:function(t){return"<p>"+t.data.text+"</p>"},list:function(t){var r=t.data,e=r.style==="unordered"?"ul":"ol",n=function(i,a){var o=i.map(function(s){if(!s.content&&!s.items)return"<li>"+s+"</li>";var l="";return s.items&&(l=n(s.items,a)),s.content?"<li> "+s.content+" </li>"+l:void 0});return"<"+a+">"+o.join("")+"</"+a+">"};return n(r.items,e)},image:function(t){var r=t.data,e=r.caption?r.caption:"Image";return'<img src="'+(r.file&&r.file.url?r.file.url:r.url)+'" alt="'+e+'" />'},quote:function(t){var r=t.data;return"<blockquote>"+r.text+"</blockquote> - "+r.caption},code:function(t){return"<pre><code>"+t.data.code+"</code></pre>"},embed:function(t){var r=t.data;switch(r.service){case"vimeo":return'<iframe src="'+r.embed+'" height="'+r.height+'" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>';case"youtube":return'<iframe width="'+r.width+'" height="'+r.height+'" src="'+r.embed+'" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>';default:throw new Error("Only Youtube and Vime Embeds are supported right now.")}}};function mn(t){return new Error('\x1B[31m The Parser function of type "'+t+`" is not defined. 

  Define your custom parser functions as: \x1B[34mhttps://github.com/pavittarx/editorjs-html#extend-for-custom-blocks \x1B[0m`)}var pr=function(t){t===void 0&&(t={});var r=Object.assign({},Li,t);return{parse:function(e){return e.blocks.map(function(n){return r[n.type]?r[n.type](n):mn(n.type)})},parseBlock:function(e){return r[e.type]?r[e.type](e):mn(e.type)},parseStrict:function(e){var n=e.blocks,i=pr(r).validate({blocks:n});if(i.length)throw new Error("Parser Functions missing for blocks: "+i.toString());for(var a=[],o=0;o<n.length;o++){if(!r[n[o].type])throw mn(n[o].type);a.push(r[n[o].type](n[o]))}return a},validate:function(e){var n=e.blocks.map(function(a){return a.type}).filter(function(a,o,s){return s.indexOf(a)===o}),i=Object.keys(r);return n.filter(function(a){return!i.includes(a)})}}};gr.exports=pr});var Qn="consecutive-reloads",Pr=10,Nr=5e3,Dr=1e4,jr=3e4,er=["phx-click-loading","phx-change-loading","phx-submit-loading","phx-keydown-loading","phx-keyup-loading","phx-blur-loading","phx-focus-loading"],Ce="data-phx-component",qt="data-phx-link",Fr="track-static",Hr="data-phx-link-state",Ne="data-phx-ref",Ke="data-phx-ref-src",tr="track-uploads",Ze="data-phx-upload-ref",cn="data-phx-preflighted-refs",Ur="data-phx-done-refs",Rn="drop-target",nn="data-phx-active-refs",rn="phx:live-file:updated",on="data-phx-skip",Mn="data-phx-prune",Pn="page-loading",Nn="phx-connected",Yt="phx-loading",Dn="phx-no-feedback",jn="phx-error",tt="data-phx-parent-id",un="data-phx-main",ft="data-phx-root-id",zr="trigger-action",an="feedback-for",nr="phx-has-focused",Vr=["text","textarea","number","email","password","search","tel","url","date","time","datetime-local","color","range"],rr=["checkbox","radio"],ir="phx-has-submitted",qe="data-phx-session",nt=`[${qe}]`,Fn="data-phx-sticky",ut="data-phx-static",Gt="data-phx-readonly",Ct="data-phx-disabled",sn="disable-with",_t="data-phx-disable-with-restore",ot="hook",Wr="debounce",$r="throttle",ln="update",Xr="key",Re="phxPrivate",Hn="auto-recover",Bt="phx:live-socket:debug",Kt="phx:live-socket:profiling",Zt="phx:live-socket:latency-sim",Jr="progress",qr=1,Yr=200,Gr="phx-",Kr=3e4,at="debounce-trigger",Ot="throttled",Un="debounce-prev-key",Zr={debounce:300,throttle:300},zn="d",Me="s",Ee="c",Vn="e",Wn="r",$n="t",Qr="p",ei=class{constructor(t,r,e){this.liveSocket=e,this.entry=t,this.offset=0,this.chunkSize=r,this.chunkTimer=null,this.uploadChannel=e.channel(`lvu:${t.ref}`,{token:t.metadata()})}error(t){clearTimeout(this.chunkTimer),this.uploadChannel.leave(),this.entry.error(t)}upload(){this.uploadChannel.onError(t=>this.error(t)),this.uploadChannel.join().receive("ok",t=>this.readNextChunk()).receive("error",t=>this.error(t))}isDone(){return this.offset>=this.entry.file.size}readNextChunk(){let t=new window.FileReader,r=this.entry.file.slice(this.offset,this.chunkSize+this.offset);t.onload=e=>{if(e.target.error===null)this.offset+=e.target.result.byteLength,this.pushChunk(e.target.result);else return xe("Read error: "+e.target.error)},t.readAsArrayBuffer(r)}pushChunk(t){!this.uploadChannel.isJoined()||this.uploadChannel.push("chunk",t).receive("ok",()=>{this.entry.progress(this.offset/this.entry.file.size*100),this.isDone()||(this.chunkTimer=setTimeout(()=>this.readNextChunk(),this.liveSocket.getLatencySim()||0))})}},xe=(t,r)=>console.error&&console.error(t,r),Je=t=>{let r=typeof t;return r==="number"||r==="string"&&/^(0|[1-9]\d*)$/.test(t)};function ti(){let t=new Set,r=document.querySelectorAll("*[id]");for(let e=0,n=r.length;e<n;e++)t.has(r[e].id)?console.error(`Multiple IDs detected: ${r[e].id}. Ensure unique element ids.`):t.add(r[e].id)}var ni=(t,r,e,n)=>{t.liveSocket.isDebugEnabled()&&console.log(`${t.id} ${r}: ${e} - `,n)},Qt=t=>typeof t=="function"?t:function(){return t},Mt=t=>JSON.parse(JSON.stringify(t)),dt=(t,r,e)=>{do{if(t.matches(`[${r}]`))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1&&!(e&&e.isSameNode(t)||t.matches(nt)));return null},st=t=>t!==null&&typeof t=="object"&&!(t instanceof Array),ri=(t,r)=>JSON.stringify(t)===JSON.stringify(r),Xn=t=>{for(let r in t)return!1;return!0},ze=(t,r)=>t&&r(t),ii=function(t,r,e,n){t.forEach(i=>{new ei(i,e.config.chunk_size,n).upload()})},or={canPushState(){return typeof history.pushState<"u"},dropLocal(t,r,e){return t.removeItem(this.localKey(r,e))},updateLocal(t,r,e,n,i){let a=this.getLocal(t,r,e),o=this.localKey(r,e),s=a===null?n:i(a);return t.setItem(o,JSON.stringify(s)),s},getLocal(t,r,e){return JSON.parse(t.getItem(this.localKey(r,e)))},updateCurrentState(t){!this.canPushState()||history.replaceState(t(history.state||{}),"",window.location.href)},pushState(t,r,e){if(this.canPushState()){if(e!==window.location.href){if(r.type=="redirect"&&r.scroll){let i=history.state||{};i.scroll=r.scroll,history.replaceState(i,"",window.location.href)}delete r.scroll,history[t+"State"](r,"",e||null);let n=this.getHashTargetEl(window.location.hash);n?n.scrollIntoView():r.type==="redirect"&&window.scroll(0,0)}}else this.redirect(e)},setCookie(t,r){document.cookie=`${t}=${r}`},getCookie(t){return document.cookie.replace(new RegExp(`(?:(?:^|.*;s*)${t}s*=s*([^;]*).*$)|^.*$`),"$1")},redirect(t,r){r&&or.setCookie("__phoenix_flash__",r+"; max-age=60000; path=/"),window.location=t},localKey(t,r){return`${t}-${r}`},getHashTargetEl(t){let r=t.toString().substring(1);if(r!=="")return document.getElementById(r)||document.querySelector(`a[name="${r}"]`)}},Xe=or,Ae={byId(t){return document.getElementById(t)||xe(`no id found for ${t}`)},removeClass(t,r){t.classList.remove(r),t.classList.length===0&&t.removeAttribute("class")},all(t,r,e){if(!t)return[];let n=Array.from(t.querySelectorAll(r));return e?n.forEach(e):n},childNodeLength(t){let r=document.createElement("template");return r.innerHTML=t,r.content.childElementCount},isUploadInput(t){return t.type==="file"&&t.getAttribute(Ze)!==null},findUploadInputs(t){return this.all(t,`input[type="file"][${Ze}]`)},findComponentNodeList(t,r){return this.filterWithinSameLiveView(this.all(t,`[${Ce}="${r}"]`),t)},isPhxDestroyed(t){return!!(t.id&&Ae.private(t,"destroyed"))},markPhxChildDestroyed(t){this.isPhxChild(t)&&t.setAttribute(qe,""),this.putPrivate(t,"destroyed",!0)},findPhxChildrenInFragment(t,r){let e=document.createElement("template");return e.innerHTML=t,this.findPhxChildren(e.content,r)},isIgnored(t,r){return(t.getAttribute(r)||t.getAttribute("data-phx-update"))==="ignore"},isPhxUpdate(t,r,e){return t.getAttribute&&e.indexOf(t.getAttribute(r))>=0},findPhxSticky(t){return this.all(t,`[${Fn}]`)},findPhxChildren(t,r){return this.all(t,`${nt}[${tt}="${r}"]`)},findParentCIDs(t,r){let e=new Set(r);return r.reduce((n,i)=>{let a=`[${Ce}="${i}"] [${Ce}]`;return this.filterWithinSameLiveView(this.all(t,a),t).map(o=>parseInt(o.getAttribute(Ce))).forEach(o=>n.delete(o)),n},e)},filterWithinSameLiveView(t,r){return r.querySelector(nt)?t.filter(e=>this.withinSameLiveView(e,r)):t},withinSameLiveView(t,r){for(;t=t.parentNode;){if(t.isSameNode(r))return!0;if(t.getAttribute(qe)!==null)return!1}},private(t,r){return t[Re]&&t[Re][r]},deletePrivate(t,r){t[Re]&&delete t[Re][r]},putPrivate(t,r,e){t[Re]||(t[Re]={}),t[Re][r]=e},updatePrivate(t,r,e,n){let i=this.private(t,r);i===void 0?this.putPrivate(t,r,n(e)):this.putPrivate(t,r,n(i))},copyPrivates(t,r){r[Re]&&(t[Re]=r[Re])},putTitle(t){let r=document.querySelector("title"),{prefix:e,suffix:n}=r.dataset;document.title=`${e||""}${t}${n||""}`},debounce(t,r,e,n,i,a,o,s){let l=t.getAttribute(e),u=t.getAttribute(i);l===""&&(l=n),u===""&&(u=a);let c=l||u;switch(c){case null:return s();case"blur":this.once(t,"debounce-blur")&&t.addEventListener("blur",()=>s());return;default:let d=parseInt(c),f=()=>u?this.deletePrivate(t,Ot):s(),g=this.incCycle(t,at,f);if(isNaN(d))return xe(`invalid throttle/debounce value: ${c}`);if(u){let h=!1;if(r.type==="keydown"){let p=this.private(t,Un);this.putPrivate(t,Un,r.key),h=p!==r.key}if(!h&&this.private(t,Ot))return!1;s(),this.putPrivate(t,Ot,!0),setTimeout(()=>{o()&&this.triggerCycle(t,at)},d)}else setTimeout(()=>{o()&&this.triggerCycle(t,at,g)},d);let y=t.form;y&&this.once(y,"bind-debounce")&&y.addEventListener("submit",()=>{Array.from(new FormData(y).entries(),([h])=>{let p=y.querySelector(`[name="${h}"]`);this.incCycle(p,at),this.deletePrivate(p,Ot)})}),this.once(t,"bind-debounce")&&t.addEventListener("blur",()=>this.triggerCycle(t,at))}},triggerCycle(t,r,e){let[n,i]=this.private(t,r);e||(e=n),e===n&&(this.incCycle(t,r),i())},once(t,r){return this.private(t,r)===!0?!1:(this.putPrivate(t,r,!0),!0)},incCycle(t,r,e=function(){}){let[n]=this.private(t,r)||[0,e];return n++,this.putPrivate(t,r,[n,e]),n},discardError(t,r,e){let n=r.getAttribute&&r.getAttribute(e),i=n&&t.querySelector(`[id="${n}"], [name="${n}"]`);!i||this.private(i,nr)||this.private(i.form,ir)||r.classList.add(Dn)},showError(t,r){(t.id||t.name)&&this.all(t.form,`[${r}="${t.id}"], [${r}="${t.name}"]`,e=>{this.removeClass(e,Dn)})},isPhxChild(t){return t.getAttribute&&t.getAttribute(tt)},isPhxSticky(t){return t.getAttribute&&t.getAttribute(Fn)!==null},firstPhxChild(t){return this.isPhxChild(t)?t:this.all(t,`[${tt}]`)[0]},dispatchEvent(t,r,e={}){let i={bubbles:e.bubbles===void 0?!0:!!e.bubbles,cancelable:!0,detail:e.detail||{}},a=r==="click"?new MouseEvent("click",i):new CustomEvent(r,i);t.dispatchEvent(a)},cloneNode(t,r){if(typeof r>"u")return t.cloneNode(!0);{let e=t.cloneNode(!1);return e.innerHTML=r,e}},mergeAttrs(t,r,e={}){let n=e.exclude||[],i=e.isIgnored,a=r.attributes;for(let s=a.length-1;s>=0;s--){let l=a[s].name;n.indexOf(l)<0&&t.setAttribute(l,r.getAttribute(l))}let o=t.attributes;for(let s=o.length-1;s>=0;s--){let l=o[s].name;i?l.startsWith("data-")&&!r.hasAttribute(l)&&t.removeAttribute(l):r.hasAttribute(l)||t.removeAttribute(l)}},mergeFocusedInput(t,r){t instanceof HTMLSelectElement||Ae.mergeAttrs(t,r,{exclude:["value"]}),r.readOnly?t.setAttribute("readonly",!0):t.removeAttribute("readonly")},hasSelectionRange(t){return t.setSelectionRange&&(t.type==="text"||t.type==="textarea")},restoreFocus(t,r,e){if(!Ae.isTextualInput(t))return;let n=t.matches(":focus");t.readOnly&&t.blur(),n||t.focus(),this.hasSelectionRange(t)&&t.setSelectionRange(r,e)},isFormInput(t){return/^(?:input|select|textarea)$/i.test(t.tagName)&&t.type!=="button"},syncAttrsToProps(t){t instanceof HTMLInputElement&&rr.indexOf(t.type.toLocaleLowerCase())>=0&&(t.checked=t.getAttribute("checked")!==null)},isTextualInput(t){return Vr.indexOf(t.type)>=0},isNowTriggerFormExternal(t,r){return t.getAttribute&&t.getAttribute(r)!==null},syncPendingRef(t,r,e){let n=t.getAttribute(Ne);if(n===null)return!0;let i=t.getAttribute(Ke);return Ae.isFormInput(t)||t.getAttribute(e)!==null?(Ae.isUploadInput(t)&&Ae.mergeAttrs(t,r,{isIgnored:!0}),Ae.putPrivate(t,Ne,r),!1):(er.forEach(a=>{t.classList.contains(a)&&r.classList.add(a)}),r.setAttribute(Ne,n),r.setAttribute(Ke,i),!0)},cleanChildNodes(t,r){if(Ae.isPhxUpdate(t,r,["append","prepend"])){let e=[];t.childNodes.forEach(n=>{n.id||(n.nodeType===Node.TEXT_NODE&&n.nodeValue.trim()===""||xe(`only HTML element tags with an id are allowed inside containers with phx-update.

removing illegal node: "${(n.outerHTML||n.nodeValue).trim()}"

`),e.push(n))}),e.forEach(n=>n.remove())}},replaceRootContainer(t,r,e){let n=new Set(["id",qe,ut,un,ft]);if(t.tagName.toLowerCase()===r.toLowerCase())return Array.from(t.attributes).filter(i=>!n.has(i.name.toLowerCase())).forEach(i=>t.removeAttribute(i.name)),Object.keys(e).filter(i=>!n.has(i.toLowerCase())).forEach(i=>t.setAttribute(i,e[i])),t;{let i=document.createElement(r);return Object.keys(e).forEach(a=>i.setAttribute(a,e[a])),n.forEach(a=>i.setAttribute(a,t.getAttribute(a))),i.innerHTML=t.innerHTML,t.replaceWith(i),i}},getSticky(t,r,e){let n=(Ae.private(t,"sticky")||[]).find(([i])=>r===i);if(n){let[i,a,o]=n;return o}else return typeof e=="function"?e():e},deleteSticky(t,r){this.updatePrivate(t,"sticky",[],e=>e.filter(([n,i])=>n!==r))},putSticky(t,r,e){let n=e(t);this.updatePrivate(t,"sticky",[],i=>{let a=i.findIndex(([o])=>r===o);return a>=0?i[a]=[r,e,n]:i.push([r,e,n]),i})},applyStickyOperations(t){let r=Ae.private(t,"sticky");!r||r.forEach(([e,n,i])=>this.putSticky(t,e,n))}},$=Ae,en=class{static isActive(t,r){let e=r._phxRef===void 0,i=t.getAttribute(nn).split(",").indexOf(ke.genFileRef(r))>=0;return r.size>0&&(e||i)}static isPreflighted(t,r){return t.getAttribute(cn).split(",").indexOf(ke.genFileRef(r))>=0&&this.isActive(t,r)}constructor(t,r,e){this.ref=ke.genFileRef(r),this.fileEl=t,this.file=r,this.view=e,this.meta=null,this._isCancelled=!1,this._isDone=!1,this._progress=0,this._lastProgressSent=-1,this._onDone=function(){},this._onElUpdated=this.onElUpdated.bind(this),this.fileEl.addEventListener(rn,this._onElUpdated)}metadata(){return this.meta}progress(t){this._progress=Math.floor(t),this._progress>this._lastProgressSent&&(this._progress>=100?(this._progress=100,this._lastProgressSent=100,this._isDone=!0,this.view.pushFileProgress(this.fileEl,this.ref,100,()=>{ke.untrackFile(this.fileEl,this.file),this._onDone()})):(this._lastProgressSent=this._progress,this.view.pushFileProgress(this.fileEl,this.ref,this._progress)))}cancel(){this._isCancelled=!0,this._isDone=!0,this._onDone()}isDone(){return this._isDone}error(t="failed"){this.view.pushFileProgress(this.fileEl,this.ref,{error:t}),ke.clearFiles(this.fileEl)}onDone(t){this._onDone=()=>{this.fileEl.removeEventListener(rn,this._onElUpdated),t()}}onElUpdated(){this.fileEl.getAttribute(nn).split(",").indexOf(this.ref)===-1&&this.cancel()}toPreflightPayload(){return{last_modified:this.file.lastModified,name:this.file.name,size:this.file.size,type:this.file.type,ref:this.ref}}uploader(t){if(this.meta.uploader){let r=t[this.meta.uploader]||xe(`no uploader configured for ${this.meta.uploader}`);return{name:this.meta.uploader,callback:r}}else return{name:"channel",callback:ii}}zipPostFlight(t){this.meta=t.entries[this.ref],this.meta||xe(`no preflight upload response returned with ref ${this.ref}`,{input:this.fileEl,response:t})}},oi=0,ke=class{static genFileRef(t){let r=t._phxRef;return r!==void 0?r:(t._phxRef=(oi++).toString(),t._phxRef)}static getEntryDataURL(t,r,e){let n=this.activeFiles(t).find(i=>this.genFileRef(i)===r);e(URL.createObjectURL(n))}static hasUploadsInProgress(t){let r=0;return $.findUploadInputs(t).forEach(e=>{e.getAttribute(cn)!==e.getAttribute(Ur)&&r++}),r>0}static serializeUploads(t){let r=this.activeFiles(t),e={};return r.forEach(n=>{let i={path:t.name},a=t.getAttribute(Ze);e[a]=e[a]||[],i.ref=this.genFileRef(n),i.name=n.name||i.ref,i.type=n.type,i.size=n.size,e[a].push(i)}),e}static clearFiles(t){t.value=null,t.removeAttribute(Ze),$.putPrivate(t,"files",[])}static untrackFile(t,r){$.putPrivate(t,"files",$.private(t,"files").filter(e=>!Object.is(e,r)))}static trackFiles(t,r){if(t.getAttribute("multiple")!==null){let e=r.filter(n=>!this.activeFiles(t).find(i=>Object.is(i,n)));$.putPrivate(t,"files",this.activeFiles(t).concat(e)),t.value=null}else $.putPrivate(t,"files",r)}static activeFileInputs(t){let r=$.findUploadInputs(t);return Array.from(r).filter(e=>e.files&&this.activeFiles(e).length>0)}static activeFiles(t){return($.private(t,"files")||[]).filter(r=>en.isActive(t,r))}static inputsAwaitingPreflight(t){let r=$.findUploadInputs(t);return Array.from(r).filter(e=>this.filesAwaitingPreflight(e).length>0)}static filesAwaitingPreflight(t){return this.activeFiles(t).filter(r=>!en.isPreflighted(t,r))}constructor(t,r,e){this.view=r,this.onComplete=e,this._entries=Array.from(ke.filesAwaitingPreflight(t)||[]).map(n=>new en(t,n,r)),this.numEntriesInProgress=this._entries.length}entries(){return this._entries}initAdapterUpload(t,r,e){this._entries=this._entries.map(i=>(i.zipPostFlight(t),i.onDone(()=>{this.numEntriesInProgress--,this.numEntriesInProgress===0&&this.onComplete()}),i));let n=this._entries.reduce((i,a)=>{let{name:o,callback:s}=a.uploader(e.uploaders);return i[o]=i[o]||{callback:s,entries:[]},i[o].entries.push(a),i},{});for(let i in n){let{callback:a,entries:o}=n[i];a(o,r,t,e)}}},ai={LiveFileUpload:{activeRefs(){return this.el.getAttribute(nn)},preflightedRefs(){return this.el.getAttribute(cn)},mounted(){this.preflightedWas=this.preflightedRefs()},updated(){let t=this.preflightedRefs();this.preflightedWas!==t&&(this.preflightedWas=t,t===""&&this.__view.cancelSubmit(this.el.form)),this.activeRefs()===""&&(this.el.value=null),this.el.dispatchEvent(new CustomEvent(rn))}},LiveImgPreview:{mounted(){this.ref=this.el.getAttribute("data-phx-entry-ref"),this.inputEl=document.getElementById(this.el.getAttribute(Ze)),ke.getEntryDataURL(this.inputEl,this.ref,t=>{this.url=t,this.el.src=t})},destroyed(){URL.revokeObjectURL(this.url)}}},si=ai,li=class{constructor(t,r,e){let n=new Set,i=new Set([...r.children].map(o=>o.id)),a=[];Array.from(t.children).forEach(o=>{if(o.id&&(n.add(o.id),i.has(o.id))){let s=o.previousElementSibling&&o.previousElementSibling.id;a.push({elementId:o.id,previousElementId:s})}}),this.containerId=r.id,this.updateType=e,this.elementsToModify=a,this.elementIdsToAdd=[...i].filter(o=>!n.has(o))}perform(){let t=$.byId(this.containerId);this.elementsToModify.forEach(r=>{r.previousElementId?ze(document.getElementById(r.previousElementId),e=>{ze(document.getElementById(r.elementId),n=>{n.previousElementSibling&&n.previousElementSibling.id==e.id||e.insertAdjacentElement("afterend",n)})}):ze(document.getElementById(r.elementId),e=>{e.previousElementSibling==null||t.insertAdjacentElement("afterbegin",e)})}),this.updateType=="prepend"&&this.elementIdsToAdd.reverse().forEach(r=>{ze(document.getElementById(r),e=>t.insertAdjacentElement("afterbegin",e))})}},Jn=11;function ci(t,r){var e=r.attributes,n,i,a,o,s;if(!(r.nodeType===Jn||t.nodeType===Jn)){for(var l=e.length-1;l>=0;l--)n=e[l],i=n.name,a=n.namespaceURI,o=n.value,a?(i=n.localName||i,s=t.getAttributeNS(a,i),s!==o&&(n.prefix==="xmlns"&&(i=n.name),t.setAttributeNS(a,i,o))):(s=t.getAttribute(i),s!==o&&t.setAttribute(i,o));for(var u=t.attributes,c=u.length-1;c>=0;c--)n=u[c],i=n.name,a=n.namespaceURI,a?(i=n.localName||i,r.hasAttributeNS(a,i)||t.removeAttributeNS(a,i)):r.hasAttribute(i)||t.removeAttribute(i)}}var It,ui="http://www.w3.org/1999/xhtml",we=typeof document>"u"?void 0:document,di=!!we&&"content"in we.createElement("template"),fi=!!we&&we.createRange&&"createContextualFragment"in we.createRange();function hi(t){var r=we.createElement("template");return r.innerHTML=t,r.content.childNodes[0]}function pi(t){It||(It=we.createRange(),It.selectNode(we.body));var r=It.createContextualFragment(t);return r.childNodes[0]}function gi(t){var r=we.createElement("body");return r.innerHTML=t,r.childNodes[0]}function vi(t){return t=t.trim(),di?hi(t):fi?pi(t):gi(t)}function At(t,r){var e=t.nodeName,n=r.nodeName,i,a;return e===n?!0:(i=e.charCodeAt(0),a=n.charCodeAt(0),i<=90&&a>=97?e===n.toUpperCase():a<=90&&i>=97?n===e.toUpperCase():!1)}function mi(t,r){return!r||r===ui?we.createElement(t):we.createElementNS(r,t)}function yi(t,r){for(var e=t.firstChild;e;){var n=e.nextSibling;r.appendChild(e),e=n}return r}function tn(t,r,e){t[e]!==r[e]&&(t[e]=r[e],t[e]?t.setAttribute(e,""):t.removeAttribute(e))}var qn={OPTION:function(t,r){var e=t.parentNode;if(e){var n=e.nodeName.toUpperCase();n==="OPTGROUP"&&(e=e.parentNode,n=e&&e.nodeName.toUpperCase()),n==="SELECT"&&!e.hasAttribute("multiple")&&(t.hasAttribute("selected")&&!r.selected&&(t.setAttribute("selected","selected"),t.removeAttribute("selected")),e.selectedIndex=-1)}tn(t,r,"selected")},INPUT:function(t,r){tn(t,r,"checked"),tn(t,r,"disabled"),t.value!==r.value&&(t.value=r.value),r.hasAttribute("value")||t.removeAttribute("value")},TEXTAREA:function(t,r){var e=r.value;t.value!==e&&(t.value=e);var n=t.firstChild;if(n){var i=n.nodeValue;if(i==e||!e&&i==t.placeholder)return;n.nodeValue=e}},SELECT:function(t,r){if(!r.hasAttribute("multiple")){for(var e=-1,n=0,i=t.firstChild,a,o;i;)if(o=i.nodeName&&i.nodeName.toUpperCase(),o==="OPTGROUP")a=i,i=a.firstChild;else{if(o==="OPTION"){if(i.hasAttribute("selected")){e=n;break}n++}i=i.nextSibling,!i&&a&&(i=a.nextSibling,a=null)}t.selectedIndex=e}}},lt=1,bi=11,Yn=3,Gn=8;function Ge(){}function ki(t){if(t)return t.getAttribute&&t.getAttribute("id")||t.id}function xi(t){return function(e,n,i){if(i||(i={}),typeof n=="string")if(e.nodeName==="#document"||e.nodeName==="HTML"||e.nodeName==="BODY"){var a=n;n=we.createElement("html"),n.innerHTML=a}else n=vi(n);var o=i.getNodeKey||ki,s=i.onBeforeNodeAdded||Ge,l=i.onNodeAdded||Ge,u=i.onBeforeElUpdated||Ge,c=i.onElUpdated||Ge,d=i.onBeforeNodeDiscarded||Ge,f=i.onNodeDiscarded||Ge,g=i.onBeforeElChildrenUpdated||Ge,y=i.childrenOnly===!0,h=Object.create(null),p=[];function m(_){p.push(_)}function b(_,C){if(_.nodeType===lt)for(var A=_.firstChild;A;){var D=void 0;C&&(D=o(A))?m(D):(f(A),A.firstChild&&b(A,C)),A=A.nextSibling}}function v(_,C,A){d(_)!==!1&&(C&&C.removeChild(_),f(_),b(_,A))}function k(_){if(_.nodeType===lt||_.nodeType===bi)for(var C=_.firstChild;C;){var A=o(C);A&&(h[A]=C),k(C),C=C.nextSibling}}k(e);function S(_){l(_);for(var C=_.firstChild;C;){var A=C.nextSibling,D=o(C);if(D){var P=h[D];P&&At(C,P)?(C.parentNode.replaceChild(P,C),R(P,C)):S(C)}else S(C);C=A}}function O(_,C,A){for(;C;){var D=C.nextSibling;(A=o(C))?m(A):v(C,_,!0),C=D}}function R(_,C,A){var D=o(C);D&&delete h[D],!(!A&&(u(_,C)===!1||(t(_,C),c(_),g(_,C)===!1)))&&(_.nodeName!=="TEXTAREA"?L(_,C):qn.TEXTAREA(_,C))}function L(_,C){var A=C.firstChild,D=_.firstChild,P,M,N,F,j;e:for(;A;){for(F=A.nextSibling,P=o(A);D;){if(N=D.nextSibling,A.isSameNode&&A.isSameNode(D)){A=F,D=N;continue e}M=o(D);var H=D.nodeType,U=void 0;if(H===A.nodeType&&(H===lt?(P?P!==M&&((j=h[P])?N===j?U=!1:(_.insertBefore(j,D),M?m(M):v(D,_,!0),D=j):U=!1):M&&(U=!1),U=U!==!1&&At(D,A),U&&R(D,A)):(H===Yn||H==Gn)&&(U=!0,D.nodeValue!==A.nodeValue&&(D.nodeValue=A.nodeValue))),U){A=F,D=N;continue e}M?m(M):v(D,_,!0),D=N}if(P&&(j=h[P])&&At(j,A))_.appendChild(j),R(j,A);else{var z=s(A);z!==!1&&(z&&(A=z),A.actualize&&(A=A.actualize(_.ownerDocument||we)),_.appendChild(A),S(A))}A=F,D=N}O(_,D,M);var V=qn[_.nodeName];V&&V(_,C)}var T=e,x=T.nodeType,w=n.nodeType;if(!y){if(x===lt)w===lt?At(e,n)||(f(e),T=yi(e,mi(n.nodeName,n.namespaceURI))):T=n;else if(x===Yn||x===Gn){if(w===x)return T.nodeValue!==n.nodeValue&&(T.nodeValue=n.nodeValue),T;T=n}}if(T===n)f(e);else{if(n.isSameNode&&n.isSameNode(T))return;if(R(T,n,y),p)for(var I=0,B=p.length;I<B;I++){var E=h[p[I]];E&&v(E,E.parentNode,!1)}}return!y&&T!==e&&e.parentNode&&(T.actualize&&(T=T.actualize(e.ownerDocument||we)),e.parentNode.replaceChild(T,e)),T}}var wi=xi(ci),Kn=wi,Lt=class{static patchEl(t,r,e){Kn(t,r,{childrenOnly:!1,onBeforeElUpdated:(n,i)=>{if(e&&e.isSameNode(n)&&$.isFormInput(n))return $.mergeFocusedInput(n,i),!1}})}constructor(t,r,e,n,i){this.view=t,this.liveSocket=t.liveSocket,this.container=r,this.id=e,this.rootID=t.root.id,this.html=n,this.targetCID=i,this.cidPatch=Je(this.targetCID),this.callbacks={beforeadded:[],beforeupdated:[],beforephxChildAdded:[],afteradded:[],afterupdated:[],afterdiscarded:[],afterphxChildAdded:[],aftertransitionsDiscarded:[]}}before(t,r){this.callbacks[`before${t}`].push(r)}after(t,r){this.callbacks[`after${t}`].push(r)}trackBefore(t,...r){this.callbacks[`before${t}`].forEach(e=>e(...r))}trackAfter(t,...r){this.callbacks[`after${t}`].forEach(e=>e(...r))}markPrunableContentForRemoval(){$.all(this.container,"[phx-update=append] > *, [phx-update=prepend] > *",t=>{t.setAttribute(Mn,"")})}perform(){let{view:t,liveSocket:r,container:e,html:n}=this,i=this.isCIDPatch()?this.targetCIDContainer(n):e;if(this.isCIDPatch()&&!i)return;let a=r.getActiveElement(),{selectionStart:o,selectionEnd:s}=a&&$.hasSelectionRange(a)?a:{},l=r.binding(ln),u=r.binding(an),c=r.binding(sn),d=r.binding(zr),f=r.binding("remove"),g=[],y=[],h=[],p=[],m=null,b=r.time("premorph container prep",()=>this.buildDiffHTML(e,n,l,i));return this.trackBefore("added",e),this.trackBefore("updated",e,e),r.time("morphdom",()=>{Kn(i,b,{childrenOnly:i.getAttribute(Ce)===null,getNodeKey:v=>$.isPhxDestroyed(v)?null:v.id,onBeforeNodeAdded:v=>(this.trackBefore("added",v),v),onNodeAdded:v=>{v instanceof HTMLImageElement&&v.srcset?v.srcset=v.srcset:v instanceof HTMLVideoElement&&v.autoplay&&v.play(),$.isNowTriggerFormExternal(v,d)&&(m=v),$.discardError(i,v,u),($.isPhxChild(v)&&t.ownsElement(v)||$.isPhxSticky(v)&&t.ownsElement(v.parentNode))&&this.trackAfter("phxChildAdded",v),g.push(v)},onNodeDiscarded:v=>{($.isPhxChild(v)||$.isPhxSticky(v))&&r.destroyViewByEl(v),this.trackAfter("discarded",v)},onBeforeNodeDiscarded:v=>v.getAttribute&&v.getAttribute(Mn)!==null?!0:v.parentNode!==null&&$.isPhxUpdate(v.parentNode,l,["append","prepend"])&&v.id?!1:v.getAttribute&&v.getAttribute(f)?(p.push(v),!1):!this.skipCIDSibling(v),onElUpdated:v=>{$.isNowTriggerFormExternal(v,d)&&(m=v),y.push(v)},onBeforeElUpdated:(v,k)=>{if($.cleanChildNodes(k,l),this.skipCIDSibling(k)||$.isPhxSticky(v))return!1;if($.isIgnored(v,l))return this.trackBefore("updated",v,k),$.mergeAttrs(v,k,{isIgnored:!0}),y.push(v),$.applyStickyOperations(v),!1;if(v.type==="number"&&v.validity&&v.validity.badInput)return!1;if(!$.syncPendingRef(v,k,c))return $.isUploadInput(v)&&(this.trackBefore("updated",v,k),y.push(v)),$.applyStickyOperations(v),!1;if($.isPhxChild(k)){let O=v.getAttribute(qe);return $.mergeAttrs(v,k,{exclude:[ut]}),O!==""&&v.setAttribute(qe,O),v.setAttribute(ft,this.rootID),$.applyStickyOperations(v),!1}return $.copyPrivates(k,v),$.discardError(i,k,u),a&&v.isSameNode(a)&&$.isFormInput(v)?(this.trackBefore("updated",v,k),$.mergeFocusedInput(v,k),$.syncAttrsToProps(v),y.push(v),$.applyStickyOperations(v),!1):($.isPhxUpdate(k,l,["append","prepend"])&&h.push(new li(v,k,k.getAttribute(l))),$.syncAttrsToProps(k),$.applyStickyOperations(k),this.trackBefore("updated",v,k),!0)}})}),r.isDebugEnabled()&&ti(),h.length>0&&r.time("post-morph append/prepend restoration",()=>{h.forEach(v=>v.perform())}),r.silenceEvents(()=>$.restoreFocus(a,o,s)),$.dispatchEvent(document,"phx:update"),g.forEach(v=>this.trackAfter("added",v)),y.forEach(v=>this.trackAfter("updated",v)),p.length>0&&(r.transitionRemoves(p),r.requestDOMUpdate(()=>{p.forEach(v=>{let k=$.firstPhxChild(v);k&&r.destroyViewByEl(k),v.remove()}),this.trackAfter("transitionsDiscarded",p)})),m&&(r.disconnect(),m.submit()),!0}isCIDPatch(){return this.cidPatch}skipCIDSibling(t){return t.nodeType===Node.ELEMENT_NODE&&t.getAttribute(on)!==null}targetCIDContainer(t){if(!this.isCIDPatch())return;let[r,...e]=$.findComponentNodeList(this.container,this.targetCID);return e.length===0&&$.childNodeLength(t)===1?r:r&&r.parentNode}buildDiffHTML(t,r,e,n){let i=this.isCIDPatch(),a=i&&n.getAttribute(Ce)===this.targetCID.toString();if(!i||a)return r;{let o=null,s=document.createElement("template");o=$.cloneNode(n);let[l,...u]=$.findComponentNodeList(o,this.targetCID);return s.innerHTML=r,u.forEach(c=>c.remove()),Array.from(o.childNodes).forEach(c=>{c.id&&c.nodeType===Node.ELEMENT_NODE&&c.getAttribute(Ce)!==this.targetCID.toString()&&(c.setAttribute(on,""),c.innerHTML="")}),Array.from(s.content.childNodes).forEach(c=>o.insertBefore(c,l)),l.remove(),o.outerHTML}}},Zn=class{static extract(t){let{[Wn]:r,[Vn]:e,[$n]:n}=t;return delete t[Wn],delete t[Vn],delete t[$n],{diff:t,title:n,reply:r||null,events:e||[]}}constructor(t,r){this.viewId=t,this.rendered={},this.mergeDiff(r)}parentViewId(){return this.viewId}toString(t){return this.recursiveToString(this.rendered,this.rendered[Ee],t)}recursiveToString(t,r=t[Ee],e){e=e?new Set(e):null;let n={buffer:"",components:r,onlyCids:e};return this.toOutputBuffer(t,null,n),n.buffer}componentCIDs(t){return Object.keys(t[Ee]||{}).map(r=>parseInt(r))}isComponentOnlyDiff(t){return t[Ee]?Object.keys(t).length===1:!1}getComponent(t,r){return t[Ee][r]}mergeDiff(t){let r=t[Ee],e={};if(delete t[Ee],this.rendered=this.mutableMerge(this.rendered,t),this.rendered[Ee]=this.rendered[Ee]||{},r){let n=this.rendered[Ee];for(let i in r)r[i]=this.cachedFindComponent(i,r[i],n,r,e);for(let i in r)n[i]=r[i];t[Ee]=r}}cachedFindComponent(t,r,e,n,i){if(i[t])return i[t];{let a,o,s=r[Me];if(Je(s)){let l;s>0?l=this.cachedFindComponent(s,n[s],e,n,i):l=e[-s],o=l[Me],a=this.cloneMerge(l,r),a[Me]=o}else a=r[Me]!==void 0?r:this.cloneMerge(e[t]||{},r);return i[t]=a,a}}mutableMerge(t,r){return r[Me]!==void 0?r:(this.doMutableMerge(t,r),t)}doMutableMerge(t,r){for(let e in r){let n=r[e],i=t[e];st(n)&&n[Me]===void 0&&st(i)?this.doMutableMerge(i,n):t[e]=n}}cloneMerge(t,r){let e={...t,...r};for(let n in e){let i=r[n],a=t[n];st(i)&&i[Me]===void 0&&st(a)&&(e[n]=this.cloneMerge(a,i))}return e}componentToString(t){return this.recursiveCIDToString(this.rendered[Ee],t)}pruneCIDs(t){t.forEach(r=>delete this.rendered[Ee][r])}get(){return this.rendered}isNewFingerprint(t={}){return!!t[Me]}templateStatic(t,r){return typeof t=="number"?r[t]:t}toOutputBuffer(t,r,e){if(t[zn])return this.comprehensionToBuffer(t,r,e);let{[Me]:n}=t;n=this.templateStatic(n,r),e.buffer+=n[0];for(let i=1;i<n.length;i++)this.dynamicToBuffer(t[i-1],r,e),e.buffer+=n[i]}comprehensionToBuffer(t,r,e){let{[zn]:n,[Me]:i}=t;i=this.templateStatic(i,r);let a=r||t[Qr];for(let o=0;o<n.length;o++){let s=n[o];e.buffer+=i[0];for(let l=1;l<i.length;l++)this.dynamicToBuffer(s[l-1],a,e),e.buffer+=i[l]}}dynamicToBuffer(t,r,e){typeof t=="number"?e.buffer+=this.recursiveCIDToString(e.components,t,e.onlyCids):st(t)?this.toOutputBuffer(t,r,e):e.buffer+=t}recursiveCIDToString(t,r,e){let n=t[r]||xe(`no component for CID ${r}`,t),i=document.createElement("template");i.innerHTML=this.recursiveToString(n,t,e);let a=i.content,o=e&&!e.has(r),[s,l]=Array.from(a.childNodes).reduce(([u,c],d,f)=>d.nodeType===Node.ELEMENT_NODE?d.getAttribute(Ce)?[u,!0]:(d.setAttribute(Ce,r),d.id||(d.id=`${this.parentViewId()}-${r}-${f}`),o&&(d.setAttribute(on,""),d.innerHTML=""),[!0,c]):d.nodeValue.trim()!==""?(xe(`only HTML element tags are allowed at the root of components.

got: "${d.nodeValue.trim()}"

within:
`,i.innerHTML.trim()),d.replaceWith(this.createSpan(d.nodeValue,r)),[!0,c]):(d.remove(),[u,c]),[!1,!1]);return!s&&!l?(xe(`expected at least one HTML element tag inside a component, but the component is empty:
`,i.innerHTML.trim()),this.createSpan("",r).outerHTML):(!s&&l&&xe("expected at least one HTML element tag directly inside a component, but only subcomponents were found. A component must render at least one HTML tag directly inside itself.",i.innerHTML.trim()),i.innerHTML)}createSpan(t,r){let e=document.createElement("span");return e.innerText=t,e.setAttribute(Ce,r),e}},Si=1,ct=class{static makeID(){return Si++}static elementID(t){return t.phxHookId}constructor(t,r,e){this.__view=t,this.liveSocket=t.liveSocket,this.__callbacks=e,this.__listeners=new Set,this.__isDisconnected=!1,this.el=r,this.el.phxHookId=this.constructor.makeID();for(let n in this.__callbacks)this[n]=this.__callbacks[n]}__mounted(){this.mounted&&this.mounted()}__updated(){this.updated&&this.updated()}__beforeUpdate(){this.beforeUpdate&&this.beforeUpdate()}__destroyed(){this.destroyed&&this.destroyed()}__reconnected(){this.__isDisconnected&&(this.__isDisconnected=!1,this.reconnected&&this.reconnected())}__disconnected(){this.__isDisconnected=!0,this.disconnected&&this.disconnected()}pushEvent(t,r={},e=function(){}){return this.__view.pushHookEvent(null,t,r,e)}pushEventTo(t,r,e={},n=function(){}){return this.__view.withinTargets(t,(i,a)=>i.pushHookEvent(a,r,e,n))}handleEvent(t,r){let e=(n,i)=>i?t:r(n.detail);return window.addEventListener(`phx:${t}`,e),this.__listeners.add(e),e}removeHandleEvent(t){let r=t(null,!0);window.removeEventListener(`phx:${r}`,t),this.__listeners.delete(t)}upload(t,r){return this.__view.dispatchUploads(t,r)}uploadTo(t,r,e){return this.__view.withinTargets(t,n=>n.dispatchUploads(r,e))}__cleanup__(){this.__listeners.forEach(t=>this.removeHandleEvent(t))}},Ti={exec(t,r,e,n,i){let[a,o]=i||[null,{}];(r.charAt(0)==="["?JSON.parse(r):[[a,o]]).forEach(([l,u])=>{l===a&&o.data&&(u.data=Object.assign(u.data||{},o.data)),this.filterToEls(n,u).forEach(c=>{this[`exec_${l}`](t,r,e,n,c,u)})})},isVisible(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length>0)},exec_dispatch(t,r,e,n,i,{to:a,event:o,detail:s,bubbles:l}){s=s||{},s.dispatcher=n,$.dispatchEvent(i,o,{detail:s,bubbles:l})},exec_push(t,r,e,n,i,a){if(!e.isConnected())return;let{event:o,data:s,target:l,page_loading:u,loading:c,value:d,dispatcher:f}=a,g={loading:c,value:d,target:l,page_loading:!!u},y=t==="change"&&f?f:n,h=l||y.getAttribute(e.binding("target"))||y;e.withinTargets(h,(p,m)=>{if(t==="change"){let{newCid:b,_target:v,callback:k}=a;v=v||(n instanceof HTMLInputElement?n.name:void 0),v&&(g._target=v),p.pushInput(n,m,b,o||r,g,k)}else t==="submit"?p.submitForm(n,m,o||r,g):p.pushEvent(t,n,m,o||r,s,g)})},exec_add_class(t,r,e,n,i,{names:a,transition:o,time:s}){this.addOrRemoveClasses(i,a,[],o,s,e)},exec_remove_class(t,r,e,n,i,{names:a,transition:o,time:s}){this.addOrRemoveClasses(i,[],a,o,s,e)},exec_transition(t,r,e,n,i,{time:a,transition:o}){let[s,l,u]=o,c=()=>this.addOrRemoveClasses(i,s.concat(l),[]),d=()=>this.addOrRemoveClasses(i,u,s.concat(l));e.transition(a,c,d)},exec_toggle(t,r,e,n,i,{display:a,ins:o,outs:s,time:l}){this.toggle(t,e,i,a,o,s,l)},exec_show(t,r,e,n,i,{display:a,transition:o,time:s}){this.show(t,e,i,a,o,s)},exec_hide(t,r,e,n,i,{display:a,transition:o,time:s}){this.hide(t,e,i,a,o,s)},exec_set_attr(t,r,e,n,i,{attr:[a,o]}){this.setOrRemoveAttrs(i,[[a,o]],[])},exec_remove_attr(t,r,e,n,i,{attr:a}){this.setOrRemoveAttrs(i,[],[a])},show(t,r,e,n,i,a){this.isVisible(e)||this.toggle(t,r,e,n,i,null,a)},hide(t,r,e,n,i,a){this.isVisible(e)&&this.toggle(t,r,e,n,null,i,a)},toggle(t,r,e,n,i,a,o){let[s,l,u]=i||[[],[],[]],[c,d,f]=a||[[],[],[]];if(s.length>0||c.length>0)if(this.isVisible(e)){let g=()=>{this.addOrRemoveClasses(e,d,s.concat(l).concat(u)),window.requestAnimationFrame(()=>{this.addOrRemoveClasses(e,c,[]),window.requestAnimationFrame(()=>this.addOrRemoveClasses(e,f,d))})};e.dispatchEvent(new Event("phx:hide-start")),r.transition(o,g,()=>{this.addOrRemoveClasses(e,[],c.concat(f)),$.putSticky(e,"toggle",y=>y.style.display="none"),e.dispatchEvent(new Event("phx:hide-end"))})}else{if(t==="remove")return;let g=()=>{this.addOrRemoveClasses(e,l,c.concat(d).concat(f)),$.putSticky(e,"toggle",y=>y.style.display=n||"block"),window.requestAnimationFrame(()=>{this.addOrRemoveClasses(e,s,[]),window.requestAnimationFrame(()=>this.addOrRemoveClasses(e,u,l))})};e.dispatchEvent(new Event("phx:show-start")),r.transition(o,g,()=>{this.addOrRemoveClasses(e,[],s.concat(u)),e.dispatchEvent(new Event("phx:show-end"))})}else this.isVisible(e)?window.requestAnimationFrame(()=>{e.dispatchEvent(new Event("phx:hide-start")),$.putSticky(e,"toggle",g=>g.style.display="none"),e.dispatchEvent(new Event("phx:hide-end"))}):window.requestAnimationFrame(()=>{e.dispatchEvent(new Event("phx:show-start")),$.putSticky(e,"toggle",g=>g.style.display=n||"block"),e.dispatchEvent(new Event("phx:show-end"))})},addOrRemoveClasses(t,r,e,n,i,a){let[o,s,l]=n||[[],[],[]];if(o.length>0){let u=()=>this.addOrRemoveClasses(t,s.concat(o),[]),c=()=>this.addOrRemoveClasses(t,r.concat(l),e.concat(o).concat(s));return a.transition(i,u,c)}window.requestAnimationFrame(()=>{let[u,c]=$.getSticky(t,"classes",[[],[]]),d=r.filter(h=>u.indexOf(h)<0&&!t.classList.contains(h)),f=e.filter(h=>c.indexOf(h)<0&&t.classList.contains(h)),g=u.filter(h=>e.indexOf(h)<0).concat(d),y=c.filter(h=>r.indexOf(h)<0).concat(f);$.putSticky(t,"classes",h=>(h.classList.remove(...y),h.classList.add(...g),[g,y]))})},setOrRemoveAttrs(t,r,e){let[n,i]=$.getSticky(t,"attrs",[[],[]]),a=r.map(([l,u])=>l).concat(e),o=n.filter(([l,u])=>!a.includes(l)).concat(r),s=i.filter(l=>!a.includes(l)).concat(e);$.putSticky(t,"attrs",l=>(s.forEach(u=>l.removeAttribute(u)),o.forEach(([u,c])=>l.setAttribute(u,c)),[o,s]))},hasAllClasses(t,r){return r.every(e=>t.classList.contains(e))},isToggledOut(t,r){return!this.isVisible(t)||this.hasAllClasses(t,r)},filterToEls(t,{to:r}){return r?$.all(document,r):[t]}},Pe=Ti,Rt=(t,r,e=[])=>{let n=new FormData(t),i=[];n.forEach((o,s,l)=>{o instanceof File&&i.push(s)}),i.forEach(o=>n.delete(o));let a=new URLSearchParams;for(let[o,s]of n.entries())(e.length===0||e.indexOf(o)>=0)&&a.append(o,s);for(let o in r)a.append(o,r[o]);return a.toString()},ar=class{constructor(t,r,e,n){this.liveSocket=r,this.flash=n,this.parent=e,this.root=e?e.root:this,this.el=t,this.id=this.el.id,this.ref=0,this.childJoins=0,this.loaderTimer=null,this.pendingDiffs=[],this.pruningCIDs=[],this.redirect=!1,this.href=null,this.joinCount=this.parent?this.parent.joinCount-1:0,this.joinPending=!0,this.destroyed=!1,this.joinCallback=function(i){i&&i()},this.stopCallback=function(){},this.pendingJoinOps=this.parent?null:[],this.viewHooks={},this.uploaders={},this.formSubmits=[],this.children=this.parent?null:{},this.root.children[this.id]={},this.channel=this.liveSocket.channel(`lv:${this.id}`,()=>({redirect:this.redirect?this.href:void 0,url:this.redirect?void 0:this.href||void 0,params:this.connectParams(),session:this.getSession(),static:this.getStatic(),flash:this.flash})),this.showLoader(this.liveSocket.loaderTimeout),this.bindChannel()}setHref(t){this.href=t}setRedirect(t){this.redirect=!0,this.href=t}isMain(){return this.el.getAttribute(un)!==null}connectParams(){let t=this.liveSocket.params(this.el),r=$.all(document,`[${this.binding(Fr)}]`).map(e=>e.src||e.href).filter(e=>typeof e=="string");return r.length>0&&(t._track_static=r),t._mounts=this.joinCount,t}isConnected(){return this.channel.canPush()}getSession(){return this.el.getAttribute(qe)}getStatic(){let t=this.el.getAttribute(ut);return t===""?null:t}destroy(t=function(){}){this.destroyAllChildren(),this.destroyed=!0,delete this.root.children[this.id],this.parent&&delete this.root.children[this.parent.id][this.id],clearTimeout(this.loaderTimer);let r=()=>{t();for(let e in this.viewHooks)this.destroyHook(this.viewHooks[e])};$.markPhxChildDestroyed(this.el),this.log("destroyed",()=>["the child has been removed from the parent"]),this.channel.leave().receive("ok",r).receive("error",r).receive("timeout",r)}setContainerClasses(...t){this.el.classList.remove(Nn,Yt,jn),this.el.classList.add(...t)}showLoader(t){if(clearTimeout(this.loaderTimer),t)this.loaderTimer=setTimeout(()=>this.showLoader(),t);else{for(let r in this.viewHooks)this.viewHooks[r].__disconnected();this.setContainerClasses(Yt)}}hideLoader(){clearTimeout(this.loaderTimer),this.setContainerClasses(Nn)}triggerReconnected(){for(let t in this.viewHooks)this.viewHooks[t].__reconnected()}log(t,r){this.liveSocket.log(this,t,r)}transition(t,r,e=function(){}){this.liveSocket.transition(t,r,e)}withinTargets(t,r){if(t instanceof HTMLElement||t instanceof SVGElement)return this.liveSocket.owner(t,e=>r(e,t));if(Je(t))$.findComponentNodeList(this.el,t).length===0?xe(`no component found matching phx-target of ${t}`):r(this,parseInt(t));else{let e=Array.from(document.querySelectorAll(t));e.length===0&&xe(`nothing found matching the phx-target selector "${t}"`),e.forEach(n=>this.liveSocket.owner(n,i=>r(i,n)))}}applyDiff(t,r,e){this.log(t,()=>["",Mt(r)]);let{diff:n,reply:i,events:a,title:o}=Zn.extract(r);return o&&$.putTitle(o),e({diff:n,reply:i,events:a}),i}onJoin(t){let{rendered:r,container:e}=t;if(e){let[n,i]=e;this.el=$.replaceRootContainer(this.el,n,i)}this.childJoins=0,this.joinPending=!0,this.flash=null,Xe.dropLocal(this.liveSocket.localStorage,window.location.pathname,Qn),this.applyDiff("mount",r,({diff:n,events:i})=>{this.rendered=new Zn(this.id,n);let a=this.renderContainer(null,"join");this.dropPendingRefs();let o=this.formsForRecovery(a);this.joinCount++,o.length>0?o.forEach(([s,l,u],c)=>{this.pushFormRecovery(s,u,d=>{c===o.length-1&&this.onJoinComplete(d,a,i)})}):this.onJoinComplete(t,a,i)})}dropPendingRefs(){$.all(document,`[${Ke}="${this.id}"][${Ne}]`,t=>{t.removeAttribute(Ne),t.removeAttribute(Ke)})}onJoinComplete({live_patch:t},r,e){if(this.joinCount>1||this.parent&&!this.parent.isJoinPending())return this.applyJoinPatch(t,r,e);$.findPhxChildrenInFragment(r,this.id).filter(i=>{let a=i.id&&this.el.querySelector(`[id="${i.id}"]`),o=a&&a.getAttribute(ut);return o&&i.setAttribute(ut,o),this.joinChild(i)}).length===0?this.parent?(this.root.pendingJoinOps.push([this,()=>this.applyJoinPatch(t,r,e)]),this.parent.ackJoin(this)):(this.onAllChildJoinsComplete(),this.applyJoinPatch(t,r,e)):this.root.pendingJoinOps.push([this,()=>this.applyJoinPatch(t,r,e)])}attachTrueDocEl(){this.el=$.byId(this.id),this.el.setAttribute(ft,this.root.id)}applyJoinPatch(t,r,e){this.attachTrueDocEl();let n=new Lt(this,this.el,this.id,r,null);if(n.markPrunableContentForRemoval(),this.performPatch(n,!1),this.joinNewChildren(),$.all(this.el,`[${this.binding(ot)}], [data-phx-${ot}]`,i=>{let a=this.addHook(i);a&&a.__mounted()}),this.joinPending=!1,this.liveSocket.dispatchEvents(e),this.applyPendingUpdates(),t){let{kind:i,to:a}=t;this.liveSocket.historyPatch(a,i)}this.hideLoader(),this.joinCount>1&&this.triggerReconnected(),this.stopCallback()}triggerBeforeUpdateHook(t,r){this.liveSocket.triggerDOM("onBeforeElUpdated",[t,r]);let e=this.getHook(t),n=e&&$.isIgnored(t,this.binding(ln));if(e&&!t.isEqualNode(r)&&!(n&&ri(t.dataset,r.dataset)))return e.__beforeUpdate(),e}performPatch(t,r){let e=[],n=!1,i=new Set;return t.after("added",a=>{this.liveSocket.triggerDOM("onNodeAdded",[a]);let o=this.addHook(a);o&&o.__mounted()}),t.after("phxChildAdded",a=>{$.isPhxSticky(a)?this.liveSocket.joinRootViews():n=!0}),t.before("updated",(a,o)=>{this.triggerBeforeUpdateHook(a,o)&&i.add(a.id)}),t.after("updated",a=>{i.has(a.id)&&this.getHook(a).__updated()}),t.after("discarded",a=>{a.nodeType===Node.ELEMENT_NODE&&e.push(a)}),t.after("transitionsDiscarded",a=>this.afterElementsRemoved(a,r)),t.perform(),this.afterElementsRemoved(e,r),n}afterElementsRemoved(t,r){let e=[];t.forEach(n=>{let i=$.all(n,`[${Ce}]`),a=$.all(n,`[${this.binding(ot)}]`);i.concat(n).forEach(o=>{let s=this.componentID(o);Je(s)&&e.indexOf(s)===-1&&e.push(s)}),a.concat(n).forEach(o=>{let s=this.getHook(o);s&&this.destroyHook(s)})}),r&&this.maybePushComponentsDestroyed(e)}joinNewChildren(){$.findPhxChildren(this.el,this.id).forEach(t=>this.joinChild(t))}getChildById(t){return this.root.children[this.id][t]}getDescendentByEl(t){return t.id===this.id?this:this.children[t.getAttribute(tt)][t.id]}destroyDescendent(t){for(let r in this.root.children)for(let e in this.root.children[r])if(e===t)return this.root.children[r][e].destroy()}joinChild(t){if(!this.getChildById(t.id)){let e=new ar(t,this.liveSocket,this);return this.root.children[this.id][e.id]=e,e.join(),this.childJoins++,!0}}isJoinPending(){return this.joinPending}ackJoin(t){this.childJoins--,this.childJoins===0&&(this.parent?this.parent.ackJoin(this):this.onAllChildJoinsComplete())}onAllChildJoinsComplete(){this.joinCallback(()=>{this.pendingJoinOps.forEach(([t,r])=>{t.isDestroyed()||r()}),this.pendingJoinOps=[]})}update(t,r){if(this.isJoinPending()||this.liveSocket.hasPendingLink()&&!$.isPhxSticky(this.el))return this.pendingDiffs.push({diff:t,events:r});this.rendered.mergeDiff(t);let e=!1;this.rendered.isComponentOnlyDiff(t)?this.liveSocket.time("component patch complete",()=>{$.findParentCIDs(this.el,this.rendered.componentCIDs(t)).forEach(i=>{this.componentPatch(this.rendered.getComponent(t,i),i)&&(e=!0)})}):Xn(t)||this.liveSocket.time("full patch complete",()=>{let n=this.renderContainer(t,"update"),i=new Lt(this,this.el,this.id,n,null);e=this.performPatch(i,!0)}),this.liveSocket.dispatchEvents(r),e&&this.joinNewChildren()}renderContainer(t,r){return this.liveSocket.time(`toString diff (${r})`,()=>{let e=this.el.tagName,n=t?this.rendered.componentCIDs(t).concat(this.pruningCIDs):null,i=this.rendered.toString(n);return`<${e}>${i}</${e}>`})}componentPatch(t,r){if(Xn(t))return!1;let e=this.rendered.componentToString(r),n=new Lt(this,this.el,this.id,e,r);return this.performPatch(n,!0)}getHook(t){return this.viewHooks[ct.elementID(t)]}addHook(t){if(ct.elementID(t)||!t.getAttribute)return;let r=t.getAttribute(`data-phx-${ot}`)||t.getAttribute(this.binding(ot));if(r&&!this.ownsElement(t))return;let e=this.liveSocket.getHookCallbacks(r);if(e){t.id||xe(`no DOM ID for hook "${r}". Hooks require a unique ID on each element.`,t);let n=new ct(this,t,e);return this.viewHooks[ct.elementID(n.el)]=n,n}else r!==null&&xe(`unknown hook found for "${r}"`,t)}destroyHook(t){t.__destroyed(),t.__cleanup__(),delete this.viewHooks[ct.elementID(t.el)]}applyPendingUpdates(){this.pendingDiffs.forEach(({diff:t,events:r})=>this.update(t,r)),this.pendingDiffs=[]}onChannel(t,r){this.liveSocket.onChannel(this.channel,t,e=>{this.isJoinPending()?this.root.pendingJoinOps.push([this,()=>r(e)]):this.liveSocket.requestDOMUpdate(()=>r(e))})}bindChannel(){this.liveSocket.onChannel(this.channel,"diff",t=>{this.liveSocket.requestDOMUpdate(()=>{this.applyDiff("update",t,({diff:r,events:e})=>this.update(r,e))})}),this.onChannel("redirect",({to:t,flash:r})=>this.onRedirect({to:t,flash:r})),this.onChannel("live_patch",t=>this.onLivePatch(t)),this.onChannel("live_redirect",t=>this.onLiveRedirect(t)),this.channel.onError(t=>this.onError(t)),this.channel.onClose(t=>this.onClose(t))}destroyAllChildren(){for(let t in this.root.children[this.id])this.getChildById(t).destroy()}onLiveRedirect(t){let{to:r,kind:e,flash:n}=t,i=this.expandURL(r);this.liveSocket.historyRedirect(i,e,n)}onLivePatch(t){let{to:r,kind:e}=t;this.href=this.expandURL(r),this.liveSocket.historyPatch(r,e)}expandURL(t){return t.startsWith("/")?`${window.location.protocol}//${window.location.host}${t}`:t}onRedirect({to:t,flash:r}){this.liveSocket.redirect(t,r)}isDestroyed(){return this.destroyed}join(t){this.isMain()&&(this.stopCallback=this.liveSocket.withPageLoading({to:this.href,kind:"initial"})),this.joinCallback=r=>{r=r||function(){},t?t(this.joinCount,r):r()},this.liveSocket.wrapPush(this,{timeout:!1},()=>this.channel.join().receive("ok",r=>{this.isDestroyed()||this.liveSocket.requestDOMUpdate(()=>this.onJoin(r))}).receive("error",r=>!this.isDestroyed()&&this.onJoinError(r)).receive("timeout",()=>!this.isDestroyed()&&this.onJoinError({reason:"timeout"})))}onJoinError(t){if(t.reason==="unauthorized"||t.reason==="stale")return this.log("error",()=>["unauthorized live_redirect. Falling back to page request",t]),this.onRedirect({to:this.href});if((t.redirect||t.live_redirect)&&(this.joinPending=!1,this.channel.leave()),t.redirect)return this.onRedirect(t.redirect);if(t.live_redirect)return this.onLiveRedirect(t.live_redirect);this.log("error",()=>["unable to join",t]),this.liveSocket.isConnected()&&this.liveSocket.reloadWithJitter(this)}onClose(t){if(!this.isDestroyed()){if(this.liveSocket.hasPendingLink()&&t!=="leave")return this.liveSocket.reloadWithJitter(this);this.destroyAllChildren(),this.liveSocket.dropActiveElement(this),document.activeElement&&document.activeElement.blur(),this.liveSocket.isUnloaded()&&this.showLoader(Yr)}}onError(t){this.onClose(t),this.liveSocket.isConnected()&&this.log("error",()=>["view crashed",t]),this.liveSocket.isUnloaded()||this.displayError()}displayError(){this.isMain()&&$.dispatchEvent(window,"phx:page-loading-start",{detail:{to:this.href,kind:"error"}}),this.showLoader(),this.setContainerClasses(Yt,jn)}pushWithReply(t,r,e,n=function(){}){if(!this.isConnected())return;let[i,[a],o]=t?t():[null,[],{}],s=function(){};return(o.page_loading||a&&a.getAttribute(this.binding(Pn))!==null)&&(s=this.liveSocket.withPageLoading({kind:"element",target:a})),typeof e.cid!="number"&&delete e.cid,this.liveSocket.wrapPush(this,{timeout:!0},()=>this.channel.push(r,e,Kr).receive("ok",l=>{i!==null&&this.undoRefs(i);let u=c=>{l.redirect&&this.onRedirect(l.redirect),l.live_patch&&this.onLivePatch(l.live_patch),l.live_redirect&&this.onLiveRedirect(l.live_redirect),s(),n(l,c)};l.diff?this.liveSocket.requestDOMUpdate(()=>{let c=this.applyDiff("update",l.diff,({diff:d,events:f})=>{this.update(d,f)});u(c)}):u(null)}))}undoRefs(t){$.all(document,`[${Ke}="${this.id}"][${Ne}="${t}"]`,r=>{let e=r.getAttribute(Ct);r.removeAttribute(Ne),r.removeAttribute(Ke),r.getAttribute(Gt)!==null&&(r.readOnly=!1,r.removeAttribute(Gt)),e!==null&&(r.disabled=e==="true",r.removeAttribute(Ct)),er.forEach(a=>$.removeClass(r,a));let n=r.getAttribute(_t);n!==null&&(r.innerText=n,r.removeAttribute(_t));let i=$.private(r,Ne);if(i){let a=this.triggerBeforeUpdateHook(r,i);Lt.patchEl(r,i,this.liveSocket.getActiveElement()),a&&a.__updated(),$.deletePrivate(r,Ne)}})}putRef(t,r,e={}){let n=this.ref++,i=this.binding(sn);return e.loading&&(t=t.concat($.all(document,e.loading))),t.forEach(a=>{a.classList.add(`phx-${r}-loading`),a.setAttribute(Ne,n),a.setAttribute(Ke,this.el.id);let o=a.getAttribute(i);o!==null&&(a.getAttribute(_t)||a.setAttribute(_t,a.innerText),o!==""&&(a.innerText=o),a.setAttribute("disabled",""))}),[n,t,e]}componentID(t){let r=t.getAttribute&&t.getAttribute(Ce);return r?parseInt(r):null}targetComponentID(t,r,e={}){if(Je(r))return r;let n=t.getAttribute(this.binding("target"));return Je(n)?parseInt(n):r&&(n!==null||e.target)?this.closestComponentID(r):null}closestComponentID(t){return Je(t)?t:t?ze(t.closest(`[${Ce}]`),r=>this.ownsElement(r)&&this.componentID(r)):null}pushHookEvent(t,r,e,n){if(!this.isConnected())return this.log("hook",()=>["unable to push hook event. LiveView not connected",r,e]),!1;let[i,a,o]=this.putRef([],"hook");return this.pushWithReply(()=>[i,a,o],"event",{type:"hook",event:r,value:e,cid:this.closestComponentID(t)},(s,l)=>n(l,i)),i}extractMeta(t,r,e){let n=this.binding("value-");for(let i=0;i<t.attributes.length;i++){r||(r={});let a=t.attributes[i].name;a.startsWith(n)&&(r[a.replace(n,"")]=t.getAttribute(a))}if(t.value!==void 0&&(r||(r={}),r.value=t.value,t.tagName==="INPUT"&&rr.indexOf(t.type)>=0&&!t.checked&&delete r.value),e){r||(r={});for(let i in e)r[i]=e[i]}return r}pushEvent(t,r,e,n,i,a={}){this.pushWithReply(()=>this.putRef([r],t,a),"event",{type:t,event:n,value:this.extractMeta(r,i,a.value),cid:this.targetComponentID(r,e,a)})}pushFileProgress(t,r,e,n=function(){}){this.liveSocket.withinOwners(t.form,(i,a)=>{i.pushWithReply(null,"progress",{event:t.getAttribute(i.binding(Jr)),ref:t.getAttribute(Ze),entry_ref:r,progress:e,cid:i.targetComponentID(t.form,a)},n)})}pushInput(t,r,e,n,i,a){let o,s=Je(e)?e:this.targetComponentID(t.form,r),l=()=>this.putRef([t,t.form],"change",i),u;t.getAttribute(this.binding("change"))?u=Rt(t.form,{_target:i._target},[t.name]):u=Rt(t.form,{_target:i._target}),$.isUploadInput(t)&&t.files&&t.files.length>0&&ke.trackFiles(t,Array.from(t.files)),o=ke.serializeUploads(t);let c={type:"form",event:n,value:u,uploads:o,cid:s};this.pushWithReply(l,"event",c,d=>{if($.showError(t,this.liveSocket.binding(an)),$.isUploadInput(t)&&t.getAttribute("data-phx-auto-upload")!==null){if(ke.filesAwaitingPreflight(t).length>0){let[f,g]=l();this.uploadFiles(t.form,r,f,s,y=>{a&&a(d),this.triggerAwaitingSubmit(t.form)})}}else a&&a(d)})}triggerAwaitingSubmit(t){let r=this.getScheduledSubmit(t);if(r){let[e,n,i,a]=r;this.cancelSubmit(t),a()}}getScheduledSubmit(t){return this.formSubmits.find(([r,e,n,i])=>r.isSameNode(t))}scheduleSubmit(t,r,e,n){if(this.getScheduledSubmit(t))return!0;this.formSubmits.push([t,r,e,n])}cancelSubmit(t){this.formSubmits=this.formSubmits.filter(([r,e,n])=>r.isSameNode(t)?(this.undoRefs(e),!1):!0)}pushFormSubmit(t,r,e,n,i){let a=d=>!(dt(d,`${this.binding(ln)}=ignore`,d.form)||dt(d,"data-phx-update=ignore",d.form)),o=d=>d.hasAttribute(this.binding(sn)),s=d=>d.tagName=="BUTTON",l=d=>["INPUT","TEXTAREA","SELECT"].includes(d.tagName),u=()=>{let d=Array.from(t.elements),f=d.filter(o),g=d.filter(s).filter(a),y=d.filter(l).filter(a);return g.forEach(h=>{h.setAttribute(Ct,h.disabled),h.disabled=!0}),y.forEach(h=>{h.setAttribute(Gt,h.readOnly),h.readOnly=!0,h.files&&(h.setAttribute(Ct,h.disabled),h.disabled=!0)}),t.setAttribute(this.binding(Pn),""),this.putRef([t].concat(f).concat(g).concat(y),"submit",n)},c=this.targetComponentID(t,r);if(ke.hasUploadsInProgress(t)){let[d,f]=u(),g=()=>this.pushFormSubmit(t,r,e,n,i);return this.scheduleSubmit(t,d,n,g)}else if(ke.inputsAwaitingPreflight(t).length>0){let[d,f]=u(),g=()=>[d,f,n];this.uploadFiles(t,r,d,c,y=>{let h=Rt(t,{});this.pushWithReply(g,"event",{type:"form",event:e,value:h,cid:c},i)})}else{let d=Rt(t,{});this.pushWithReply(u,"event",{type:"form",event:e,value:d,cid:c},i)}}uploadFiles(t,r,e,n,i){let a=this.joinCount,o=ke.activeFileInputs(t),s=o.length;o.forEach(l=>{let u=new ke(l,this,()=>{s--,s===0&&i()});this.uploaders[l]=u;let c=u.entries().map(f=>f.toPreflightPayload()),d={ref:l.getAttribute(Ze),entries:c,cid:this.targetComponentID(l.form,r)};this.log("upload",()=>["sending preflight request",d]),this.pushWithReply(null,"allow_upload",d,f=>{if(this.log("upload",()=>["got preflight response",f]),f.error){this.undoRefs(e);let[g,y]=f.error;this.log("upload",()=>[`error for entry ${g}`,y])}else{let g=y=>{this.channel.onError(()=>{this.joinCount===a&&y()})};u.initAdapterUpload(f,g,this.liveSocket)}})})}dispatchUploads(t,r){let e=$.findUploadInputs(this.el).filter(n=>n.name===t);e.length===0?xe(`no live file inputs found matching the name "${t}"`):e.length>1?xe(`duplicate live file inputs found matching the name "${t}"`):$.dispatchEvent(e[0],tr,{detail:{files:r}})}pushFormRecovery(t,r,e){this.liveSocket.withinOwners(t,(n,i)=>{let a=t.elements[0],o=t.getAttribute(this.binding(Hn))||t.getAttribute(this.binding("change"));Pe.exec("change",o,n,a,["push",{_target:a.name,newCid:r,callback:e}])})}pushLinkPatch(t,r,e){let n=this.liveSocket.setPendingLink(t),i=r?()=>this.putRef([r],"click"):null,a=()=>this.liveSocket.redirect(window.location.href),o=this.pushWithReply(i,"live_patch",{url:t},s=>{this.liveSocket.requestDOMUpdate(()=>{s.link_redirect?this.liveSocket.replaceMain(t,null,e,n):(this.liveSocket.commitPendingLink(n)&&(this.href=t),this.applyPendingUpdates(),e&&e(n))})});o?o.receive("timeout",a):a()}formsForRecovery(t){if(this.joinCount===0)return[];let r=this.binding("change"),e=document.createElement("template");return e.innerHTML=t,$.all(this.el,`form[${r}]`).filter(n=>n.id&&this.ownsElement(n)).filter(n=>n.elements.length>0).filter(n=>n.getAttribute(this.binding(Hn))!=="ignore").map(n=>{let i=e.content.querySelector(`form[id="${n.id}"][${r}="${n.getAttribute(r)}"]`);return i?[n,i,this.targetComponentID(i)]:[n,null,null]}).filter(([n,i,a])=>i)}maybePushComponentsDestroyed(t){let r=t.filter(e=>$.findComponentNodeList(this.el,e).length===0);r.length>0&&(this.pruningCIDs.push(...r),this.pushWithReply(null,"cids_will_destroy",{cids:r},()=>{this.pruningCIDs=this.pruningCIDs.filter(n=>r.indexOf(n)!==-1);let e=r.filter(n=>$.findComponentNodeList(this.el,n).length===0);e.length>0&&this.pushWithReply(null,"cids_destroyed",{cids:e},n=>{this.rendered.pruneCIDs(n.cids)})}))}ownsElement(t){return t.getAttribute(tt)===this.id||ze(t.closest(nt),r=>r.id)===this.id}submitForm(t,r,e,n={}){$.putPrivate(t,ir,!0);let i=this.liveSocket.binding(an),a=Array.from(t.elements);this.liveSocket.blurActiveElement(this),this.pushFormSubmit(t,r,e,n,()=>{a.forEach(o=>$.showError(o,i)),this.liveSocket.restorePreviouslyActiveFocus()})}binding(t){return this.liveSocket.binding(t)}},sr=class{constructor(t,r,e={}){if(this.unloaded=!1,!r||r.constructor.name==="Object")throw new Error(`
      a phoenix Socket must be provided as the second argument to the LiveSocket constructor. For example:

          import {Socket} from "phoenix"
          import {LiveSocket} from "phoenix_live_view"
          let liveSocket = new LiveSocket("/live", Socket, {...})
      `);this.socket=new r(t,e),this.bindingPrefix=e.bindingPrefix||Gr,this.opts=e,this.params=Qt(e.params||{}),this.viewLogger=e.viewLogger,this.metadataCallbacks=e.metadata||{},this.defaults=Object.assign(Mt(Zr),e.defaults||{}),this.activeElement=null,this.prevActive=null,this.silenced=!1,this.main=null,this.outgoingMainEl=null,this.clickStartedAtTarget=null,this.linkRef=1,this.roots={},this.href=window.location.href,this.pendingLink=null,this.currentLocation=Mt(window.location),this.hooks=e.hooks||{},this.uploaders=e.uploaders||{},this.loaderTimeout=e.loaderTimeout||qr,this.reloadWithJitterTimer=null,this.maxReloads=e.maxReloads||Pr,this.reloadJitterMin=e.reloadJitterMin||Nr,this.reloadJitterMax=e.reloadJitterMax||Dr,this.failsafeJitter=e.failsafeJitter||jr,this.localStorage=e.localStorage||window.localStorage,this.sessionStorage=e.sessionStorage||window.sessionStorage,this.boundTopLevelEvents=!1,this.domCallbacks=Object.assign({onNodeAdded:Qt(),onBeforeElUpdated:Qt()},e.dom||{}),this.transitions=new Ei,window.addEventListener("pagehide",n=>{this.unloaded=!0}),this.socket.onOpen(()=>{this.isUnloaded()&&window.location.reload()})}isProfileEnabled(){return this.sessionStorage.getItem(Kt)==="true"}isDebugEnabled(){return this.sessionStorage.getItem(Bt)==="true"}isDebugDisabled(){return this.sessionStorage.getItem(Bt)==="false"}enableDebug(){this.sessionStorage.setItem(Bt,"true")}enableProfiling(){this.sessionStorage.setItem(Kt,"true")}disableDebug(){this.sessionStorage.setItem(Bt,"false")}disableProfiling(){this.sessionStorage.removeItem(Kt)}enableLatencySim(t){this.enableDebug(),console.log("latency simulator enabled for the duration of this browser session. Call disableLatencySim() to disable"),this.sessionStorage.setItem(Zt,t)}disableLatencySim(){this.sessionStorage.removeItem(Zt)}getLatencySim(){let t=this.sessionStorage.getItem(Zt);return t?parseInt(t):null}getSocket(){return this.socket}connect(){window.location.hostname==="localhost"&&!this.isDebugDisabled()&&this.enableDebug();let t=()=>{this.joinRootViews()?(this.bindTopLevelEvents(),this.socket.connect()):this.main&&this.socket.connect()};["complete","loaded","interactive"].indexOf(document.readyState)>=0?t():document.addEventListener("DOMContentLoaded",()=>t())}disconnect(t){clearTimeout(this.reloadWithJitterTimer),this.socket.disconnect(t)}replaceTransport(t){clearTimeout(this.reloadWithJitterTimer),this.socket.replaceTransport(t),this.connect()}execJS(t,r,e=null){this.owner(t,n=>Pe.exec(e,r,n,t))}triggerDOM(t,r){this.domCallbacks[t](...r)}time(t,r){if(!this.isProfileEnabled()||!console.time)return r();console.time(t);let e=r();return console.timeEnd(t),e}log(t,r,e){if(this.viewLogger){let[n,i]=e();this.viewLogger(t,r,n,i)}else if(this.isDebugEnabled()){let[n,i]=e();ni(t,r,n,i)}}requestDOMUpdate(t){this.transitions.after(t)}transition(t,r,e=function(){}){this.transitions.addTransition(t,r,e)}onChannel(t,r,e){t.on(r,n=>{let i=this.getLatencySim();i?(console.log(`simulating ${i}ms of latency from server to client`),setTimeout(()=>e(n),i)):e(n)})}wrapPush(t,r,e){let n=this.getLatencySim(),i=t.joinCount;if(!n)return this.isConnected()&&r.timeout?e().receive("timeout",()=>{t.joinCount===i&&!t.isDestroyed()&&this.reloadWithJitter(t,()=>{this.log(t,"timeout",()=>["received timeout while communicating with server. Falling back to hard refresh for recovery"])})}):e();console.log(`simulating ${n}ms of latency from client to server`);let a={receives:[],receive(o,s){this.receives.push([o,s])}};return setTimeout(()=>{t.isDestroyed()||a.receives.reduce((o,[s,l])=>o.receive(s,l),e())},n),a}reloadWithJitter(t,r){clearTimeout(this.reloadWithJitterTimer),this.disconnect();let e=this.reloadJitterMin,n=this.reloadJitterMax,i=Math.floor(Math.random()*(n-e+1))+e,a=Xe.updateLocal(this.localStorage,window.location.pathname,Qn,0,o=>o+1);a>this.maxReloads&&(i=this.failsafeJitter),this.reloadWithJitterTimer=setTimeout(()=>{t.isDestroyed()||t.isConnected()||(t.destroy(),r?r():this.log(t,"join",()=>[`encountered ${a} consecutive reloads`]),a>this.maxReloads&&this.log(t,"join",()=>[`exceeded ${this.maxReloads} consecutive reloads. Entering failsafe mode`]),this.hasPendingLink()?window.location=this.pendingLink:window.location.reload())},i)}getHookCallbacks(t){return t&&t.startsWith("Phoenix.")?si[t.split(".")[1]]:this.hooks[t]}isUnloaded(){return this.unloaded}isConnected(){return this.socket.isConnected()}getBindingPrefix(){return this.bindingPrefix}binding(t){return`${this.getBindingPrefix()}${t}`}channel(t,r){return this.socket.channel(t,r)}joinRootViews(){let t=!1;return $.all(document,`${nt}:not([${tt}])`,r=>{if(!this.getRootById(r.id)){let e=this.newRootView(r);e.setHref(this.getHref()),e.join(),r.getAttribute(un)&&(this.main=e)}t=!0}),t}redirect(t,r){this.disconnect(),Xe.redirect(t,r)}replaceMain(t,r,e=null,n=this.setPendingLink(t)){this.outgoingMainEl=this.outgoingMainEl||this.main.el;let i=$.cloneNode(this.outgoingMainEl,"");this.main.showLoader(this.loaderTimeout),this.main.destroy(),this.main=this.newRootView(i,r),this.main.setRedirect(t),this.transitionRemoves(),this.main.join((a,o)=>{a===1&&this.commitPendingLink(n)&&this.requestDOMUpdate(()=>{$.findPhxSticky(document).forEach(s=>i.appendChild(s)),this.outgoingMainEl.replaceWith(i),this.outgoingMainEl=null,e&&requestAnimationFrame(e),o()})})}transitionRemoves(t){let r=this.binding("remove");t=t||$.all(document,`[${r}]`),t.forEach(e=>{document.body.contains(e)&&this.execJS(e,e.getAttribute(r),"remove")})}isPhxView(t){return t.getAttribute&&t.getAttribute(qe)!==null}newRootView(t,r){let e=new ar(t,this,null,r);return this.roots[e.id]=e,e}owner(t,r){let e=ze(t.closest(nt),n=>this.getViewByEl(n))||this.main;e&&r(e)}withinOwners(t,r){this.owner(t,e=>r(e,t))}getViewByEl(t){let r=t.getAttribute(ft);return ze(this.getRootById(r),e=>e.getDescendentByEl(t))}getRootById(t){return this.roots[t]}destroyAllViews(){for(let t in this.roots)this.roots[t].destroy(),delete this.roots[t];this.main=null}destroyViewByEl(t){let r=this.getRootById(t.getAttribute(ft));r&&r.id===t.id?(r.destroy(),delete this.roots[r.id]):r&&r.destroyDescendent(t.id)}setActiveElement(t){if(this.activeElement===t)return;this.activeElement=t;let r=()=>{t===this.activeElement&&(this.activeElement=null),t.removeEventListener("mouseup",this),t.removeEventListener("touchend",this)};t.addEventListener("mouseup",r),t.addEventListener("touchend",r)}getActiveElement(){return document.activeElement===document.body?this.activeElement||document.activeElement:document.activeElement||document.body}dropActiveElement(t){this.prevActive&&t.ownsElement(this.prevActive)&&(this.prevActive=null)}restorePreviouslyActiveFocus(){this.prevActive&&this.prevActive!==document.body&&this.prevActive.focus()}blurActiveElement(){this.prevActive=this.getActiveElement(),this.prevActive!==document.body&&this.prevActive.blur()}bindTopLevelEvents(){this.boundTopLevelEvents||(this.boundTopLevelEvents=!0,this.socket.onClose(t=>{t&&t.code===1e3&&this.main&&this.reloadWithJitter(this.main)}),document.body.addEventListener("click",function(){}),window.addEventListener("pageshow",t=>{t.persisted&&(this.getSocket().disconnect(),this.withPageLoading({to:window.location.href,kind:"redirect"}),window.location.reload())},!0),this.bindNav(),this.bindClicks(),this.bindForms(),this.bind({keyup:"keyup",keydown:"keydown"},(t,r,e,n,i,a)=>{let o=n.getAttribute(this.binding(Xr)),s=t.key&&t.key.toLowerCase();if(o&&o.toLowerCase()!==s)return;let l={key:t.key,...this.eventMeta(r,t,n)};Pe.exec(r,i,e,n,["push",{data:l}])}),this.bind({blur:"focusout",focus:"focusin"},(t,r,e,n,i,a)=>{if(!a){let o={key:t.key,...this.eventMeta(r,t,n)};Pe.exec(r,i,e,n,["push",{data:o}])}}),this.bind({blur:"blur",focus:"focus"},(t,r,e,n,i,a,o)=>{if(o==="window"){let s=this.eventMeta(r,t,n);Pe.exec(r,a,e,n,["push",{data:s}])}}),window.addEventListener("dragover",t=>t.preventDefault()),window.addEventListener("drop",t=>{t.preventDefault();let r=ze(dt(t.target,this.binding(Rn)),i=>i.getAttribute(this.binding(Rn))),e=r&&document.getElementById(r),n=Array.from(t.dataTransfer.files||[]);!e||e.disabled||n.length===0||!(e.files instanceof FileList)||(ke.trackFiles(e,n),e.dispatchEvent(new Event("input",{bubbles:!0})))}),this.on(tr,t=>{let r=t.target;if(!$.isUploadInput(r))return;let e=Array.from(t.detail.files||[]).filter(n=>n instanceof File||n instanceof Blob);ke.trackFiles(r,e),r.dispatchEvent(new Event("input",{bubbles:!0}))}))}eventMeta(t,r,e){let n=this.metadataCallbacks[t];return n?n(r,e):{}}setPendingLink(t){return this.linkRef++,this.pendingLink=t,this.linkRef}commitPendingLink(t){return this.linkRef!==t?!1:(this.href=this.pendingLink,this.pendingLink=null,!0)}getHref(){return this.href}hasPendingLink(){return!!this.pendingLink}bind(t,r){for(let e in t){let n=t[e];this.on(n,i=>{let a=this.binding(e),o=this.binding(`window-${e}`),s=i.target.getAttribute&&i.target.getAttribute(a);s?this.debounce(i.target,i,n,()=>{this.withinOwners(i.target,l=>{r(i,e,l,i.target,s,null)})}):$.all(document,`[${o}]`,l=>{let u=l.getAttribute(o);this.debounce(l,i,n,()=>{this.withinOwners(l,c=>{r(i,e,c,l,u,"window")})})})})}}bindClicks(){window.addEventListener("mousedown",t=>this.clickStartedAtTarget=t.target),this.bindClick("click","click",!1),this.bindClick("mousedown","capture-click",!0)}bindClick(t,r,e){let n=this.binding(r);window.addEventListener(t,i=>{let a=null;if(e)a=i.target.matches(`[${n}]`)?i.target:i.target.querySelector(`[${n}]`);else{let s=this.clickStartedAtTarget||i.target;a=dt(s,n),this.dispatchClickAway(i,s),this.clickStartedAtTarget=null}let o=a&&a.getAttribute(n);!o||(a.getAttribute("href")==="#"&&i.preventDefault(),this.debounce(a,i,"click",()=>{this.withinOwners(a,s=>{Pe.exec("click",o,s,a,["push",{data:this.eventMeta("click",i,a)}])})}))},e)}dispatchClickAway(t,r){let e=this.binding("click-away");$.all(document,`[${e}]`,n=>{n.isSameNode(r)||n.contains(r)||this.withinOwners(t.target,i=>{let a=n.getAttribute(e);Pe.isVisible(n)&&Pe.exec("click",a,i,n,["push",{data:this.eventMeta("click",t,t.target)}])})})}bindNav(){if(!Xe.canPushState())return;history.scrollRestoration&&(history.scrollRestoration="manual");let t=null;window.addEventListener("scroll",r=>{clearTimeout(t),t=setTimeout(()=>{Xe.updateCurrentState(e=>Object.assign(e,{scroll:window.scrollY}))},100)}),window.addEventListener("popstate",r=>{if(!this.registerNewLocation(window.location))return;let{type:e,id:n,root:i,scroll:a}=r.state||{},o=window.location.href;this.requestDOMUpdate(()=>{this.main.isConnected()&&e==="patch"&&n===this.main.id?this.main.pushLinkPatch(o,null):this.replaceMain(o,null,()=>{i&&this.replaceRootHistory(),typeof a=="number"&&setTimeout(()=>{window.scrollTo(0,a)},0)})})},!1),window.addEventListener("click",r=>{let e=dt(r.target,qt),n=e&&e.getAttribute(qt),i=r.metaKey||r.ctrlKey||r.button===1;if(!n||!this.isConnected()||!this.main||i)return;let a=e.href,o=e.getAttribute(Hr);r.preventDefault(),r.stopImmediatePropagation(),this.pendingLink!==a&&this.requestDOMUpdate(()=>{if(n==="patch")this.pushHistoryPatch(a,o,e);else if(n==="redirect")this.historyRedirect(a,o);else throw new Error(`expected ${qt} to be "patch" or "redirect", got: ${n}`)})},!1)}dispatchEvent(t,r={}){$.dispatchEvent(window,`phx:${t}`,{detail:r})}dispatchEvents(t){t.forEach(([r,e])=>this.dispatchEvent(r,e))}withPageLoading(t,r){$.dispatchEvent(window,"phx:page-loading-start",{detail:t});let e=()=>$.dispatchEvent(window,"phx:page-loading-stop",{detail:t});return r?r(e):e}pushHistoryPatch(t,r,e){this.withPageLoading({to:t,kind:"patch"},n=>{this.main.pushLinkPatch(t,e,i=>{this.historyPatch(t,r,i),n()})})}historyPatch(t,r,e=this.setPendingLink(t)){!this.commitPendingLink(e)||(Xe.pushState(r,{type:"patch",id:this.main.id},t),this.registerNewLocation(window.location))}historyRedirect(t,r,e){let n=window.scrollY;this.withPageLoading({to:t,kind:"redirect"},i=>{this.replaceMain(t,e,()=>{Xe.pushState(r,{type:"redirect",id:this.main.id,scroll:n},t),this.registerNewLocation(window.location),i()})})}replaceRootHistory(){Xe.pushState("replace",{root:!0,type:"patch",id:this.main.id})}registerNewLocation(t){let{pathname:r,search:e}=this.currentLocation;return r+e===t.pathname+t.search?!1:(this.currentLocation=Mt(t),!0)}bindForms(){let t=0;this.on("submit",r=>{let e=r.target.getAttribute(this.binding("submit"));!e||(r.preventDefault(),r.target.disabled=!0,this.withinOwners(r.target,n=>{Pe.exec("submit",e,n,r.target,["push",{}])}))},!1);for(let r of["change","input"])this.on(r,e=>{let n=this.binding("change"),i=e.target,a=i.getAttribute(n),o=i.form&&i.form.getAttribute(n),s=a||o;if(!s||i.type==="number"&&i.validity&&i.validity.badInput)return;let l=a?i:i.form,u=t;t++;let{at:c,type:d}=$.private(i,"prev-iteration")||{};c===u-1&&r!==d||($.putPrivate(i,"prev-iteration",{at:u,type:r}),this.debounce(i,e,r,()=>{this.withinOwners(l,f=>{$.putPrivate(i,nr,!0),$.isTextualInput(i)||this.setActiveElement(i),Pe.exec("change",s,f,i,["push",{_target:e.target.name,dispatcher:l}])})}))},!1)}debounce(t,r,e,n){if(e==="blur"||e==="focusout")return n();let i=this.binding(Wr),a=this.binding($r),o=this.defaults.debounce.toString(),s=this.defaults.throttle.toString();this.withinOwners(t,l=>{let u=()=>!l.isDestroyed()&&document.body.contains(t);$.debounce(t,r,i,o,a,s,u,()=>{n()})})}silenceEvents(t){this.silenced=!0,t(),this.silenced=!1}on(t,r){window.addEventListener(t,e=>{this.silenced||r(e)})}},Ei=class{constructor(){this.transitions=new Set,this.pendingOps=[],this.reset()}reset(){this.transitions.forEach(t=>{cancelTimeout(t),this.transitions.delete(t)}),this.flushPendingOps()}after(t){this.size()===0?t():this.pushPendingOp(t)}addTransition(t,r,e){r();let n=setTimeout(()=>{this.transitions.delete(n),e(),this.size()===0&&this.flushPendingOps()},t);this.transitions.add(n)}pushPendingOp(t){this.pendingOps.push(t)}size(){return this.transitions.size}flushPendingOps(){this.pendingOps.forEach(t=>t()),this.pendingOps=[]}};var pt=t=>typeof t=="function"?t:function(){return t},Ci=typeof self<"u"?self:null,ht=typeof window<"u"?window:null,gt=Ci||ht||gt,_i="2.0.0",De={connecting:0,open:1,closing:2,closed:3},Bi=1e4,Oi=1e3,_e={closed:"closed",errored:"errored",joined:"joined",joining:"joining",leaving:"leaving"},Ve={close:"phx_close",error:"phx_error",join:"phx_join",reply:"phx_reply",leave:"phx_leave"},fn={longpoll:"longpoll",websocket:"websocket"},Ii={complete:4},Pt=class{constructor(t,r,e,n){this.channel=t,this.event=r,this.payload=e||function(){return{}},this.receivedResp=null,this.timeout=n,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}resend(t){this.timeout=t,this.reset(),this.send()}send(){this.hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload(),ref:this.ref,join_ref:this.channel.joinRef()}))}receive(t,r){return this.hasReceived(t)&&r(this.receivedResp.response),this.recHooks.push({status:t,callback:r}),this}reset(){this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1}matchReceive({status:t,response:r,_ref:e}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}cancelRefEvent(){!this.refEvent||this.channel.off(this.refEvent)}cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}startTimeout(){this.timeoutTimer&&this.cancelTimeout(),this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,t=>{this.cancelRefEvent(),this.cancelTimeout(),this.receivedResp=t,this.matchReceive(t)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}trigger(t,r){this.channel.trigger(this.refEvent,{status:t,response:r})}},lr=class{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=null,this.tries=0}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}},Ai=class{constructor(t,r,e){this.state=_e.closed,this.topic=t,this.params=pt(r||{}),this.socket=e,this.bindings=[],this.bindingRef=0,this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new Pt(this,Ve.join,this.params,this.timeout),this.pushBuffer=[],this.stateChangeRefs=[],this.rejoinTimer=new lr(()=>{this.socket.isConnected()&&this.rejoin()},this.socket.rejoinAfterMs),this.stateChangeRefs.push(this.socket.onError(()=>this.rejoinTimer.reset())),this.stateChangeRefs.push(this.socket.onOpen(()=>{this.rejoinTimer.reset(),this.isErrored()&&this.rejoin()})),this.joinPush.receive("ok",()=>{this.state=_e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this.joinPush.receive("error",()=>{this.state=_e.errored,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.hasLogger()&&this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=_e.closed,this.socket.remove(this)}),this.onError(n=>{this.socket.hasLogger()&&this.socket.log("channel",`error ${this.topic}`,n),this.isJoining()&&this.joinPush.reset(),this.state=_e.errored,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.joinPush.receive("timeout",()=>{this.socket.hasLogger()&&this.socket.log("channel",`timeout ${this.topic} (${this.joinRef()})`,this.joinPush.timeout),new Pt(this,Ve.leave,pt({}),this.timeout).send(),this.state=_e.errored,this.joinPush.reset(),this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.on(Ve.reply,(n,i)=>{this.trigger(this.replyEventName(i),n)})}join(t=this.timeout){if(this.joinedOnce)throw new Error("tried to join multiple times. 'join' can only be called a single time per channel instance");return this.timeout=t,this.joinedOnce=!0,this.rejoin(),this.joinPush}onClose(t){this.on(Ve.close,t)}onError(t){return this.on(Ve.error,r=>t(r))}on(t,r){let e=this.bindingRef++;return this.bindings.push({event:t,ref:e,callback:r}),e}off(t,r){this.bindings=this.bindings.filter(e=>!(e.event===t&&(typeof r>"u"||r===e.ref)))}canPush(){return this.socket.isConnected()&&this.isJoined()}push(t,r,e=this.timeout){if(r=r||{},!this.joinedOnce)throw new Error(`tried to push '${t}' to '${this.topic}' before joining. Use channel.join() before pushing events`);let n=new Pt(this,t,function(){return r},e);return this.canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}leave(t=this.timeout){this.rejoinTimer.reset(),this.joinPush.cancelTimeout(),this.state=_e.leaving;let r=()=>{this.socket.hasLogger()&&this.socket.log("channel",`leave ${this.topic}`),this.trigger(Ve.close,"leave")},e=new Pt(this,Ve.leave,pt({}),t);return e.receive("ok",()=>r()).receive("timeout",()=>r()),e.send(),this.canPush()||e.trigger("ok",{}),e}onMessage(t,r,e){return r}isMember(t,r,e,n){return this.topic!==t?!1:n&&n!==this.joinRef()?(this.socket.hasLogger()&&this.socket.log("channel","dropping outdated message",{topic:t,event:r,payload:e,joinRef:n}),!1):!0}joinRef(){return this.joinPush.ref}rejoin(t=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=_e.joining,this.joinPush.resend(t))}trigger(t,r,e,n){let i=this.onMessage(t,r,e,n);if(r&&!i)throw new Error("channel onMessage callbacks must return the payload, modified or unmodified");let a=this.bindings.filter(o=>o.event===t);for(let o=0;o<a.length;o++)a[o].callback(i,e,n||this.joinRef())}replyEventName(t){return`chan_reply_${t}`}isClosed(){return this.state===_e.closed}isErrored(){return this.state===_e.errored}isJoined(){return this.state===_e.joined}isJoining(){return this.state===_e.joining}isLeaving(){return this.state===_e.leaving}},Dt=class{static request(t,r,e,n,i,a,o){if(gt.XDomainRequest){let s=new gt.XDomainRequest;return this.xdomainRequest(s,t,r,n,i,a,o)}else{let s=new gt.XMLHttpRequest;return this.xhrRequest(s,t,r,e,n,i,a,o)}}static xdomainRequest(t,r,e,n,i,a,o){return t.timeout=i,t.open(r,e),t.onload=()=>{let s=this.parseJSON(t.responseText);o&&o(s)},a&&(t.ontimeout=a),t.onprogress=()=>{},t.send(n),t}static xhrRequest(t,r,e,n,i,a,o,s){return t.open(r,e,!0),t.timeout=a,t.setRequestHeader("Content-Type",n),t.onerror=()=>s&&s(null),t.onreadystatechange=()=>{if(t.readyState===Ii.complete&&s){let l=this.parseJSON(t.responseText);s(l)}},o&&(t.ontimeout=o),t.send(i),t}static parseJSON(t){if(!t||t==="")return null;try{return JSON.parse(t)}catch{return console&&console.log("failed to parse JSON response",t),null}}static serialize(t,r){let e=[];for(var n in t){if(!Object.prototype.hasOwnProperty.call(t,n))continue;let i=r?`${r}[${n}]`:n,a=t[n];typeof a=="object"?e.push(this.serialize(a,i)):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a))}return e.join("&")}static appendParams(t,r){if(Object.keys(r).length===0)return t;let e=t.match(/\?/)?"&":"?";return`${t}${e}${this.serialize(r)}`}},dn=class{constructor(t){this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.reqs=new Set,this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(t),this.readyState=De.connecting,this.poll()}normalizeEndpoint(t){return t.replace("ws://","http://").replace("wss://","https://").replace(new RegExp("(.*)/"+fn.websocket),"$1/"+fn.longpoll)}endpointURL(){return Dt.appendParams(this.pollEndpoint,{token:this.token})}closeAndRetry(t,r,e){this.close(t,r,e),this.readyState=De.connecting}ontimeout(){this.onerror("timeout"),this.closeAndRetry(1005,"timeout",!1)}isActive(){return this.readyState===De.open||this.readyState===De.connecting}poll(){this.ajax("GET",null,()=>this.ontimeout(),t=>{if(t){var{status:r,token:e,messages:n}=t;this.token=e}else r=0;switch(r){case 200:n.forEach(i=>{setTimeout(()=>this.onmessage({data:i}),0)}),this.poll();break;case 204:this.poll();break;case 410:this.readyState=De.open,this.onopen({}),this.poll();break;case 403:this.onerror(403),this.close(1008,"forbidden",!1);break;case 0:case 500:this.onerror(500),this.closeAndRetry(1011,"internal server error",500);break;default:throw new Error(`unhandled poll status ${r}`)}})}send(t){this.ajax("POST",t,()=>this.onerror("timeout"),r=>{(!r||r.status!==200)&&(this.onerror(r&&r.status),this.closeAndRetry(1011,"internal server error",!1))})}close(t,r,e){for(let i of this.reqs)i.abort();this.readyState=De.closed;let n=Object.assign({code:1e3,reason:void 0,wasClean:!0},{code:t,reason:r,wasClean:e});typeof CloseEvent<"u"?this.onclose(new CloseEvent("close",n)):this.onclose(n)}ajax(t,r,e,n){let i,a=()=>{this.reqs.delete(i),e()};i=Dt.request(t,this.endpointURL(),"application/json",r,this.timeout,a,o=>{this.reqs.delete(i),this.isActive()&&n(o)}),this.reqs.add(i)}};var Nt={HEADER_LENGTH:1,META_LENGTH:4,KINDS:{push:0,reply:1,broadcast:2},encode(t,r){if(t.payload.constructor===ArrayBuffer)return r(this.binaryEncode(t));{let e=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(e))}},decode(t,r){if(t.constructor===ArrayBuffer)return r(this.binaryDecode(t));{let[e,n,i,a,o]=JSON.parse(t);return r({join_ref:e,ref:n,topic:i,event:a,payload:o})}},binaryEncode(t){let{join_ref:r,ref:e,event:n,topic:i,payload:a}=t,o=this.META_LENGTH+r.length+e.length+i.length+n.length,s=new ArrayBuffer(this.HEADER_LENGTH+o),l=new DataView(s),u=0;l.setUint8(u++,this.KINDS.push),l.setUint8(u++,r.length),l.setUint8(u++,e.length),l.setUint8(u++,i.length),l.setUint8(u++,n.length),Array.from(r,d=>l.setUint8(u++,d.charCodeAt(0))),Array.from(e,d=>l.setUint8(u++,d.charCodeAt(0))),Array.from(i,d=>l.setUint8(u++,d.charCodeAt(0))),Array.from(n,d=>l.setUint8(u++,d.charCodeAt(0)));var c=new Uint8Array(s.byteLength+a.byteLength);return c.set(new Uint8Array(s),0),c.set(new Uint8Array(a),s.byteLength),c.buffer},binaryDecode(t){let r=new DataView(t),e=r.getUint8(0),n=new TextDecoder;switch(e){case this.KINDS.push:return this.decodePush(t,r,n);case this.KINDS.reply:return this.decodeReply(t,r,n);case this.KINDS.broadcast:return this.decodeBroadcast(t,r,n)}},decodePush(t,r,e){let n=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),o=this.HEADER_LENGTH+this.META_LENGTH-1,s=e.decode(t.slice(o,o+n));o=o+n;let l=e.decode(t.slice(o,o+i));o=o+i;let u=e.decode(t.slice(o,o+a));o=o+a;let c=t.slice(o,t.byteLength);return{join_ref:s,ref:null,topic:l,event:u,payload:c}},decodeReply(t,r,e){let n=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4),s=this.HEADER_LENGTH+this.META_LENGTH,l=e.decode(t.slice(s,s+n));s=s+n;let u=e.decode(t.slice(s,s+i));s=s+i;let c=e.decode(t.slice(s,s+a));s=s+a;let d=e.decode(t.slice(s,s+o));s=s+o;let f=t.slice(s,t.byteLength),g={status:d,response:f};return{join_ref:l,ref:u,topic:c,event:Ve.reply,payload:g}},decodeBroadcast(t,r,e){let n=r.getUint8(1),i=r.getUint8(2),a=this.HEADER_LENGTH+2,o=e.decode(t.slice(a,a+n));a=a+n;let s=e.decode(t.slice(a,a+i));a=a+i;let l=t.slice(a,t.byteLength);return{join_ref:null,ref:null,topic:o,event:s,payload:l}}},cr=class{constructor(t,r={}){this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=r.timeout||Bi,this.transport=r.transport||gt.WebSocket||dn,this.establishedConnections=0,this.defaultEncoder=Nt.encode.bind(Nt),this.defaultDecoder=Nt.decode.bind(Nt),this.closeWasClean=!1,this.binaryType=r.binaryType||"arraybuffer",this.connectClock=1,this.transport!==dn?(this.encode=r.encode||this.defaultEncoder,this.decode=r.decode||this.defaultDecoder):(this.encode=this.defaultEncoder,this.decode=this.defaultDecoder);let e=null;ht&&ht.addEventListener&&(ht.addEventListener("pagehide",n=>{this.conn&&(this.disconnect(),e=this.connectClock)}),ht.addEventListener("pageshow",n=>{e===this.connectClock&&(e=null,this.connect())})),this.heartbeatIntervalMs=r.heartbeatIntervalMs||3e4,this.rejoinAfterMs=n=>r.rejoinAfterMs?r.rejoinAfterMs(n):[1e3,2e3,5e3][n-1]||1e4,this.reconnectAfterMs=n=>r.reconnectAfterMs?r.reconnectAfterMs(n):[10,50,100,150,200,250,500,1e3,2e3][n-1]||5e3,this.logger=r.logger||null,this.longpollerTimeout=r.longpollerTimeout||2e4,this.params=pt(r.params||{}),this.endPoint=`${t}/${fn.websocket}`,this.vsn=r.vsn||_i,this.heartbeatTimer=null,this.pendingHeartbeatRef=null,this.reconnectTimer=new lr(()=>{this.teardown(()=>this.connect())},this.reconnectAfterMs)}getLongPollTransport(){return dn}replaceTransport(t){this.connectClock++,this.closeWasClean=!0,this.reconnectTimer.reset(),this.sendBuffer=[],this.conn&&(this.conn.close(),this.conn=null),this.transport=t}protocol(){return location.protocol.match(/^https/)?"wss":"ws"}endPointURL(){let t=Dt.appendParams(Dt.appendParams(this.endPoint,this.params()),{vsn:this.vsn});return t.charAt(0)!=="/"?t:t.charAt(1)==="/"?`${this.protocol()}:${t}`:`${this.protocol()}://${location.host}${t}`}disconnect(t,r,e){this.connectClock++,this.closeWasClean=!0,this.reconnectTimer.reset(),this.teardown(t,r,e)}connect(t){t&&(console&&console.log("passing params to connect is deprecated. Instead pass :params to the Socket constructor"),this.params=pt(t)),!this.conn&&(this.connectClock++,this.closeWasClean=!1,this.conn=new this.transport(this.endPointURL()),this.conn.binaryType=this.binaryType,this.conn.timeout=this.longpollerTimeout,this.conn.onopen=()=>this.onConnOpen(),this.conn.onerror=r=>this.onConnError(r),this.conn.onmessage=r=>this.onConnMessage(r),this.conn.onclose=r=>this.onConnClose(r))}log(t,r,e){this.logger(t,r,e)}hasLogger(){return this.logger!==null}onOpen(t){let r=this.makeRef();return this.stateChangeCallbacks.open.push([r,t]),r}onClose(t){let r=this.makeRef();return this.stateChangeCallbacks.close.push([r,t]),r}onError(t){let r=this.makeRef();return this.stateChangeCallbacks.error.push([r,t]),r}onMessage(t){let r=this.makeRef();return this.stateChangeCallbacks.message.push([r,t]),r}ping(t){if(!this.isConnected())return!1;let r=this.makeRef(),e=Date.now();this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:r});let n=this.onMessage(i=>{i.ref===r&&(this.off([n]),t(Date.now()-e))});return!0}onConnOpen(){this.hasLogger()&&this.log("transport",`connected to ${this.endPointURL()}`),this.closeWasClean=!1,this.establishedConnections++,this.flushSendBuffer(),this.reconnectTimer.reset(),this.resetHeartbeat(),this.stateChangeCallbacks.open.forEach(([,t])=>t())}heartbeatTimeout(){this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null,this.hasLogger()&&this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.abnormalClose("heartbeat timeout"))}resetHeartbeat(){this.conn&&this.conn.skipHeartbeat||(this.pendingHeartbeatRef=null,clearTimeout(this.heartbeatTimer),setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs))}teardown(t,r,e){if(!this.conn)return t&&t();this.waitForBufferDone(()=>{this.conn&&(r?this.conn.close(r,e||""):this.conn.close()),this.waitForSocketClosed(()=>{this.conn&&(this.conn.onclose=function(){},this.conn=null),t&&t()})})}waitForBufferDone(t,r=1){if(r===5||!this.conn||!this.conn.bufferedAmount){t();return}setTimeout(()=>{this.waitForBufferDone(t,r+1)},150*r)}waitForSocketClosed(t,r=1){if(r===5||!this.conn||this.conn.readyState===De.closed){t();return}setTimeout(()=>{this.waitForSocketClosed(t,r+1)},150*r)}onConnClose(t){let r=t&&t.code;this.hasLogger()&&this.log("transport","close",t),this.triggerChanError(),clearTimeout(this.heartbeatTimer),!this.closeWasClean&&r!==1e3&&this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(([,e])=>e(t))}onConnError(t){this.hasLogger()&&this.log("transport",t);let r=this.transport,e=this.establishedConnections;this.stateChangeCallbacks.error.forEach(([,n])=>{n(t,r,e)}),(r===this.transport||e>0)&&this.triggerChanError()}triggerChanError(){this.channels.forEach(t=>{t.isErrored()||t.isLeaving()||t.isClosed()||t.trigger(Ve.error)})}connectionState(){switch(this.conn&&this.conn.readyState){case De.connecting:return"connecting";case De.open:return"open";case De.closing:return"closing";default:return"closed"}}isConnected(){return this.connectionState()==="open"}remove(t){this.off(t.stateChangeRefs),this.channels=this.channels.filter(r=>r.joinRef()!==t.joinRef())}off(t){for(let r in this.stateChangeCallbacks)this.stateChangeCallbacks[r]=this.stateChangeCallbacks[r].filter(([e])=>t.indexOf(e)===-1)}channel(t,r={}){let e=new Ai(t,r,this);return this.channels.push(e),e}push(t){if(this.hasLogger()){let{topic:r,event:e,payload:n,ref:i,join_ref:a}=t;this.log("push",`${r} ${e} (${a}, ${i})`,n)}this.isConnected()?this.encode(t,r=>this.conn.send(r)):this.sendBuffer.push(()=>this.encode(t,r=>this.conn.send(r)))}makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}sendHeartbeat(){this.pendingHeartbeatRef&&!this.isConnected()||(this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatTimer=setTimeout(()=>this.heartbeatTimeout(),this.heartbeatIntervalMs))}abnormalClose(t){this.closeWasClean=!1,this.isConnected()&&this.conn.close(Oi,t)}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}onConnMessage(t){this.decode(t.data,r=>{let{topic:e,event:n,payload:i,ref:a,join_ref:o}=r;a&&a===this.pendingHeartbeatRef&&(clearTimeout(this.heartbeatTimer),this.pendingHeartbeatRef=null,setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)),this.hasLogger()&&this.log("receive",`${i.status||""} ${e} ${n} ${a&&"("+a+")"||""}`,i);for(let s=0;s<this.channels.length;s++){let l=this.channels[s];!l.isMember(e,n,i,o)||l.trigger(n,i,a,o)}for(let s=0;s<this.stateChangeCallbacks.message.length;s++){let[,l]=this.stateChangeCallbacks.message[s];l(r)}})}leaveOpenTopic(t){let r=this.channels.find(e=>e.topic===t&&(e.isJoined()||e.isJoining()));r&&(this.hasLogger()&&this.log("transport",`leaving duplicate topic "${t}"`),r.leave())}};var mr=it(ur()),yr=it(dr()),br=it(fr()),kr=it(hr()),xr=it(vr()),Ri=document.querySelector("meta[name='csrf-token']").getAttribute("content");if(element=document.getElementById("editorjs")){let t=new mr.default({tools:{header:yr.default,image:{class:br.default,config:{additionalRequestHeaders:{"X-CSRF-TOKEN":Ri},endpoints:{byFile:`${window.location.href}/upload-file`,byURL:`${window.location.href}/fetch-url`}}},list:kr.default},data:JSON.parse(element.dataset.postData||"{}")}),r=document.querySelector("form"),e=document.querySelector("#post_params_editor_json"),n=document.querySelector("#post_params_html");r.addEventListener("submit",i=>{i.preventDefault(),t.save().then(a=>{e.value=JSON.stringify(a),n.value=(0,xr.default)().parse(a),r.submit()}).catch(a=>{console.error("Saving failed: ",a)})})}var Mi=document.querySelector("meta[name='csrf-token']").getAttribute("content"),wr=new sr("/live",cr,{params:{_csrf_token:Mi}});wr.connect();window.liveSocket=wr;})();
/*! For license information please see editor.js.LICENSE.txt */
/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */
/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js — main Tool's interface, public API and methods for working with data
 *  2) uploader.js — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js — module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */
